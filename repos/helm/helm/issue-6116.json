{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "**Describe the bug**\r\nWe have the following example values.yaml file for helm chart:\r\n```\r\ndashboards:\r\n clustersmonitoringjson:\r\n   {\r\n\r\n         \"select\": [\r\n            [\r\n              {\r\n                \"params\": [\r\n                  \"status\"\r\n                ],\r\n                \"type\": \"field\"\r\n              }\r\n            ]\r\n         ]\r\n    }\r\n```\r\nIf I want to pass them through `helm template  --set` command stack overflow error is thrown.\r\n\r\nHelm command:\r\n```\r\nhelm template . --namespace default --set dashboards.clustersmonitoringjson.select[0][0].params[0]=status --set dashboards.clustersmonitoringjson.select[0][0].type=field --name helmguestbook\r\n```\r\nError thrown:\r\n\r\n```\r\nruntime: goroutine stack exceeds 1000000000-byte limit\\nfatal error: stack overflow\\n\\nruntime stack:\\nruntime.throw(0x16a2c72, 0xe)\\n\\t/usr/local/go/src/runtime/panic.go:608 +0x72\\nruntime.newstack()\\n\\t/usr/local/go/src/runtime/stack.go:1008 +0x729\\nruntime.morestack()\\n\\t/usr/local/go/src/runtime/asm_amd64.s:429 +0x8f\\n\\ngoroutine 1 [running]:\\nruntime.efaceeq(0x1660160, 0x141ad00, 0x141ad00, 0x0)\\n\\t/usr/local/go/src/runtime/alg.go:218 +0x131 fp=0xc0209b0358 sp=0xc0209b0350 pc=0x403631\\nruntime.nilinterequal(0xc0209b0448, 0xc00047e848, 0xc5b27c6c1b7408fc)\\n\\t/usr/local/go/src/runtime/alg.go:216 +0x5d fp=0xc0209b0388 sp=0xc0209b0358 pc=0x4034ed\\nruntime.mapaccess2(0x14a80a0, 0xc000509530, 0xc0209b0448, 0x0, 0x0)\\n\\t/usr/local/go/src/runtime/map.go:479 +0x146 fp=0xc0209b03d0 sp=0xc0209b0388 pc=0x40d646\\nsync.(*Map).Load(0x2729c00, 0x1660160, 0x141ad\r\n```\r\n\r\nIt can be tested with any chart. This error does not depend on the chart itself.\r\nThe issue is not reproducible if parameters are separated by commas in one --set parameters. \r\n\r\n",
  "closed_at": "2020-07-07T18:19:03Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/6116/comments",
  "created_at": "2019-07-30T14:37:43Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/6116/events",
  "html_url": "https://github.com/helm/helm/issues/6116",
  "id": 474624749,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 778135666,
      "name": "bug",
      "node_id": "MDU6TGFiZWw3NzgxMzU2NjY=",
      "url": "https://api.github.com/repos/helm/helm/labels/bug"
    },
    {
      "color": "8c49d8",
      "default": false,
      "description": "Issues and Pull Requests related to the major version v2",
      "id": 1580151847,
      "name": "v2.x",
      "node_id": "MDU6TGFiZWwxNTgwMTUxODQ3",
      "url": "https://api.github.com/repos/helm/helm/labels/v2.x"
    },
    {
      "color": "e82969",
      "default": false,
      "description": "Issues and Pull Requests related to the major version v3",
      "id": 926755770,
      "name": "v3.x",
      "node_id": "MDU6TGFiZWw5MjY3NTU3NzA=",
      "url": "https://api.github.com/repos/helm/helm/labels/v3.x"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/6116/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NzQ2MjQ3NDk=",
  "number": 6116,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Helm template throws stack overflow error",
  "updated_at": "2020-07-07T18:19:03Z",
  "url": "https://api.github.com/repos/helm/helm/issues/6116",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/20355672?v=4",
    "events_url": "https://api.github.com/users/dimitarKiryakov/events{/privacy}",
    "followers_url": "https://api.github.com/users/dimitarKiryakov/followers",
    "following_url": "https://api.github.com/users/dimitarKiryakov/following{/other_user}",
    "gists_url": "https://api.github.com/users/dimitarKiryakov/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dimitarKiryakov",
    "id": 20355672,
    "login": "dimitarKiryakov",
    "node_id": "MDQ6VXNlcjIwMzU1Njcy",
    "organizations_url": "https://api.github.com/users/dimitarKiryakov/orgs",
    "received_events_url": "https://api.github.com/users/dimitarKiryakov/received_events",
    "repos_url": "https://api.github.com/users/dimitarKiryakov/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dimitarKiryakov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dimitarKiryakov/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dimitarKiryakov"
  }
}
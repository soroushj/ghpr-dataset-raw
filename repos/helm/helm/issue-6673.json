{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "`pkg/chartutil/errors.go` has a recursion bug which results in a stack overflow when trying to serialize the value of the error:\r\n\r\nhttps://github.com/helm/helm/blob/dev-v3/pkg/chartutil/errors.go#L26\r\n\r\nIf you attempt to render one of these Errors, you'll get a stack overflow. I have proposed a unit test in #6672 which demonstrates the stack overflow.\r\n\r\nExcerpt of logs:\r\n\r\n```\r\ngoroutine 179 [running]:\r\nruntime.heapBitsSetType(0xc006dd8750, 0xd0, 0xc8, 0x110f540)\r\n\t/usr/local/go/src/runtime/mbitmap.go:938 +0xa4e fp=0xc02055a3a0 sp=0xc02055a398 pc=0x41823e\r\nruntime.mallocgc(0xd0, 0x110f540, 0x1, 0x0)\r\n\t/usr/local/go/src/runtime/malloc.go:1052 +0x53e fp=0xc02055a440 sp=0xc02055a3a0 pc=0x40dfde\r\nruntime.newobject(0x110f540, 0xc02055a518)\r\n\t/usr/local/go/src/runtime/malloc.go:1151 +0x38 fp=0xc02055a470 sp=0xc02055a440 pc=0x40e628\r\nfmt.glob..func1(0x1b25100, 0x0)\r\n\t/usr/local/go/src/fmt/print.go:132 +0x2d fp=0xc02055a490 sp=0xc02055a470 pc=0x4e372d\r\nsync.(*Pool).Get(0x1b25100, 0xc000177c00, 0x7fdec8505008)\r\n\t/usr/local/go/src/sync/pool.go:148 +0xa6 fp=0xc02055a4d8 sp=0xc02055a490 pc=0x46e6a6\r\nfmt.newPrinter(0x0)\r\n\t/usr/local/go/src/fmt/print.go:137 +0x31 fp=0xc02055a500 sp=0xc02055a4d8 pc=0x4d5471\r\nfmt.Sprintf(0x119495e, 0x11, 0xc02055a590, 0x1, 0x1, 0x10717c0, 0x42fb0a)\r\n\t/usr/local/go/src/fmt/print.go:218 +0x26 fp=0xc02055a558 sp=0xc02055a500 pc=0x4d5a36\r\nhelm.sh/helm/v3/pkg/chartutil.ErrNoTable.Error(...)\r\n\t/home/circleci/helm.sh/helm/pkg/chartutil/errors.go:26\r\nhelm.sh/helm/v3/pkg/chartutil.(*ErrNoTable).Error(0xc006dc3af0, 0x104ea40, 0xc006dc3af0)\r\n\t<autogenerated>:1 +0xb4 fp=0xc02055a5b0 sp=0xc02055a558 pc=0xf95274\r\nfmt.(*pp).handleMethods(0xc006dd8680, 0x71, 0xc02055a801)\r\n\t/usr/local/go/src/fmt/print.go:624 +0x1db fp=0xc02055a7c0 sp=0xc02055a5b0 pc=0x4d8aeb\r\nfmt.(*pp).printArg(0xc006dd8680, 0x104ea40, 0xc006dc3af0, 0xc000000071)\r\n\t/usr/local/go/src/fmt/print.go:713 +0x206 fp=0xc02055a858 sp=0xc02055a7c0 pc=0x4d91d6\r\nfmt.(*pp).doPrintf(0xc006dd8680, 0x119495e, 0x11, 0xc02055a9d0, 0x1, 0x1)\r\n\t/usr/local/go/src/fmt/print.go:1030 +0x15b fp=0xc02055a940 sp=0xc02055a858 pc=0x4dcb9b\r\nfmt.Sprintf(0x119495e, 0x11, 0xc02055a9d0, 0x1, 0x1, 0x10717c0, 0x42fb0a)\r\n\t/usr/local/go/src/fmt/print.go:219 +0x66 fp=0xc02055a998 sp=0xc02055a940 pc=0x4d5a76\r\nhelm.sh/helm/v3/pkg/chartutil.ErrNoTable.Error(...)\r\n\t/home/circleci/helm.sh/helm/pkg/chartutil/errors.go:26\r\nhelm.sh/helm/v3/pkg/chartutil.(*ErrNoTable).Error(0xc006dc3ae0, 0x104ea40, 0xc006dc3ae0)\r\n\t<autogenerated>:1 +0xb4 fp=0xc02055a9f0 sp=0xc02055a998 pc=0xf95274\r\nfmt.(*pp).handleMethods(0xc006dd85b0, 0x71, 0xc02055ac01)\r\n\t/usr/local/go/src/fmt/print.go:624 +0x1db fp=0xc02055ac00 sp=0xc02055a9f0 pc=0x4d8aeb\r\nfmt.(*pp).printArg(0xc006dd85b0, 0x104ea40, 0xc006dc3ae0, 0xc000000071)\r\n\t/usr/local/go/src/fmt/print.go:713 +0x206 fp=0xc02055ac98 sp=0xc02055ac00 pc=0x4d91d6\r\nfmt.(*pp).doPrintf(0xc006dd85b0, 0x119495e, 0x11, 0xc02055ae10, 0x1, 0x1)\r\n\t/usr/local/go/src/fmt/print.go:1030 +0x15b fp=0xc02055ad80 sp=0xc02055ac98 pc=0x4dcb9b\r\nfmt.Sprintf(0x119495e, 0x11, 0xc02055ae10, 0x1, 0x1, 0x10717c0, 0x42fb0a)\r\n\t/usr/local/go/src/fmt/print.go:219 +0x66 fp=0xc02055add8 sp=0xc02055ad80 pc=0x4d5a76\r\nhelm.sh/helm/v3/pkg/chartutil.ErrNoTable.Error(...)\r\n\t/home/circleci/helm.sh/helm/pkg/chartutil/errors.go:26\r\n```\r\n\r\nOutput of `helm version`:\r\ndev-v3 (Beta 4)\r\n\r\nOutput of `kubectl version`:\r\nN/A\r\n\r\nCloud Provider/Platform (AKS, GKE, Minikube etc.): \r\nN/A\r\n\r\n",
  "closed_at": "2019-10-16T14:50:55Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/6673/comments",
  "created_at": "2019-10-15T20:23:49Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/6673/events",
  "html_url": "https://github.com/helm/helm/issues/6673",
  "id": 507463152,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 778135666,
      "name": "bug",
      "node_id": "MDU6TGFiZWw3NzgxMzU2NjY=",
      "url": "https://api.github.com/repos/helm/helm/labels/bug"
    },
    {
      "color": "e82969",
      "default": false,
      "description": "Issues and Pull Requests related to the major version v3",
      "id": 926755770,
      "name": "v3.x",
      "node_id": "MDU6TGFiZWw5MjY3NTU3NzA=",
      "url": "https://api.github.com/repos/helm/helm/labels/v3.x"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/6673/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MDc0NjMxNTI=",
  "number": 6673,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Stack overflow in pkg/chartutil/errors.go",
  "updated_at": "2019-10-16T14:50:55Z",
  "url": "https://api.github.com/repos/helm/helm/issues/6673",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/730664?v=4",
    "events_url": "https://api.github.com/users/kenperkins/events{/privacy}",
    "followers_url": "https://api.github.com/users/kenperkins/followers",
    "following_url": "https://api.github.com/users/kenperkins/following{/other_user}",
    "gists_url": "https://api.github.com/users/kenperkins/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kenperkins",
    "id": 730664,
    "login": "kenperkins",
    "node_id": "MDQ6VXNlcjczMDY2NA==",
    "organizations_url": "https://api.github.com/users/kenperkins/orgs",
    "received_events_url": "https://api.github.com/users/kenperkins/received_events",
    "repos_url": "https://api.github.com/users/kenperkins/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kenperkins/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kenperkins/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kenperkins"
  }
}
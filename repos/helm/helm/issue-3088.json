{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "running ```helm search local/foo --versions``` fails when any of the versions contains upper case characters in the prerelease identifier.\r\n\r\nTo reproduce, use the following index.yaml:\r\n```yaml\r\napiVersion: v1\r\nentries:\r\n  foo:\r\n  - created: 2017-10-05T14:09:16.836314814-04:00\r\n    description: Sample\r\n    digest: cc33d14057547854591b210b920dd67647690b6ee731a89f36d135fcc99f490f\r\n    name: foo\r\n    urls:\r\n    - http://localhost:8879/foo-16.0.0-Alpha.tgz\r\n    version: 16.0.0-Alpha    \r\n  - created: 2017-10-05T14:09:16.836314814-04:00\r\n    description: Sample\r\n    digest: cc33d14057547854591b210b920dd67647690b6ee731a89f36d135fcc99f490f\r\n    name: foo\r\n    urls:\r\n    - http://localhost:8879/foo-16.0.0-Beta.tgz\r\n    version: 16.0.0-Beta       \r\ngenerated: 2017-11-02T10:25:46.654821464-04:00\r\n```\r\n\r\nRunning ```helm search local/foo --versions``` gives the following:\r\n```\r\n$ helm search local/foo --versions\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal 0xc0000005 code=0x0 addr=0x0 pc=0x1340ebf]\r\n\r\ngoroutine 1 [running]:\r\nk8s.io/helm/cmd/helm/search.scoreSorter.Less(0xc0427709c0, 0x2, 0x2, 0x1, 0x0, 0x20)\r\n        /go/src/k8s.io/helm/cmd/helm/search/search.go:217 +0xff\r\nk8s.io/helm/cmd/helm/search.(*scoreSorter).Less(0xc04308dea0, 0x1, 0x0, 0x18)\r\n        <autogenerated>:3 +0x7a\r\nsort.insertionSort(0x205aa60, 0xc04308dea0, 0x0, 0x2)\r\n        /usr/local/go/src/sort/sort.go:29 +0x78\r\nsort.quickSort(0x205aa60, 0xc04308dea0, 0x0, 0x2, 0x4)\r\n        /usr/local/go/src/sort/sort.go:211 +0x1f2\r\nsort.Sort(0x205aa60, 0xc04308dea0)\r\n        /usr/local/go/src/sort/sort.go:220 +0x80\r\nk8s.io/helm/cmd/helm/search.SortScore(0xc0427709c0, 0x2, 0x2)\r\n        /go/src/k8s.io/helm/cmd/helm/search/search.go:193 +0x74\r\nmain.(*searchCmd).run(0xc042494280, 0xc042335400, 0x1, 0x2, 0x0, 0x0)\r\n        /go/src/k8s.io/helm/cmd/helm/search.go:90 +0xaf\r\nmain.newSearchCmd.func1(0xc0422ea480, 0xc042335400, 0x1, 0x2, 0x0, 0x0)\r\n        /go/src/k8s.io/helm/cmd/helm/search.go:61 +0x7c\r\nk8s.io/helm/vendor/github.com/spf13/cobra.(*Command).execute(0xc0422ea480, 0xc042335080, 0x2, 0x2, 0xc0422ea480, 0xc042335080)\r\n        /go/src/k8s.io/helm/vendor/github.com/spf13/cobra/command.go:599 +0x3f0\r\nk8s.io/helm/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0xc04244a240, 0xc04203bb00, 0xc042202000, 0xc042202240)\r\n        /go/src/k8s.io/helm/vendor/github.com/spf13/cobra/command.go:689 +0x340\r\nk8s.io/helm/vendor/github.com/spf13/cobra.(*Command).Execute(0xc04244a240, 0x3, 0x3)\r\n        /go/src/k8s.io/helm/vendor/github.com/spf13/cobra/command.go:648 +0x32\r\nmain.main()\r\n        /go/src/k8s.io/helm/cmd/helm/helm.go:155 +0x7e\r\n```\r\nAccording to [SemVer](http://semver.org/) rules the prerelease identifier is allowed to contain upper case characters.\r\n\r\nWe only ran into this is with Helm 2.7.0.  The 2.6.2 version we used previously was able to handle the same versions.\r\n\r\n",
  "closed_at": "2018-03-08T01:39:17Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4294228?v=4",
    "events_url": "https://api.github.com/users/thomastaylor312/events{/privacy}",
    "followers_url": "https://api.github.com/users/thomastaylor312/followers",
    "following_url": "https://api.github.com/users/thomastaylor312/following{/other_user}",
    "gists_url": "https://api.github.com/users/thomastaylor312/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/thomastaylor312",
    "id": 4294228,
    "login": "thomastaylor312",
    "node_id": "MDQ6VXNlcjQyOTQyMjg=",
    "organizations_url": "https://api.github.com/users/thomastaylor312/orgs",
    "received_events_url": "https://api.github.com/users/thomastaylor312/received_events",
    "repos_url": "https://api.github.com/users/thomastaylor312/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/thomastaylor312/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thomastaylor312/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/thomastaylor312"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/3088/comments",
  "created_at": "2017-11-02T16:20:25Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/3088/events",
  "html_url": "https://github.com/helm/helm/issues/3088",
  "id": 270716820,
  "labels": [],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/3088/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNzA3MTY4MjA=",
  "number": 3088,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "helm search error with prelease versions that contains upper case characters",
  "updated_at": "2018-07-18T19:42:59Z",
  "url": "https://api.github.com/repos/helm/helm/issues/3088",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2197304?v=4",
    "events_url": "https://api.github.com/users/bbaribeau/events{/privacy}",
    "followers_url": "https://api.github.com/users/bbaribeau/followers",
    "following_url": "https://api.github.com/users/bbaribeau/following{/other_user}",
    "gists_url": "https://api.github.com/users/bbaribeau/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bbaribeau",
    "id": 2197304,
    "login": "bbaribeau",
    "node_id": "MDQ6VXNlcjIxOTczMDQ=",
    "organizations_url": "https://api.github.com/users/bbaribeau/orgs",
    "received_events_url": "https://api.github.com/users/bbaribeau/received_events",
    "repos_url": "https://api.github.com/users/bbaribeau/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bbaribeau/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bbaribeau/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bbaribeau"
  }
}
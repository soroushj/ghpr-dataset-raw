{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "This works:\r\n\r\n```\r\n$ helm repo add istio https://istio.io/charts\r\n$ helm fetch istio/istio\r\n```\r\n\r\nBut this does not:\r\n\r\n```\r\n$ helm fetch --repo https://istio.io/charts istio\r\nError: Failed to fetch https://istio.io/istio-1.0.1.tgz : 404 Not Found\r\n```\r\n\r\nHowever this does (note the trailing slash):\r\n\r\n```\r\n$ helm fetch --repo https://istio.io/charts/ istio\r\n```\r\n\r\nIt appears that the logic to append a trailing slash (and move query string parameters from repoURL to chartURL) that is used for constructing a chart URL for a `<repo>/<chart>` ref is missing from similar logic for the `--repo` path.\r\n\r\nhttps://github.com/helm/helm/blob/d3357fad37ad0654e8b080bef1a064fa2723b0aa/pkg/downloader/chart_downloader.go#L235-L239\r\n",
  "closed_at": "2018-11-28T19:15:50Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/4954/comments",
  "created_at": "2018-11-21T18:57:50Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/4954/events",
  "html_url": "https://github.com/helm/helm/issues/4954",
  "id": 383254116,
  "labels": [],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/4954/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzODMyNTQxMTY=",
  "number": 4954,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "The --repo option does not handle missing trailing slash",
  "updated_at": "2018-11-28T19:15:50Z",
  "url": "https://api.github.com/repos/helm/helm/issues/4954",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/223467?v=4",
    "events_url": "https://api.github.com/users/lukehoban/events{/privacy}",
    "followers_url": "https://api.github.com/users/lukehoban/followers",
    "following_url": "https://api.github.com/users/lukehoban/following{/other_user}",
    "gists_url": "https://api.github.com/users/lukehoban/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/lukehoban",
    "id": 223467,
    "login": "lukehoban",
    "node_id": "MDQ6VXNlcjIyMzQ2Nw==",
    "organizations_url": "https://api.github.com/users/lukehoban/orgs",
    "received_events_url": "https://api.github.com/users/lukehoban/received_events",
    "repos_url": "https://api.github.com/users/lukehoban/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/lukehoban/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lukehoban/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/lukehoban"
  }
}
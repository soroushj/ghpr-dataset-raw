{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "`helm create hooktest`, delete existing templates and add `test.yaml`:\r\n\r\n```\r\napiVersion: v1\r\nkind: Job\r\nmetadata:\r\n  name: foo\r\n  annotations:\r\n      \"helm.sh/hook\": \"pre-install\"\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: bar\r\n  annotations:\r\n      \"helm.sh/hook\": \"pre-install\"\r\n```\r\nRunning `helm install hooktest --debug --dry-run` many times shows the order changing, usually Job first.\r\n\r\nI had expected the normal Kind ordering to apply such that Job is always after Service, but that does not appear to be the case. \r\n\r\nThe [doc](https://github.com/kubernetes/helm/blob/master/docs/charts_hooks.md#writing-a-hook) states \"*When Tiller starts the execution cycle of hooks of a particular Kind...*\" implying the Kind should be being used (and then hook-weight within in each Kind group).\r\n\r\nMy actual use-case is a Job in a subchart and a Service in parent chart, both pre-install hooks.  The Job depends on the Service being Running.   This fails in the same way as the minimal sample above - i.e. not just --dry-run.\r\n\r\nHelm 2.9.1",
  "closed_at": "2018-07-11T13:32:21Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1497123?v=4",
    "events_url": "https://api.github.com/users/michelleN/events{/privacy}",
    "followers_url": "https://api.github.com/users/michelleN/followers",
    "following_url": "https://api.github.com/users/michelleN/following{/other_user}",
    "gists_url": "https://api.github.com/users/michelleN/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/michelleN",
    "id": 1497123,
    "login": "michelleN",
    "node_id": "MDQ6VXNlcjE0OTcxMjM=",
    "organizations_url": "https://api.github.com/users/michelleN/orgs",
    "received_events_url": "https://api.github.com/users/michelleN/received_events",
    "repos_url": "https://api.github.com/users/michelleN/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/michelleN/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michelleN/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/michelleN"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/4302/comments",
  "created_at": "2018-07-04T15:55:09Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/4302/events",
  "html_url": "https://github.com/helm/helm/issues/4302",
  "id": 338324333,
  "labels": [
    {
      "color": "cc317c",
      "default": false,
      "description": null,
      "id": 269212356,
      "name": "question/support",
      "node_id": "MDU6TGFiZWwyNjkyMTIzNTY=",
      "url": "https://api.github.com/repos/helm/helm/labels/question/support"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/4302/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMzgzMjQzMzM=",
  "number": 4302,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Helm hooks not being processed in Kind order",
  "updated_at": "2018-07-18T19:44:07Z",
  "url": "https://api.github.com/repos/helm/helm/issues/4302",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/29549247?v=4",
    "events_url": "https://api.github.com/users/sjvp/events{/privacy}",
    "followers_url": "https://api.github.com/users/sjvp/followers",
    "following_url": "https://api.github.com/users/sjvp/following{/other_user}",
    "gists_url": "https://api.github.com/users/sjvp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sjvp",
    "id": 29549247,
    "login": "sjvp",
    "node_id": "MDQ6VXNlcjI5NTQ5MjQ3",
    "organizations_url": "https://api.github.com/users/sjvp/orgs",
    "received_events_url": "https://api.github.com/users/sjvp/received_events",
    "repos_url": "https://api.github.com/users/sjvp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sjvp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sjvp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sjvp"
  }
}
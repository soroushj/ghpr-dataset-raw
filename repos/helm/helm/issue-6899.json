{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "<!-- If you need help or think you have found a bug, please help us with your issue by entering the following information (otherwise you can delete this text): -->\r\n\r\nOutput of `helm version`: version.BuildInfo{Version:\"v3.0.0-rc.3\", `GitCommit:\"2ed206799b451830c68bff30af2a52879b8b937a\", GitTreeState:\"clean\", GoVersion:\"go1.13.4\"}`\r\n\r\nOutput of `kubectl version`:\r\n`Client Version: version.Info{Major:\"1\", Minor:\"15\", GitVersion:\"v1.15.1\", GitCommit:\"4485c6f18cee9a5d3c3b4e523bd27972b1b53892\", GitTreeState:\"clean\", BuildDate:\"2019-07-18T09:18:22Z\", GoVersion:\"go1.12.5\", Compiler:\"gc\", Platform:\"linux/amd64\"}`\r\n`Server Version: version.Info{Major:\"1\", Minor:\"15\", GitVersion:\"v1.15.3\", GitCommit:\"2d3c76f9091b6bec110a5e63777c332469e0cba2\", GitTreeState:\"clean\", BuildDate:\"2019-08-19T11:05:50Z\", GoVersion:\"go1.12.9\", Compiler:\"gc\", Platform:\"linux/amd64\"}`\r\n\r\nCloud Provider/Platform (AKS, GKE, Minikube etc.): \r\nDigitalOcean\r\n\r\n## Premise\r\nWhen creating a new chart, and then attempting to apply values using either `--set` or via a file (`-f values.yaml`), the new values will not apply if there have been no user supplied values.\r\n\r\n## Detailed logs\r\n\r\nThese have been reproducable for the at least rc-2 and rc-3. Multiple times, and in both the default and other namespaces. For example, I am using the `stable/redis` chart; although, any chart appears to have this issue, including file-based charts.\r\n\r\n```\r\n$ helm install redis stable/redis\r\n....\r\n\r\n$ helm upgrade redis stable/redis --reuse-values --set a=a\r\nRelease \"redis\" has been upgraded. Happy Helming!\r\nNAME: redis\r\nLAST DEPLOYED: Wed Nov  6 21:54:07 2019\r\nNAMESPACE: default\r\nSTATUS: deployed\r\nREVISION: 2\r\nTEST SUITE: None\r\nNOTES:\r\n...\r\n\r\n$ helm get values redis\r\nUSER-SUPPLIED VALUES:\r\nnull\r\n```\r\n\r\nNotice how there is nothing coming back, when we expected\r\n\r\n```\r\nUSER-SUPPLIED VALUES:\r\na: a\r\n```\r\n\r\nInstead, it appears that we must first omit `--reuse-values` the first time we modify the chart.\r\n\r\n```\r\n$ helm upgrade redis stable/redis --set a=a\r\n\r\n$ helm get values redis\r\nUSER-SUPPLIED VALUES:\r\na: a\r\n\r\n$ helm upgrade redis stable/redis --reuse-values --set b=b\r\n...\r\n\r\n$ helm get values redis\r\nUSER-SUPPLIED VALUES:\r\na: a\r\nb: b\r\n\r\n$ helm upgrade redis stable/redis --reuse-values --set a=c\r\n...\r\n\r\n$ helm get values redis\r\nUSER-SUPPLIED VALUES:\r\na: c\r\nb: b\r\n```\r\n\r\n",
  "closed_at": "2020-04-22T22:55:27Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/89193?v=4",
    "events_url": "https://api.github.com/users/technosophos/events{/privacy}",
    "followers_url": "https://api.github.com/users/technosophos/followers",
    "following_url": "https://api.github.com/users/technosophos/following{/other_user}",
    "gists_url": "https://api.github.com/users/technosophos/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/technosophos",
    "id": 89193,
    "login": "technosophos",
    "node_id": "MDQ6VXNlcjg5MTkz",
    "organizations_url": "https://api.github.com/users/technosophos/orgs",
    "received_events_url": "https://api.github.com/users/technosophos/received_events",
    "repos_url": "https://api.github.com/users/technosophos/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/technosophos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/technosophos/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/technosophos"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/6899/comments",
  "created_at": "2019-11-07T04:02:44Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/6899/events",
  "html_url": "https://github.com/helm/helm/issues/6899",
  "id": 519026439,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 778135666,
      "name": "bug",
      "node_id": "MDU6TGFiZWw3NzgxMzU2NjY=",
      "url": "https://api.github.com/repos/helm/helm/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/6899/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MTkwMjY0Mzk=",
  "number": 6899,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Helm upgrade --reuse-values on clean chart doesn't apply",
  "updated_at": "2020-04-22T22:55:27Z",
  "url": "https://api.github.com/repos/helm/helm/issues/6899",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/783838?v=4",
    "events_url": "https://api.github.com/users/technicool/events{/privacy}",
    "followers_url": "https://api.github.com/users/technicool/followers",
    "following_url": "https://api.github.com/users/technicool/following{/other_user}",
    "gists_url": "https://api.github.com/users/technicool/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/technicool",
    "id": 783838,
    "login": "technicool",
    "node_id": "MDQ6VXNlcjc4MzgzOA==",
    "organizations_url": "https://api.github.com/users/technicool/orgs",
    "received_events_url": "https://api.github.com/users/technicool/received_events",
    "repos_url": "https://api.github.com/users/technicool/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/technicool/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/technicool/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/technicool"
  }
}
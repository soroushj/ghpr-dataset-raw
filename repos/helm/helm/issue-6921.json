{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Output of `helm version`:\r\n`version.BuildInfo{Version:\"v3.0.0-rc.3\", GitCommit:\"2ed206799b451830c68bff30af2a52879b8b937a\", GitTreeState:\"clean\", GoVersion:\"go1.13.4\"}\r\n`\r\n\r\nWhen app version is a commit sha, it gets converted to a scientific notation. See below for more details on how to reproduce and about the issue:\r\n\r\n```\r\n$ helm create test-dummy\r\n\r\n$ # change appVersion to 72225e2\r\n$ vi test-dummy/Chart.yaml\r\n\r\n$ cat test-dummy/Chart.yaml\r\napiVersion: v2\r\nname: test-dummy\r\ndescription: A Helm chart for Kubernetes\r\n\r\n# A chart can be either an 'application' or a 'library' chart.\r\n#\r\n# Application charts are a collection of templates that can be packaged into versioned archives\r\n# to be deployed.\r\n#\r\n# Library charts provide useful utilities or functions for the chart developer. They're included as\r\n# a dependency of application charts to inject those utilities and functions into the rendering\r\n# pipeline. Library charts do not define any templates and therefore cannot be deployed.\r\ntype: application\r\n\r\n# This is the chart version. This version number should be incremented each time you make changes\r\n# to the chart and its templates, including the app version.\r\nversion: 0.1.0\r\n\r\n# This is the version number of the application being deployed. This version number should be\r\n# incremented each time you make changes to the application.\r\nappVersion: 72225e2\r\n\r\n$ helm package test-dummy\r\nSuccessfully packaged chart and saved it to: /Users/karuppiahoss/oss/helm-issues/issue-6833/dummy-repo-local/test-dummy-0.1.0.tgz\r\n\r\n$ # check Chart.yaml contents in tar ball\r\n$ vi test-dummy-0.1.0.tgz\r\n```\r\n\r\n`Chart.yaml` contents in packaged tar ball will look like this:\r\n```\r\napiVersion: v2\r\nappVersion: \"7.2225e+06\"\r\ndescription: A Helm chart for Kubernetes\r\nname: test-dummy\r\ntype: application\r\nversion: 0.1.0\r\n```\r\n\r\nAnd then in repository index:\r\n\r\n```\r\n$ helm repo index .\r\n$ # a part of the index\r\n$ cat index.yaml\r\napiVersion: v1\r\nentries:\r\n  test-dummy:\r\n  - apiVersion: v2\r\n    appVersion: \"7.2225e+06\"\r\n    created: \"2019-11-09T13:07:38.472282+05:30\"\r\n    description: A Helm chart for Kubernetes\r\n    digest: 626ec3a02750e500a386d80b053f6f66eef40354a45e8ad18b7ddc8426314037\r\n    name: test-dummy\r\n    type: application\r\n    urls:\r\n    - test-dummy-0.1.0.tgz\r\n    version: 0.1.0\r\ngenerated: \"2019-11-09T13:07:38.471001+05:30\"\r\n```\r\n\r\nwhile adding repo and doing search\r\n\r\n```\r\n$ # host index.yaml using https://www.npmjs.com/package/serve\r\n$ serve\r\n$ # in another tab\r\n$ helm repo add local http://localhost:5000\r\n$ helm search repo test\r\nhelm search repo test\r\nNAME                    CHART VERSION   APP VERSION     DESCRIPTION\r\nlocal/test-dummy        0.1.0           7.2225e+06      A Helm chart for Kubernetes\r\n```\r\n\r\nI expected the search to show `72225e2`, and that happens only when I put double quotes around `72225e2`. Found the issue when checking https://github.com/helm/helm/issues/6849 . I think the lint and package should give error when it detects numbers instead of string in `appVersion` field in the yaml. According to yaml spec, the above is a number. \r\n\r\nIn helm, instead of erroring out for the number, the number is converted to a string somehow. ",
  "closed_at": "2020-07-07T17:01:17Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 12,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/6921/comments",
  "created_at": "2019-11-09T07:39:44Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/6921/events",
  "html_url": "https://github.com/helm/helm/issues/6921",
  "id": 520352347,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 562687520,
      "name": "feature",
      "node_id": "MDU6TGFiZWw1NjI2ODc1MjA=",
      "url": "https://api.github.com/repos/helm/helm/labels/feature"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/6921/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MjAzNTIzNDc=",
  "number": 6921,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Helm3: when App Version is a commit sha, it's getting converted to scientific notation",
  "updated_at": "2020-07-07T17:01:17Z",
  "url": "https://api.github.com/repos/helm/helm/issues/6921",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/12808424?v=4",
    "events_url": "https://api.github.com/users/karuppiah7890/events{/privacy}",
    "followers_url": "https://api.github.com/users/karuppiah7890/followers",
    "following_url": "https://api.github.com/users/karuppiah7890/following{/other_user}",
    "gists_url": "https://api.github.com/users/karuppiah7890/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/karuppiah7890",
    "id": 12808424,
    "login": "karuppiah7890",
    "node_id": "MDQ6VXNlcjEyODA4NDI0",
    "organizations_url": "https://api.github.com/users/karuppiah7890/orgs",
    "received_events_url": "https://api.github.com/users/karuppiah7890/received_events",
    "repos_url": "https://api.github.com/users/karuppiah7890/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/karuppiah7890/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karuppiah7890/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/karuppiah7890"
  }
}
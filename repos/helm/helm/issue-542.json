{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "As far as I am gonna get tonight.\n\nDuring a deployment, the manager image fails on trying to run /bin/kubectl.\nThe binary seems present but cannot be found.\n\n```\n$ docker logs 3c81c70dcd41\n2016/03/31 20:40:19 cannot connect to MongoDB at mongodb://: no reachable servers\n\n2016/03/31 20:40:19 Map \"GET /healthz\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /deployments\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /deployments/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"POST /deployments\" to HandlerFunc\n2016/03/31 20:40:19 Map \"DELETE /deployments/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"PUT /deployments/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /deployments/*/manifests\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /deployments/*/manifests/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"POST /expand\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /charts\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /charts/*/instances\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /charts/*/repository\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /charts/*/metadata\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /charts/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"POST /credentials/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /credentials/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /repositories\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /repositories/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /repositories/*/charts\" to HandlerFunc\n2016/03/31 20:40:19 Map \"GET /repositories/*/charts/*\" to HandlerFunc\n2016/03/31 20:40:19 Map \"POST /repositories\" to HandlerFunc\n2016/03/31 20:40:19 Map \"DELETE /repositories/*\" to HandlerFunc\n2016/03/31 20:40:19 Starting Manager v0.0.1+6ec1c9e on :8080\n2016/03/31 20:40:46 Access: GET /repositories\n2016/03/31 20:40:46 manager: list chart repositories: returning response: status code:200, status:{\"kubernetes-charts\":\"gs://kubernetes-charts\"}\n2016/03/31 20:41:04 Access: POST /repositories\n2016/03/31 20:41:04 manager: add chart repository: handling request:POST /repositories\n2016/03/31 20:41:04 manager: add chart repository: returning response: status code:201, status:\"Imt1YmVybmV0ZXMtY2hhcnRzLXRlc3RpbmcgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGxpc3Qgb2YgY2hhcnQgcmVwb3NpdG9yaWVzLiI=\"\n2016/03/31 20:41:06 Access: GET /repositories\n2016/03/31 20:41:06 manager: list chart repositories: returning response: status code:200, status:{\"kubernetes-charts\":\"gs://kubernetes-charts\",\"kubernetes-charts-testing\":\"gs://kubernetes-charts-testing\"}\n2016/03/31 20:41:26 Access: POST /deployments\n2016/03/31 20:41:26 manager: create deployment: handling request:POST /deployments\n2016/03/31 20:41:26 manager: create deployment: handling request:POST /deployments\n2016/03/31 20:41:26 Creating deployment: test\n2016/03/31 20:41:26 created deployment: &{test 2016-03-31 20:41:26.228089019 +0000 UTC 0001-01-01 00:00:00 +0000 UTC 0001-01-01 00:00:00 +0000 UTC 0001-01-01 00:00:00 +0000 UTC 0xc820103f20 }\n2016/03/31 20:41:26 [INFO] Reached end of Tar file\n2016/03/31 20:41:27 [INFO] Reached end of Tar file\n2016/03/31 20:41:27 [INFO] Reached end of Tar file\n2016/03/31 20:41:27 Added manifest manifest-1459456887734420948 to deployment: test\n2016/03/31 20:41:27 Bad Request: POST /deployments Found resource errors during deployment: [cannot start kubectl  &os.PathError{Op:\"fork/exec\", Path:\"/bin/kubectl\", Err:0x2} cannot start kubectl  &os.PathError{Op:\"fork/exec\", Path:\"/bin/kubectl\", Err:0x2} cannot start kubectl  &os.PathError{Op:\"fork/exec\", Path:\"/bin/kubectl\", Err:0x2} cannot start kubectl  &os.PathError{Op:\"fork/exec\", Path:\"/bin/kubectl\", Err:0x2}]\nsebair: manager (master)$ \n$ docker exec -ti 3c81c70dcd41 ls -l /bin\ntotal 31800\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ash -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 base64 -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 bbconfig -> /bin/busybox\n-rwxr-xr-x    1 root     root        809128 Dec 16 08:00 busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 cat -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 catv -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 chgrp -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 chmod -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 chown -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 conspy -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 cp -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 cpio -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 date -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 dd -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 df -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 dmesg -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 dnsdomainname -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 dumpkmap -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 echo -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ed -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 egrep -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 false -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 fatattr -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 fdflush -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 fgrep -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 fsync -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 getopt -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 grep -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 gunzip -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 gzip -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 hostname -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ionice -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 iostat -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ipcalc -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 kbd_mode -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 kill -> /bin/busybox\n-rwxr-xr-x    1 root     root      22589648 Mar 31 19:17 kubectl\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ln -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 login -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ls -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 lzop -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 makemime -> /bin/busybox\n-rwxr-xr-x    1 root     root       9158624 Mar 31 19:49 manager\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mkdir -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mknod -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mktemp -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 more -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mount -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mountpoint -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mpstat -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 mv -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 netstat -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 nice -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 pidof -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ping -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ping6 -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 pipe_progress -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 printenv -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 ps -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 pwd -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 reformime -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 rev -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 rm -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 rmdir -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 run-parts -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 sed -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 setserial -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 sh -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 sleep -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 stat -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 stty -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 su -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 sync -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 tar -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 touch -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 true -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 umount -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 uname -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 usleep -> /bin/busybox\n-rw-r--r--    1 root     root             0 Mar 31 19:17 v1.1.7\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 watch -> /bin/busybox\nlrwxrwxrwx    1 root     root            12 Mar  2 16:20 zcat -> /bin/busybox\n$ docker exec -ti 3c81c70dcd41 /bin/manager -h\nUsage of /bin/manager:\n  -certificate-authority string\n        Path to a file for the certificate authority.\n  -client-certificate string\n        Path to a client certificate file.\n  -client-key string\n        Path to a client key file.\n  -config string\n        Path to a kubeconfig file.\n...\n$ docker exec -ti 3c81c70dcd41 /bin/kubectl -h\nno such file or directory\n```\n\nmystifying...\n\ncc @jackgr \n",
  "closed_at": "2016-04-01T21:13:47Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/5607565?v=4",
    "events_url": "https://api.github.com/users/jackgr/events{/privacy}",
    "followers_url": "https://api.github.com/users/jackgr/followers",
    "following_url": "https://api.github.com/users/jackgr/following{/other_user}",
    "gists_url": "https://api.github.com/users/jackgr/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jackgr",
    "id": 5607565,
    "login": "jackgr",
    "node_id": "MDQ6VXNlcjU2MDc1NjU=",
    "organizations_url": "https://api.github.com/users/jackgr/orgs",
    "received_events_url": "https://api.github.com/users/jackgr/received_events",
    "repos_url": "https://api.github.com/users/jackgr/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jackgr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jackgr/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jackgr"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/542/comments",
  "created_at": "2016-03-31T20:52:03Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/542/events",
  "html_url": "https://github.com/helm/helm/issues/542",
  "id": 145014898,
  "labels": [],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/542/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNDUwMTQ4OTg=",
  "number": 542,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "/bin/kubectl not executing in manager image",
  "updated_at": "2018-07-18T19:41:21Z",
  "url": "https://api.github.com/repos/helm/helm/issues/542",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1886299?v=4",
    "events_url": "https://api.github.com/users/sebgoa/events{/privacy}",
    "followers_url": "https://api.github.com/users/sebgoa/followers",
    "following_url": "https://api.github.com/users/sebgoa/following{/other_user}",
    "gists_url": "https://api.github.com/users/sebgoa/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sebgoa",
    "id": 1886299,
    "login": "sebgoa",
    "node_id": "MDQ6VXNlcjE4ODYyOTk=",
    "organizations_url": "https://api.github.com/users/sebgoa/orgs",
    "received_events_url": "https://api.github.com/users/sebgoa/received_events",
    "repos_url": "https://api.github.com/users/sebgoa/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sebgoa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sebgoa/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sebgoa"
  }
}
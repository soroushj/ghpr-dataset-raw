{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Affected helm version: `v2.4.1`\r\n\r\n### Issue\r\n\r\n`helm [install | fetch] <chart repo>/<chart>` fails if latest `<chart>` in `<chart repo>` has a  \"pre-release\" version -- that is, contains additional values beyond, say `v0.1.0`, such as `v0.1.0-alpha.1` or `v0.1.0-dev-sha.abc1234`.\r\n\r\n### Details\r\n\r\nWorking in `v2.3.1`:\r\n```\r\n$ helm version\r\nClient: &version.Version{SemVer:\"v2.3.1\", GitCommit:\"32562a3040bb5ca690339b9840b6f60f8ce25da4\", GitTreeState:\"clean\"}\r\nServer: &version.Version{SemVer:\"v2.3.1\", GitCommit:\"32562a3040bb5ca690339b9840b6f60f8ce25da4\", GitTreeState:\"clean\"}\r\n\r\n$ helm search -r workflow-dev\r\nNAME                     \tVERSION                               \tDESCRIPTION\r\nworkflow-dev/workflow    \tv2.13.1-dev-20170504190907-sha.3d6bbf9\tDeis Workflow\r\n\r\n$ helm fetch workflow-dev/workflow\r\n$ ls\r\nworkflow-v2.13.1-dev-20170504190907-sha.3d6bbf9.tgz\r\n```\r\n\r\nNot working in `v2.4.1`:\r\n\r\n```\r\n$ helm version\r\nClient: &version.Version{SemVer:\"v2.4.1\", GitCommit:\"46d9ea82e2c925186e1fc620a8320ce1314cbb02\", GitTreeState:\"clean\"}\r\nServer: &version.Version{SemVer:\"v2.4.1\", GitCommit:\"46d9ea82e2c925186e1fc620a8320ce1314cbb02\", GitTreeState:\"clean\"}\r\n\r\n$ helm search -r workflow-dev\r\nNAME                     \tVERSION                               \tDESCRIPTION\r\nworkflow-dev/workflow    \tv2.13.1-dev-20170504190907-sha.3d6bbf9\tDeis Workflow\r\n...\r\n\r\n$ helm fetch workflow-dev/workflow\r\nError: chart \"workflow\" not found in workflow-dev index. (try 'helm repo update'). No chart version found for workflow-\r\n```\r\n\r\nHowever, if the latest chart in the repo has an 'official' release  version, they are successfully fetched in `v2.4.1`:\r\n\r\n```\r\n $ helm search -r jenkins\r\nNAME          \tVERSION\tDESCRIPTION\r\nstable/jenkins\t0.6.2  \tOpen source continuous integration server. It s..\r\n\r\n $ helm fetch stable/jenkins\r\n\r\n $ ls\r\njenkins-0.6.2.tgz\r\n```\r\n\r\n### Similar/Related Issues\r\n\r\nhttps://github.com/kubernetes/charts/issues/999 was filed specifically for the `stable/traefik` chart.  \r\n\r\nIndeed, as we see, this chart happens to have a bit of extra info on the version string (full version: `1.2.1-a`, therefore corroborating this issue's claim that the added info (normally considered \"pre-release\") is breaking install/fetch:\r\n\r\n```\r\n$ helm search -r traefik\r\nNAME          \tVERSION\tDESCRIPTION\r\nstable/traefik\t1.2.1-a\tA Traefik based Kubernetes ingress controller w...\r\n\r\n$ helm fetch stable/traefik\r\nError: chart \"traefik\" not found in stable index. (try 'helm repo update'). No chart version found for traefik-\r\n```\r\n\r\n### Caveat\r\n\r\nHowever, it is important to note (and maybe useful in debugging/pinpointing the issue), if the \"pre-release\" chart version is explicitly specified, it can be installed/fetched with no issue.  Continuing from above:\r\n\r\n```\r\n$ helm fetch stable/traefik --version 1.2.1-a\r\n\r\n$ ls\r\ntraefik-1.2.1-a.tgz\r\n```",
  "closed_at": "2017-05-17T20:01:04Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/89193?v=4",
    "events_url": "https://api.github.com/users/technosophos/events{/privacy}",
    "followers_url": "https://api.github.com/users/technosophos/followers",
    "following_url": "https://api.github.com/users/technosophos/following{/other_user}",
    "gists_url": "https://api.github.com/users/technosophos/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/technosophos",
    "id": 89193,
    "login": "technosophos",
    "node_id": "MDQ6VXNlcjg5MTkz",
    "organizations_url": "https://api.github.com/users/technosophos/orgs",
    "received_events_url": "https://api.github.com/users/technosophos/received_events",
    "repos_url": "https://api.github.com/users/technosophos/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/technosophos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/technosophos/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/technosophos"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/2407/comments",
  "created_at": "2017-05-05T22:55:07Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/2407/events",
  "html_url": "https://github.com/helm/helm/issues/2407",
  "id": 226711599,
  "labels": [],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/2407/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMjY3MTE1OTk=",
  "number": 2407,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Cannot install/fetch latest chart if 'pre-release' version",
  "updated_at": "2019-01-11T12:27:22Z",
  "url": "https://api.github.com/repos/helm/helm/issues/2407",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/9322017?v=4",
    "events_url": "https://api.github.com/users/vdice/events{/privacy}",
    "followers_url": "https://api.github.com/users/vdice/followers",
    "following_url": "https://api.github.com/users/vdice/following{/other_user}",
    "gists_url": "https://api.github.com/users/vdice/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/vdice",
    "id": 9322017,
    "login": "vdice",
    "node_id": "MDQ6VXNlcjkzMjIwMTc=",
    "organizations_url": "https://api.github.com/users/vdice/orgs",
    "received_events_url": "https://api.github.com/users/vdice/received_events",
    "repos_url": "https://api.github.com/users/vdice/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/vdice/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vdice/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/vdice"
  }
}
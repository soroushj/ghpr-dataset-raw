{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "I've created an *umbrella* chart using 3 aliased copies a *foo* chart (foo1, foo2, foo3). *Foo* chart has a single dependency *foo-feature* that can be enabled or disabled (enabled by default). The picture below illustrates these dependencies. \r\n![image](https://user-images.githubusercontent.com/241318/37767976-3af74914-2dcc-11e8-8d8e-265e8b4f658f.png)\r\n\r\nMy goal here is to make a deployment where foo3 has its 'foo-feature' disabled and other aliases have this feature enabled. Desired deployment:\r\n\r\n![image](https://user-images.githubusercontent.com/241318/37768226-1de65148-2dcd-11e8-8e80-3354bee587de.png)\r\n\r\nThe natural course of action it would seem is to edit the values in the umbrella chart:\r\n~~~\r\nfoo1:\r\n  foo-feature:\r\n    enabled: true\r\n\r\nfoo2:\r\n  foo-feature:\r\n    enabled: true\r\n\r\nfoo3:\r\n  foo-feature:\r\n    enabled: false\r\n~~~\r\n\r\nHowever, regardless of the true/false values I always end up with all 3 *foo-feature* being rendered.\r\n\r\nHow can I achieve the desired deployment?\r\n\r\nI attach a tgz with all 3 charts. My test was to edit the values in the *umbrella* chart and then run:\r\n[example.zip](https://github.com/kubernetes/helm/files/1837304/example.zip)\r\n~~~\r\nhelm template umbrella | grep Source: | grep deployment.yaml | grep foo-feature\r\n~~~\r\nto see how many deployments of *foo-feature* were rendered.\r\n\r\n~~~\r\n> helm version\r\nClient: &version.Version{SemVer:\"v2.8.1\", GitCommit:\"6af75a8fd72e2aa18a2b278cfe5c7a1c5feca7f2\", GitTreeState:\"clean\"}\r\nServer: &version.Version{SemVer:\"v2.8.1\", GitCommit:\"6af75a8fd72e2aa18a2b278cfe5c7a1c5feca7f2\", GitTreeState:\"clean\"}\r\n~~~",
  "closed_at": "2019-09-30T21:37:39Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 12,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/3734/comments",
  "created_at": "2018-03-22T11:41:35Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/3734/events",
  "html_url": "https://github.com/helm/helm/issues/3734",
  "id": 307608377,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 778135666,
      "name": "bug",
      "node_id": "MDU6TGFiZWw3NzgxMzU2NjY=",
      "url": "https://api.github.com/repos/helm/helm/labels/bug"
    },
    {
      "color": "cc317c",
      "default": false,
      "description": null,
      "id": 269212356,
      "name": "question/support",
      "node_id": "MDU6TGFiZWwyNjkyMTIzNTY=",
      "url": "https://api.github.com/repos/helm/helm/labels/question/support"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/3734/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMDc2MDgzNzc=",
  "number": 3734,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Confussing requirement condition evaluation with aliases and umbrella chart",
  "updated_at": "2019-09-30T21:37:39Z",
  "url": "https://api.github.com/repos/helm/helm/issues/3734",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/241318?v=4",
    "events_url": "https://api.github.com/users/groundnuty/events{/privacy}",
    "followers_url": "https://api.github.com/users/groundnuty/followers",
    "following_url": "https://api.github.com/users/groundnuty/following{/other_user}",
    "gists_url": "https://api.github.com/users/groundnuty/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/groundnuty",
    "id": 241318,
    "login": "groundnuty",
    "node_id": "MDQ6VXNlcjI0MTMxOA==",
    "organizations_url": "https://api.github.com/users/groundnuty/orgs",
    "received_events_url": "https://api.github.com/users/groundnuty/received_events",
    "repos_url": "https://api.github.com/users/groundnuty/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/groundnuty/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/groundnuty/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/groundnuty"
  }
}
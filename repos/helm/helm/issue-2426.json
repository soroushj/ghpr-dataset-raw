{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4294228?v=4",
    "events_url": "https://api.github.com/users/thomastaylor312/events{/privacy}",
    "followers_url": "https://api.github.com/users/thomastaylor312/followers",
    "following_url": "https://api.github.com/users/thomastaylor312/following{/other_user}",
    "gists_url": "https://api.github.com/users/thomastaylor312/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/thomastaylor312",
    "id": 4294228,
    "login": "thomastaylor312",
    "node_id": "MDQ6VXNlcjQyOTQyMjg=",
    "organizations_url": "https://api.github.com/users/thomastaylor312/orgs",
    "received_events_url": "https://api.github.com/users/thomastaylor312/received_events",
    "repos_url": "https://api.github.com/users/thomastaylor312/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/thomastaylor312/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thomastaylor312/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/thomastaylor312"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/4294228?v=4",
      "events_url": "https://api.github.com/users/thomastaylor312/events{/privacy}",
      "followers_url": "https://api.github.com/users/thomastaylor312/followers",
      "following_url": "https://api.github.com/users/thomastaylor312/following{/other_user}",
      "gists_url": "https://api.github.com/users/thomastaylor312/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/thomastaylor312",
      "id": 4294228,
      "login": "thomastaylor312",
      "node_id": "MDQ6VXNlcjQyOTQyMjg=",
      "organizations_url": "https://api.github.com/users/thomastaylor312/orgs",
      "received_events_url": "https://api.github.com/users/thomastaylor312/received_events",
      "repos_url": "https://api.github.com/users/thomastaylor312/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/thomastaylor312/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thomastaylor312/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/thomastaylor312"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "I just installed a new release, then I upgraded the `image` tag for one of my Deployments inside a chart.\r\nAfter that, I executed a `helm upgrade mychart myrelease --wait --timeout 9999`. Tiller logs only detected changes in the above described Deployment, creating a new pod and ReplicaSet with the new image. Then, the upgrade process get stuck in \"waiting for resources\", even when all my pods are ready and running:\r\n\r\n```\r\n[user@hostname ~]$ kubectl get po -n mynamespace\r\nNAME                                         READY     STATUS    RESTARTS   AGE\r\nXXXXX-2061248956-1k0xc                       1/1       Running   0          14m\r\nXXXXXXXX-3687332959-bjb5b                    1/1       Running   0          14m\r\nnew-created-pod-2470432599-38k9j             1/1       Running   0          1m\r\nXXXXXX-1811469710-3pm6k                      1/1       Running   0          14m\r\nXXX-2438109-qv4m1                            1/1       Running   0          14m\r\n```\r\n```2017/05/10 18:24:01 wait.go:47: beginning wait for resources with timeout of 2h46m39s```\r\n\r\nSo I figured out that the problem is that a new ReplicaSet was created, but helm seems like also waiting  for the old one to get all resources ready.\r\nI manually deleted the `old-replica-set-320589364`, and the upgrade was completed.\r\n```\r\n[user@hostname ~]$ kubectl get rs -n mynamespace\r\nNAME                                   DESIRED   CURRENT   READY     AGE\r\nXXXXX-2061248956                       1         1         1         21m\r\nXXXXXXXX-3687332959                    1         1         1         21m\r\nnew-created-replica-set-2470432599     1         1         1         7m\r\nold-replica-set-320589364              0         0         0         21m\r\nXXXXXX-1811469710                      1         1         1         21m\r\nXXX-2438109                            1         1         1         21m\r\n```\r\nI'm using Kubernetes `v1.6.0` with Helm `v2.4.1`\r\n",
  "closed_at": "2017-10-31T23:17:27Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 51,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/2426/comments",
  "created_at": "2017-05-10T20:46:50Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/2426/events",
  "html_url": "https://github.com/helm/helm/issues/2426",
  "id": 227805500,
  "labels": [],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/2426/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMjc4MDU1MDA=",
  "number": 2426,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "Helm upgrade with --wait is waiting even when all resources are ready",
  "updated_at": "2020-10-01T13:59:20Z",
  "url": "https://api.github.com/repos/helm/helm/issues/2426",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/25592626?v=4",
    "events_url": "https://api.github.com/users/eduardobaitello/events{/privacy}",
    "followers_url": "https://api.github.com/users/eduardobaitello/followers",
    "following_url": "https://api.github.com/users/eduardobaitello/following{/other_user}",
    "gists_url": "https://api.github.com/users/eduardobaitello/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/eduardobaitello",
    "id": 25592626,
    "login": "eduardobaitello",
    "node_id": "MDQ6VXNlcjI1NTkyNjI2",
    "organizations_url": "https://api.github.com/users/eduardobaitello/orgs",
    "received_events_url": "https://api.github.com/users/eduardobaitello/received_events",
    "repos_url": "https://api.github.com/users/eduardobaitello/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/eduardobaitello/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eduardobaitello/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/eduardobaitello"
  }
}
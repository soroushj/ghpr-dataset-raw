{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "Hi\r\n\r\nI'm using Helm from Concourse pipeline I just upgraded Helm to 2.6.1 (from 2.4.2) and my pipeline doesn't work anymore.\r\nThe culprit line seems to be https://github.com/kubernetes/helm/blob/v2.6.1/pkg/downloader/manager.go#L220\r\n```console\r\n$ helm dependency update\r\nHang tight while we grab the latest from your chart repositories...\r\n...Successfully got an update from the \"ci\" chart repository\r\n...Successfully got an update from the \"local\" chart repository\r\n...Successfully got an update from the \"stable\" chart repository\r\nUpdate Complete. \u2388Happy Helming!\u2388\r\nError: Unable to move current charts to tmp dir: rename /tmp/build/put/staging-helm/cvhub-api/charts /tmp/build/put/staging-helm/cvhub-api/tmpcharts: invalid cross-device link\r\n```\r\nI cannot change the path used by Concourse  but if I do the same command manually on my mac from my home directory (i.e not from /tmp) it works:\r\n```console\r\n% ~/Downloads/helm dependency update\r\nHang tight while we grab the latest from your chart repositories...\r\n...Successfully got an update from the \"ci\" chart repository\r\n...Successfully got an update from the \"local\" chart repository\r\n...Successfully got an update from the \"stable\" chart repository\r\nUpdate Complete. \u2388Happy Helming!\u2388\r\nSaving 1 charts\r\nDownloading elasticsearch-singlenode from repo http://127.0.0.1:8879\r\n\u00b1|develop \u2718| cvhub-api\r\n% pwd\r\n/Users/nsitbon/github/cvhub-api/scripts/helm/cvhub-api\r\n```\r\nAs far as I understand the error and the related code it seems that you should not use Rename rather you should use Move.\r\n\r\nAny help would be appreciated.\r\n\r\nBest regards.",
  "closed_at": "2020-04-24T18:16:46Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1360539?v=4",
    "events_url": "https://api.github.com/users/bacongobbler/events{/privacy}",
    "followers_url": "https://api.github.com/users/bacongobbler/followers",
    "following_url": "https://api.github.com/users/bacongobbler/following{/other_user}",
    "gists_url": "https://api.github.com/users/bacongobbler/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bacongobbler",
    "id": 1360539,
    "login": "bacongobbler",
    "node_id": "MDQ6VXNlcjEzNjA1Mzk=",
    "organizations_url": "https://api.github.com/users/bacongobbler/orgs",
    "received_events_url": "https://api.github.com/users/bacongobbler/received_events",
    "repos_url": "https://api.github.com/users/bacongobbler/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bacongobbler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bacongobbler/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bacongobbler"
  },
  "comments": 46,
  "comments_url": "https://api.github.com/repos/helm/helm/issues/2998/comments",
  "created_at": "2017-10-03T09:42:31Z",
  "events_url": "https://api.github.com/repos/helm/helm/issues/2998/events",
  "html_url": "https://github.com/helm/helm/issues/2998",
  "id": 262364817,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 778135666,
      "name": "bug",
      "node_id": "MDU6TGFiZWw3NzgxMzU2NjY=",
      "url": "https://api.github.com/repos/helm/helm/labels/bug"
    },
    {
      "color": "7057ff",
      "default": true,
      "description": "Denotes an issue ready for a new contributor, according to the \"help wanted\" guidelines.",
      "id": 877559203,
      "name": "good first issue",
      "node_id": "MDU6TGFiZWw4Nzc1NTkyMDM=",
      "url": "https://api.github.com/repos/helm/helm/labels/good%20first%20issue"
    }
  ],
  "labels_url": "https://api.github.com/repos/helm/helm/issues/2998/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNjIzNjQ4MTc=",
  "number": 2998,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/helm/helm",
  "state": "closed",
  "title": "helm dependency update fails after helm upgrade",
  "updated_at": "2020-04-24T18:16:46Z",
  "url": "https://api.github.com/repos/helm/helm/issues/2998",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1663411?v=4",
    "events_url": "https://api.github.com/users/nsitbon/events{/privacy}",
    "followers_url": "https://api.github.com/users/nsitbon/followers",
    "following_url": "https://api.github.com/users/nsitbon/following{/other_user}",
    "gists_url": "https://api.github.com/users/nsitbon/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/nsitbon",
    "id": 1663411,
    "login": "nsitbon",
    "node_id": "MDQ6VXNlcjE2NjM0MTE=",
    "organizations_url": "https://api.github.com/users/nsitbon/orgs",
    "received_events_url": "https://api.github.com/users/nsitbon/received_events",
    "repos_url": "https://api.github.com/users/nsitbon/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/nsitbon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nsitbon/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/nsitbon"
  }
}
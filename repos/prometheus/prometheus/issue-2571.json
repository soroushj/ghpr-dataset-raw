{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "Currently, any error from storage is returned to the user as a 422 (see #1213 for the discussion).  The argument for this seems predicated on the idea that \"the storage interface doesn't report errors\", but thats not the case any more.\r\n\r\nI propose we allow the storage layer to propagate errors by exposing the apiErr type, and adding a case to https://github.com/prometheus/prometheus/blob/master/web/api/v1/api.go#L192 that passes apiErrs straight through.  That way, the storage can throw an apiErr for internal error.\r\n\r\nMay need to more apiErr to a new package, so prevent circular imports.\r\n\r\nWDYT?",
  "closed_at": "2017-04-06T14:36:21Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/538008?v=4",
    "events_url": "https://api.github.com/users/juliusv/events{/privacy}",
    "followers_url": "https://api.github.com/users/juliusv/followers",
    "following_url": "https://api.github.com/users/juliusv/following{/other_user}",
    "gists_url": "https://api.github.com/users/juliusv/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/juliusv",
    "id": 538008,
    "login": "juliusv",
    "node_id": "MDQ6VXNlcjUzODAwOA==",
    "organizations_url": "https://api.github.com/users/juliusv/orgs",
    "received_events_url": "https://api.github.com/users/juliusv/received_events",
    "repos_url": "https://api.github.com/users/juliusv/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/juliusv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/juliusv/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/juliusv"
  },
  "comments": 9,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/2571/comments",
  "created_at": "2017-04-04T14:59:32Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/2571/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/2571",
  "id": 219280232,
  "labels": [],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/2571/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMTkyODAyMzI=",
  "number": 2571,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "Allow mechanism for propagating internal errors from the storage",
  "updated_at": "2019-03-23T19:45:47Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/2571",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/444037?v=4",
    "events_url": "https://api.github.com/users/tomwilkie/events{/privacy}",
    "followers_url": "https://api.github.com/users/tomwilkie/followers",
    "following_url": "https://api.github.com/users/tomwilkie/following{/other_user}",
    "gists_url": "https://api.github.com/users/tomwilkie/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tomwilkie",
    "id": 444037,
    "login": "tomwilkie",
    "node_id": "MDQ6VXNlcjQ0NDAzNw==",
    "organizations_url": "https://api.github.com/users/tomwilkie/orgs",
    "received_events_url": "https://api.github.com/users/tomwilkie/received_events",
    "repos_url": "https://api.github.com/users/tomwilkie/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tomwilkie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tomwilkie/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tomwilkie"
  }
}
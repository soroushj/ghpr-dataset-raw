{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5609886?v=4",
    "events_url": "https://api.github.com/users/beorn7/events{/privacy}",
    "followers_url": "https://api.github.com/users/beorn7/followers",
    "following_url": "https://api.github.com/users/beorn7/following{/other_user}",
    "gists_url": "https://api.github.com/users/beorn7/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/beorn7",
    "id": 5609886,
    "login": "beorn7",
    "node_id": "MDQ6VXNlcjU2MDk4ODY=",
    "organizations_url": "https://api.github.com/users/beorn7/orgs",
    "received_events_url": "https://api.github.com/users/beorn7/received_events",
    "repos_url": "https://api.github.com/users/beorn7/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/beorn7/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/beorn7/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/beorn7"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/5609886?v=4",
      "events_url": "https://api.github.com/users/beorn7/events{/privacy}",
      "followers_url": "https://api.github.com/users/beorn7/followers",
      "following_url": "https://api.github.com/users/beorn7/following{/other_user}",
      "gists_url": "https://api.github.com/users/beorn7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/beorn7",
      "id": 5609886,
      "login": "beorn7",
      "node_id": "MDQ6VXNlcjU2MDk4ODY=",
      "organizations_url": "https://api.github.com/users/beorn7/orgs",
      "received_events_url": "https://api.github.com/users/beorn7/received_events",
      "repos_url": "https://api.github.com/users/beorn7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/beorn7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beorn7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/beorn7"
    }
  ],
  "author_association": "NONE",
  "body": "## Bug Report\r\n\r\nHighlight: `panic: runtime error: invalid memory address or nil pointer dereference. created by github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.Open /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/db.go:272 +0x468`\r\n\r\n**What did you do?**\r\nUsed https://github.com/prometheus/prometheus#building-from-source\r\nto build Prometheus on Rasbperry Pi 3+, started node_exporter, and started Prometheus.\r\n\r\n**What did you expect to see?**\r\nPrometheus to keep running.\r\n\r\n\r\n**What did you see instead? Under which circumstances?**\r\nprometheus crashes about 1 minute after start\r\n\r\n**Environment**\r\n\r\n* System information:\r\n\r\n\tLinux 4.14.62-v7+ armv7l\r\n\r\n* Prometheus version:\r\n\r\n```\r\n prometheus --version\r\nprometheus, version  (branch: , revision: )\r\n  build user:\r\n  build date:\r\n  go version:       go1.10.3\r\n```\r\nIt was built from f033f48f74d84a65774b8acec4fe2225d0d588d5\r\n\r\n* Prometheus configuration file:\r\n```\r\nscrape_configs:\r\n- job_name: 'node'\r\n  static_configs:\r\n  - targets: ['localhost:9100']\r\n```\r\n\r\n\r\n* Logs:\r\n```\r\nprometheus@lnpi3:~/gocode/src/github.com/prometheus/prometheus $ prometheus --config.file=$HOME/.prometheus/prometheus.yml --storage.tsdb.path=$HOME/.promet\r\nheus/data\r\nlevel=info ts=2018-10-05T06:48:22.102210902Z caller=main.go:244 msg=\"Starting Prometheus\" version=\"(version=, branch=, revision=)\"\r\nlevel=info ts=2018-10-05T06:48:22.102744076Z caller=main.go:245 build_context=\"(go=go1.10.3, user=, date=)\"\r\nlevel=info ts=2018-10-05T06:48:22.103079021Z caller=main.go:246 host_details=\"(Linux 4.14.62-v7+ #1134 SMP Tue Aug 14 17:10:10 BST 2018 armv7l lnpi3 (none))\"\r\nlevel=info ts=2018-10-05T06:48:22.103520789Z caller=main.go:247 fd_limits=\"(soft=1024, hard=1048576)\"\r\nlevel=info ts=2018-10-05T06:48:22.10383136Z caller=main.go:248 vm_limits=\"(soft=unlimited, hard=unlimited)\"\r\nlevel=info ts=2018-10-05T06:48:22.117884807Z caller=web.go:399 component=web msg=\"Start listening for connections\" address=0.0.0.0:9090                     level=info ts=2018-10-05T06:48:22.117893244Z caller=main.go:562 msg=\"Starting TSDB ...\"\r\nlevel=info ts=2018-10-05T06:48:22.447124822Z caller=main.go:572 msg=\"TSDB started\"                                                                          level=info ts=2018-10-05T06:48:22.447780911Z caller=main.go:632 msg=\"Loading configuration file\" filename=/home/prometheus/.prometheus/prometheus.yml       level=info ts=2018-10-05T06:48:22.451325783Z caller=main.go:658 msg=\"Completed loading of configuration file\" filename=/home/prometheus/.prometheus/prometheus.yml                                                                                                                                                      level=info ts=2018-10-05T06:48:22.451899009Z caller=main.go:531 msg=\"Server is ready to receive web requests.\"\r\n\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n        panic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x4 pc=0x12388]\r\n\r\ngoroutine 135 [running]:                                                                                                                                    sync/atomic.addUint64(0x13eae75c, 0x2, 0x0, 0x458ec442, 0x3fc82921)\r\n        /home/prometheus/lightning_src/go/src/sync/atomic/64bit_arm.go:31 +0x4c\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/client_golang/prometheus.(*histogram).Observe(0x13eae700, 0x458ec442, 0x3fc82921)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/client_golang/prometheus/histogram.go:272 +0x60\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*LeveledCompactor).write.func1(0x13e65ddc, 0x13fad200, 0x13e94840, 0x40, 0x60273cb1, 0xbee5e03b, 0x20da4c7, 0xd, 0x1f0dca0)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/compact.go:436 +0x124\r\npanic(0x10fdd98, 0x1f00f48)\r\n        /home/prometheus/lightning_src/go/src/runtime/panic.go:502 +0x204\r\nsync/atomic.addUint64(0x13eae7cc, 0x2, 0x0, 0x0, 0x40510000)\r\n        /home/prometheus/lightning_src/go/src/sync/atomic/64bit_arm.go:31 +0x4c\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/client_golang/prometheus.(*histogram).Observe(0x13eae770, 0x0, 0x40510000)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/client_golang/prometheus/histogram.go:272 +0x60\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*instrumentedChunkWriter).WriteChunks(0x149a30c0, 0x14950320, 0x1, 0x1, 0x14950320, 0x1)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/compact.go:414 +0x74\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*LeveledCompactor).populateBlock(0x13fad200, 0x13e65e28, 0x1, 0x1, 0x148702a0, 0x14d17d0, 0x13f64000, 0x14c2e28, 0x149a30c0, 0x0, ...)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/compact.go:620 +0xc70\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*LeveledCompactor).write(0x13fad200, 0x7edd97c8, 0x21, 0x148702a0, 0x13e65e28, 0x1, 0x1, 0x0, 0x0)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/compact.go:472 +0x2f0\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*LeveledCompactor).Write(0x13fad200, 0x7edd97c8, 0x21, 0x14c7218, 0x149a2fc0, 0x3fcea800, 0x166, 0x403c8500, 0x166, 0x0, ...)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/compact.go:393 +0x294\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*DB).compact(0x13eae540, 0x0, 0x0, 0x0)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/db.go:404 +0x2ac\r\ngithub.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.(*DB).run(0x13eae540)\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/db.go:303 +0x218\r\ncreated by github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb.Open\r\n        /home/prometheus/gocode/src/github.com/prometheus/prometheus/vendor/github.com/prometheus/tsdb/db.go:272 +0x468\r\n```\r\n",
  "closed_at": "2018-10-05T12:10:45Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5609886?v=4",
    "events_url": "https://api.github.com/users/beorn7/events{/privacy}",
    "followers_url": "https://api.github.com/users/beorn7/followers",
    "following_url": "https://api.github.com/users/beorn7/following{/other_user}",
    "gists_url": "https://api.github.com/users/beorn7/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/beorn7",
    "id": 5609886,
    "login": "beorn7",
    "node_id": "MDQ6VXNlcjU2MDk4ODY=",
    "organizations_url": "https://api.github.com/users/beorn7/orgs",
    "received_events_url": "https://api.github.com/users/beorn7/received_events",
    "repos_url": "https://api.github.com/users/beorn7/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/beorn7/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/beorn7/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/beorn7"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/4697/comments",
  "created_at": "2018-10-05T07:00:59Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/4697/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/4697",
  "id": 367084080,
  "labels": [],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/4697/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzNjcwODQwODA=",
  "number": 4697,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "Possible Bug: runtime error: invalid memory address or nil pointer dereference",
  "updated_at": "2019-04-03T12:54:47Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/4697",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/64738?v=4",
    "events_url": "https://api.github.com/users/alevchuk/events{/privacy}",
    "followers_url": "https://api.github.com/users/alevchuk/followers",
    "following_url": "https://api.github.com/users/alevchuk/following{/other_user}",
    "gists_url": "https://api.github.com/users/alevchuk/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/alevchuk",
    "id": 64738,
    "login": "alevchuk",
    "node_id": "MDQ6VXNlcjY0NzM4",
    "organizations_url": "https://api.github.com/users/alevchuk/orgs",
    "received_events_url": "https://api.github.com/users/alevchuk/received_events",
    "repos_url": "https://api.github.com/users/alevchuk/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/alevchuk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alevchuk/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/alevchuk"
  }
}
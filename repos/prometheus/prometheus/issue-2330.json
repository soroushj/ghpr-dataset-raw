{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "**What did you do?**\r\n\r\n * set `-log.level=error` or `-log.level=debug`\r\n * went to `/flags`\r\n\r\n**What did you expect to see?**\r\n\r\n`log.level`  on `/flags` to have the value I set.\r\n\r\n**What did you see instead? Under which circumstances?**\r\n\r\n`log.level` on `/flags` always shows  `\"info\"`\r\n\r\nIt is unclear to me if this is purely a reporting issue, or if the log level is not being used correctly.  When I set the log level to `error` I see no `INFO` messages on `stderr` (as expected), but if I set it to `debug` the only additional message I see is `DEBU[0011] Target manager stopped                        source=targetmanager.go:89` on shutdown.\r\n\r\n**Environment**\r\n\r\n* System information:\r\n\r\n`# uname -srm\r\nLinux 4.3.0 x86_64`\r\n\r\n* Prometheus version: \r\n\r\n```\r\n# ./prometheus -version\r\nprometheus, version 1.4.1 (branch: master, revision: 2a89e8733f240d3cd57a6520b52c36ac4744ce12)\r\n  build user:       root@e685d23d8809\r\n  build date:       20161128-09:59:22\r\n  go version:       go1.7.3\r\n```\r\n\r\n\r\n* Prometheus configuration file:\r\n```\r\nglobal:\r\n  scrape_interval:     15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.\r\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\r\n  # scrape_timeout is set to the global default (10s).\r\n\r\n  # Attach these labels to any time series or alerts when communicating with\r\n  # external systems (federation, remote storage, Alertmanager).\r\n  external_labels:\r\n      monitor: 'codelab-monitor'\r\n\r\nrule_files:\r\n  # - \"first.rules\"\r\n\r\nscrape_configs:\r\n  # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.\r\n  - job_name: 'prometheus'\r\n\r\n    static_configs:\r\n      - targets: ['localhost:9090']\r\n  - job_name: 'pushgateway'\r\n    honor_labels: true\r\n    static_configs:\r\n      - targets: ['localhost:9091']\r\n  - job_name: 'localyolo'\r\n    scrape_interval: 5s\r\n    honor_labels: true\r\n    static_configs:\r\n     - targets: ['localhost:8000']\r\n\r\n```\r\n\r\n* Logs:\r\nat `debug`\r\n```\r\nINFO[0000] Starting prometheus (version=1.4.1, branch=master, revision=2a89e8733f240d3cd57a6520b52c36ac4744ce12)  source=main.go:77\r\nINFO[0000] Build context (go=go1.7.3, user=root@e685d23d8809, date=20161128-09:59:22)  source=main.go:78\r\nINFO[0000] Loading configuration file prometheus.yml     source=main.go:250\r\nINFO[0000] Loading series map and head chunks...         source=storage.go:354\r\nINFO[0000] 506 series loaded.                            source=storage.go:359\r\nINFO[0000] Starting target manager...                    source=targetmanager.go:63\r\nINFO[0000] Listening on :9090                            source=web.go:248\r\n^CWARN[0013] Received SIGTERM, exiting gracefully...       source=main.go:232\r\nINFO[0013] See you next time!                            source=main.go:239\r\nINFO[0013] Stopping target manager...                    source=targetmanager.go:77\r\nDEBU[0013] Target manager stopped                        source=targetmanager.go:89\r\nINFO[0013] Stopping rule manager...                      source=manager.go:374\r\nINFO[0013] Rule manager stopped.                         source=manager.go:380\r\nINFO[0013] Stopping notification handler...              source=notifier.go:369\r\nINFO[0013] Stopping local storage...                     source=storage.go:377\r\nINFO[0013] Stopping maintenance loop...                  source=storage.go:379\r\nINFO[0013] Maintenance loop stopped.                     source=storage.go:1237\r\nINFO[0013] Stopping series quarantining...               source=storage.go:383\r\nINFO[0013] Series quarantining stopped.                  source=storage.go:1648\r\nINFO[0013] Stopping chunk eviction...                    source=storage.go:387\r\nINFO[0013] Chunk eviction stopped.                       source=storage.go:1057\r\nINFO[0013] Checkpointing in-memory metrics and chunks...  source=persistence.go:549\r\nINFO[0013] Done checkpointing in-memory metrics and chunks in 10.635958ms.  source=persistence.go:573\r\nINFO[0013] Checkpointing fingerprint mappings...         source=persistence.go:1372\r\nINFO[0013] Done checkpointing fingerprint mappings in 604.014\u00b5s.  source=persistence.go:1395\r\nINFO[0013] Local storage stopped.                        source=storage.go:402\r\n```\r\n",
  "closed_at": "2017-04-27T13:25:13Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/7115638?v=4",
    "events_url": "https://api.github.com/users/brian-brazil/events{/privacy}",
    "followers_url": "https://api.github.com/users/brian-brazil/followers",
    "following_url": "https://api.github.com/users/brian-brazil/following{/other_user}",
    "gists_url": "https://api.github.com/users/brian-brazil/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/brian-brazil",
    "id": 7115638,
    "login": "brian-brazil",
    "node_id": "MDQ6VXNlcjcxMTU2Mzg=",
    "organizations_url": "https://api.github.com/users/brian-brazil/orgs",
    "received_events_url": "https://api.github.com/users/brian-brazil/received_events",
    "repos_url": "https://api.github.com/users/brian-brazil/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/brian-brazil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brian-brazil/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/brian-brazil"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/2330/comments",
  "created_at": "2017-01-09T18:14:32Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/2330/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/2330",
  "id": 199622621,
  "labels": [
    {
      "color": "ff0000",
      "default": false,
      "description": null,
      "id": 365563588,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzNjU1NjM1ODg=",
      "url": "https://api.github.com/repos/prometheus/prometheus/labels/kind/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/2330/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxOTk2MjI2MjE=",
  "number": 2330,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "/flags does not reflect log.level flag",
  "updated_at": "2019-03-23T10:45:55Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/2330",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/24433?v=4",
    "events_url": "https://api.github.com/users/cburroughs/events{/privacy}",
    "followers_url": "https://api.github.com/users/cburroughs/followers",
    "following_url": "https://api.github.com/users/cburroughs/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburroughs/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/cburroughs",
    "id": 24433,
    "login": "cburroughs",
    "node_id": "MDQ6VXNlcjI0NDMz",
    "organizations_url": "https://api.github.com/users/cburroughs/orgs",
    "received_events_url": "https://api.github.com/users/cburroughs/received_events",
    "repos_url": "https://api.github.com/users/cburroughs/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/cburroughs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburroughs/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/cburroughs"
  }
}
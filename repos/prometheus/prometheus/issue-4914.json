{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "Sorry for the terrible bug report. I don't have more time to spend on this and it's not incredibly critical.\r\n\r\n1. Seems the Discovery instance (at least for marathon) does not close response so underlying transport leaks sockets. This was observed on a server trying to scrape an endpoint returning 5xx errors. After some period of time you can observe many sockets in CLOSE_WAIT state\r\n\r\n2. After removing the faulty Discoverer from config and reloading the leaked sockets are not cleaned up (why?)",
  "closed_at": "2018-11-27T13:58:28Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/2587585?v=4",
    "events_url": "https://api.github.com/users/simonpasquier/events{/privacy}",
    "followers_url": "https://api.github.com/users/simonpasquier/followers",
    "following_url": "https://api.github.com/users/simonpasquier/following{/other_user}",
    "gists_url": "https://api.github.com/users/simonpasquier/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/simonpasquier",
    "id": 2587585,
    "login": "simonpasquier",
    "node_id": "MDQ6VXNlcjI1ODc1ODU=",
    "organizations_url": "https://api.github.com/users/simonpasquier/orgs",
    "received_events_url": "https://api.github.com/users/simonpasquier/received_events",
    "repos_url": "https://api.github.com/users/simonpasquier/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/simonpasquier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simonpasquier/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/simonpasquier"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/4914/comments",
  "created_at": "2018-11-26T15:29:58Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/4914/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/4914",
  "id": 384382496,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 365567641,
      "name": "component/service discovery",
      "node_id": "MDU6TGFiZWwzNjU1Njc2NDE=",
      "url": "https://api.github.com/repos/prometheus/prometheus/labels/component/service%20discovery"
    },
    {
      "color": "ff0000",
      "default": false,
      "description": null,
      "id": 365563588,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzNjU1NjM1ODg=",
      "url": "https://api.github.com/repos/prometheus/prometheus/labels/kind/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/4914/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzODQzODI0OTY=",
  "number": 4914,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "Buggy Discovery behavior",
  "updated_at": "2019-05-30T15:46:54Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/4914",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1578524?v=4",
    "events_url": "https://api.github.com/users/johnskopis/events{/privacy}",
    "followers_url": "https://api.github.com/users/johnskopis/followers",
    "following_url": "https://api.github.com/users/johnskopis/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnskopis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/johnskopis",
    "id": 1578524,
    "login": "johnskopis",
    "node_id": "MDQ6VXNlcjE1Nzg1MjQ=",
    "organizations_url": "https://api.github.com/users/johnskopis/orgs",
    "received_events_url": "https://api.github.com/users/johnskopis/received_events",
    "repos_url": "https://api.github.com/users/johnskopis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/johnskopis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnskopis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/johnskopis"
  }
}
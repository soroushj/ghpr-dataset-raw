{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "There's a metric to track inconsistencies in the local storage:\n\n```\nprometheus_local_storage_inconsistencies_total\n```\n\nhttps://github.com/prometheus/prometheus/blob/70490fe5685277a7ff5bf09aaa96843a379a6e25/storage/local/persistence.go#L242-L247\n\n...but it's not incremented (as far as I can tell) when the storage is found dirty during startup (and crash recovery is invoked):\n\nhttps://github.com/prometheus/prometheus/blob/70490fe5685277a7ff5bf09aaa96843a379a6e25/storage/local/persistence.go#L700-L708\n\nThe help for the above metric says:\n\n> A counter incremented each time an inconsistency in the local storage is detected. If this is greater zero, restart the server as soon as possible.\n\nSo it probably doesn't make sense to use it to indicate that crash recovery took place when Prometheus started.\n\nShould we have a separate metric dedicated to this purpose?\n",
  "closed_at": "2016-08-28T16:42:32Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/538008?v=4",
    "events_url": "https://api.github.com/users/juliusv/events{/privacy}",
    "followers_url": "https://api.github.com/users/juliusv/followers",
    "following_url": "https://api.github.com/users/juliusv/following{/other_user}",
    "gists_url": "https://api.github.com/users/juliusv/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/juliusv",
    "id": 538008,
    "login": "juliusv",
    "node_id": "MDQ6VXNlcjUzODAwOA==",
    "organizations_url": "https://api.github.com/users/juliusv/orgs",
    "received_events_url": "https://api.github.com/users/juliusv/received_events",
    "repos_url": "https://api.github.com/users/juliusv/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/juliusv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/juliusv/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/juliusv"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/1918/comments",
  "created_at": "2016-08-24T21:18:17Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/1918/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/1918",
  "id": 173060528,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": null,
      "id": 365563592,
      "name": "kind/enhancement",
      "node_id": "MDU6TGFiZWwzNjU1NjM1OTI=",
      "url": "https://api.github.com/repos/prometheus/prometheus/labels/kind/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/1918/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNzMwNjA1Mjg=",
  "number": 1918,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "Metric tracking crash recoveries?",
  "updated_at": "2019-03-24T06:20:19Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/1918",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/4348848?v=4",
    "events_url": "https://api.github.com/users/mattbostock/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattbostock/followers",
    "following_url": "https://api.github.com/users/mattbostock/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattbostock/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattbostock",
    "id": 4348848,
    "login": "mattbostock",
    "node_id": "MDQ6VXNlcjQzNDg4NDg=",
    "organizations_url": "https://api.github.com/users/mattbostock/orgs",
    "received_events_url": "https://api.github.com/users/mattbostock/received_events",
    "repos_url": "https://api.github.com/users/mattbostock/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattbostock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattbostock/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattbostock"
  }
}
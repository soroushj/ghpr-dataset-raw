{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "While I readily agree that autogenerated config files should not have this problem, and that YAML works that way, especially in the trial phase, this can confuse users. Warning or, preferably, erroring out would be appreciated.\n\nIf you run with a configuration like:\n\n```\nscrape_configs:\n  - job_name: 'prometheus_system'\n    target_groups:\n    - targets: ['localhost:9100']\n\nscrape_configs:\n  - job_name: 'foo_system'\n    target_groups:\n    - targets: ['foot:9100']\n```\n\nthe former `scrape_configs` is silently discarded. While that's the obvious case, constructs like\n\n```\nscrape_configs:\n  - job_name: 'prometheus_system'\n    target_groups:\n    - targets: ['localhost:9100']\n\nrule_files:\n  - 'prometheus.rules'\n\nscrape_configs:\n  - job_name: 'foo_system'\n    target_groups:\n    - targets: ['foo:9100']\n```\n\nare silently discarded as well.\n\nSo to summarize: Yes, I fat-fingered, but principle of least surprise would be to error out instead of silently carrying on.\n",
  "closed_at": "2015-12-28T08:46:34Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/754723?v=4",
    "events_url": "https://api.github.com/users/RichiH/events{/privacy}",
    "followers_url": "https://api.github.com/users/RichiH/followers",
    "following_url": "https://api.github.com/users/RichiH/following{/other_user}",
    "gists_url": "https://api.github.com/users/RichiH/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/RichiH",
    "id": 754723,
    "login": "RichiH",
    "node_id": "MDQ6VXNlcjc1NDcyMw==",
    "organizations_url": "https://api.github.com/users/RichiH/orgs",
    "received_events_url": "https://api.github.com/users/RichiH/received_events",
    "repos_url": "https://api.github.com/users/RichiH/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/RichiH/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RichiH/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/RichiH"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/prometheus/prometheus/issues/1275/comments",
  "created_at": "2015-12-28T08:25:12Z",
  "events_url": "https://api.github.com/repos/prometheus/prometheus/issues/1275/events",
  "html_url": "https://github.com/prometheus/prometheus/issues/1275",
  "id": 124033799,
  "labels": [],
  "labels_url": "https://api.github.com/repos/prometheus/prometheus/issues/1275/labels{/name}",
  "locked": true,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxMjQwMzM3OTk=",
  "number": 1275,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/prometheus/prometheus",
  "state": "closed",
  "title": "Config parser does not complain about overriden parts of configuration",
  "updated_at": "2019-03-24T15:28:12Z",
  "url": "https://api.github.com/repos/prometheus/prometheus/issues/1275",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/754723?v=4",
    "events_url": "https://api.github.com/users/RichiH/events{/privacy}",
    "followers_url": "https://api.github.com/users/RichiH/followers",
    "following_url": "https://api.github.com/users/RichiH/following{/other_user}",
    "gists_url": "https://api.github.com/users/RichiH/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/RichiH",
    "id": 754723,
    "login": "RichiH",
    "node_id": "MDQ6VXNlcjc1NDcyMw==",
    "organizations_url": "https://api.github.com/users/RichiH/orgs",
    "received_events_url": "https://api.github.com/users/RichiH/received_events",
    "repos_url": "https://api.github.com/users/RichiH/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/RichiH/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RichiH/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/RichiH"
  }
}
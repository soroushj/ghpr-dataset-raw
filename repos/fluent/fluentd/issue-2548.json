{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "```2019-08-01 06:59:41 +0000 [info]: gem 'fluent-plugin-gelf-hs' version '1.0.8'\r\n2019-08-01 06:59:41 +0000 [info]: gem 'fluent-plugin-newsyslog' version '0.1.2'\r\n2019-08-01 06:59:41 +0000 [info]: gem 'fluent-plugin-record-modifier' version '2.0.1'\r\n2019-08-01 06:59:41 +0000 [info]: gem 'fluentd' version '1.4.2'\r\n2019-08-01 06:59:41 +0000 [info]: adding match pattern=\"fluent.**\" type=\"null\"\r\n2019-08-01 06:59:41 +0000 [info]: adding filter pattern=\"**\" type=\"record_modifier\"\r\n2019-08-01 06:59:41 +0000 [info]: adding match pattern=\"**\" type=\"gelf\"\r\n2019-08-01 06:59:41 +0000 [info]: adding source type=\"forward\"\r\n2019-08-01 06:59:41 +0000 [info]: #0 starting fluentd worker pid=7681 ppid=6 worker=0\r\n2019-08-01 06:59:41 +0000 [info]: #0 listening port port=xxxxx bind=\"0.0.0.0\"\r\n2019-08-01 06:59:41 +0000 [info]: #0 fluentd worker is now running worker=0 \r\n```     \r\n\r\nFluentd recieves messages from Fluentbit via forward and sends them to Graylog via gelf. Most of the time it works and we can see log messages, but from time to time Fluentd dies with this error:\r\n\r\n```\r\n2019-08-01 06:59:41 +0000 [warn]: #0 thread exited by unexpected error plugin=Fluent::Plugin::ForwardInput title=:event_loop error_class=Errno::ETIMEDOUT error=\"Connection timed out - SSL_accept\"\r\n2019-08-01 06:59:41 +0000 [error]: #0 unexpected error error_class=Errno::ETIMEDOUT error=\"Connection timed out - SSL_accept\"\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/server.rb:695:in `accept_nonblock'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/server.rb:695:in `try_handshake'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/server.rb:711:in `try_tls_accept'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/server.rb:738:in `on_readable'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/cool.io-1.5.4/lib/cool.io/io.rb:186:in `on_readable'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/cool.io-1.5.4/lib/cool.io/loop.rb:88:in `run_once'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/cool.io-1.5.4/lib/cool.io/loop.rb:88:in `run'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/event_loop.rb:93:in `block in start'\r\n2019-08-01 06:59:41 +0000 [error]: #0 /var/lib/gems/2.3.0/gems/fluentd-1.4.2/lib/fluent/plugin_helper/thread.rb:78:in `block in thread_create'\r\n2019-08-01 06:59:41 +0000 [error]: #0 unexpected error error_class=Errno::ETIMEDOUT error=\"Connection timed out - SSL_accept\" \r\n ```              \r\n**Fluentd** source config :      \r\n```<source>\r\n  @type forward\r\n  port xxxxx\r\n  bind 0.0.0.0\r\n  <security>\r\n    self_hostname \"fluentd_hostname\"\r\n    shared_key \"shared_key\"\r\n  </security>\r\n  <transport tls>\r\n    version                TLSv1_2\r\n    ca_path                /etc/xxx/xxx/ca.crt.pem\r\n    cert_path              /etc/xxx/xxx/server.crt.pem\r\n    private_key_path       /etc/xxx/xxx/server.key.pem\r\n    private_key_passphrase \"private_key_pass\"\r\n    client_cert_auth       true\r\n  </transport>\r\n</source>  \r\n```\r\n\r\n\r\n",
  "closed_at": "2019-09-02T05:11:52Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/16928?v=4",
    "events_url": "https://api.github.com/users/repeatedly/events{/privacy}",
    "followers_url": "https://api.github.com/users/repeatedly/followers",
    "following_url": "https://api.github.com/users/repeatedly/following{/other_user}",
    "gists_url": "https://api.github.com/users/repeatedly/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/repeatedly",
    "id": 16928,
    "login": "repeatedly",
    "node_id": "MDQ6VXNlcjE2OTI4",
    "organizations_url": "https://api.github.com/users/repeatedly/orgs",
    "received_events_url": "https://api.github.com/users/repeatedly/received_events",
    "repos_url": "https://api.github.com/users/repeatedly/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/repeatedly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/repeatedly/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/repeatedly"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/2548/comments",
  "created_at": "2019-08-09T12:59:46Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/2548/events",
  "html_url": "https://github.com/fluent/fluentd/issues/2548",
  "id": 478974773,
  "labels": [
    {
      "color": "e11d21",
      "default": true,
      "description": null,
      "id": 94152935,
      "name": "bug",
      "node_id": "MDU6TGFiZWw5NDE1MjkzNQ==",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/2548/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0Nzg5NzQ3NzM=",
  "number": 2548,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "fluentd exits with Errno::ETIMEDOUT error=\"Connection timed out - SSL_accept\"",
  "updated_at": "2019-09-02T05:11:52Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/2548",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/19853436?v=4",
    "events_url": "https://api.github.com/users/maadtechie/events{/privacy}",
    "followers_url": "https://api.github.com/users/maadtechie/followers",
    "following_url": "https://api.github.com/users/maadtechie/following{/other_user}",
    "gists_url": "https://api.github.com/users/maadtechie/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/maadtechie",
    "id": 19853436,
    "login": "maadtechie",
    "node_id": "MDQ6VXNlcjE5ODUzNDM2",
    "organizations_url": "https://api.github.com/users/maadtechie/orgs",
    "received_events_url": "https://api.github.com/users/maadtechie/received_events",
    "repos_url": "https://api.github.com/users/maadtechie/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/maadtechie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/maadtechie/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/maadtechie"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/2290461?v=4",
    "events_url": "https://api.github.com/users/sonots/events{/privacy}",
    "followers_url": "https://api.github.com/users/sonots/followers",
    "following_url": "https://api.github.com/users/sonots/following{/other_user}",
    "gists_url": "https://api.github.com/users/sonots/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sonots",
    "id": 2290461,
    "login": "sonots",
    "node_id": "MDQ6VXNlcjIyOTA0NjE=",
    "organizations_url": "https://api.github.com/users/sonots/orgs",
    "received_events_url": "https://api.github.com/users/sonots/received_events",
    "repos_url": "https://api.github.com/users/sonots/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sonots/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sonots/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sonots"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/2290461?v=4",
      "events_url": "https://api.github.com/users/sonots/events{/privacy}",
      "followers_url": "https://api.github.com/users/sonots/followers",
      "following_url": "https://api.github.com/users/sonots/following{/other_user}",
      "gists_url": "https://api.github.com/users/sonots/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/sonots",
      "id": 2290461,
      "login": "sonots",
      "node_id": "MDQ6VXNlcjIyOTA0NjE=",
      "organizations_url": "https://api.github.com/users/sonots/orgs",
      "received_events_url": "https://api.github.com/users/sonots/received_events",
      "repos_url": "https://api.github.com/users/sonots/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/sonots/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sonots/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/sonots"
    }
  ],
  "author_association": "NONE",
  "body": "After upgrading fluentd to version 0.12.3, I noticed that the old fluentd processes are not reclaimed after reloading the configuration with SIGHUP. Is this expected behavior? With version 0.12.2, the configuration was not reloaded at all on SIGHUP (fixed in #537), so I was looking forward to the new release.\n\nAbout my setup: I am running fluentd inside a docker image that watches the docker API. When a docker container is started or stopped, the `/etc/fluentd/fluentd.conf` file is regenerated from a template and the fluentd process is asked to reload its configuration by receiving SIGHUP.\n\nAs a workaround for this issue, I will regenerate my image to reload the configuration by completely restarting the fluentd process (SIGINT) but that is far from optimal.\n\nHere is a lot that shows the problem (I filtered out unrelated entries).\n\n```\n# ps x\n  PID TTY      STAT   TIME COMMAND\n    1 ?        Ss     0:00 /usr/bin/python3 -u /sbin/my_init\n   15 ?        S      0:00 /usr/bin/runsvdir -P /etc/service\n   19 ?        Ss     0:00 runsv fluentd\n   20 ?        Ss     0:00 runsv docker-gen\n   22 ?        Sl     0:00 /usr/local/bin/docker-gen -watch -notify sv hup fluentd /root/fluentd.tmpl /etc/fluent\n   39 ?        Sl     0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\n  104 ?        Sl     0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\n  156 ?        Sl     0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\n  158 ?        Sl     0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\n  207 ?        R+     0:00 ps x\n# sv hup fluentd\n# ps aux | grep fluentd\nroot        19  0.0  0.0    168     4 ?        Ss   02:44   0:00 runsv fluentd\nroot        22  0.1  0.0 189884  4664 ?        Sl   02:44   0:00 /usr/local/bin/docker-gen -watch -notify sv hup fluentd /root/fluentd.tmpl /etc/fluentd/fluentd.conf\nroot        39  0.3  0.5 1211264 33796 ?       Sl   02:44   0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\nroot       104  0.5  0.5 1211272 32280 ?       Sl   02:46   0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\nroot       158  0.6  0.5 1211292 32244 ?       Sl   02:47   0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\nroot       209  3.8  0.3  91168 20688 ?        Sl   02:48   0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\nroot       211  6.1  0.5 1211336 32420 ?       Sl   02:48   0:00 /usr/bin/ruby2.1 /usr/local/bin/fluentd -c /etc/fluentd/fluentd.conf\n# ps aux | grep /usr/local/bin/fluentd | grep -v grep | wc -l\n5\n# sv hup fluentd\n# ps aux | grep /usr/local/bin/fluentd | grep -v grep | wc -l\n6\n# sv hup fluentd\n# sv hup fluentd\n# sv hup fluentd\n# ps aux | grep /usr/local/bin/fluentd | grep -v grep | wc -l\n9\n# sv hup fluentd\n# sv hup fluentd\n# sv hup fluentd\n# ps aux | grep /usr/local/bin/fluentd | grep -v grep | wc -l\n12\n```\n",
  "closed_at": "2015-01-21T11:46:59Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/16928?v=4",
    "events_url": "https://api.github.com/users/repeatedly/events{/privacy}",
    "followers_url": "https://api.github.com/users/repeatedly/followers",
    "following_url": "https://api.github.com/users/repeatedly/following{/other_user}",
    "gists_url": "https://api.github.com/users/repeatedly/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/repeatedly",
    "id": 16928,
    "login": "repeatedly",
    "node_id": "MDQ6VXNlcjE2OTI4",
    "organizations_url": "https://api.github.com/users/repeatedly/orgs",
    "received_events_url": "https://api.github.com/users/repeatedly/received_events",
    "repos_url": "https://api.github.com/users/repeatedly/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/repeatedly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/repeatedly/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/repeatedly"
  },
  "comments": 14,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/540/comments",
  "created_at": "2015-01-19T03:03:48Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/540/events",
  "html_url": "https://github.com/fluent/fluentd/issues/540",
  "id": 54721981,
  "labels": [],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/540/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NDcyMTk4MQ==",
  "number": 540,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "Old fluentd processes leaked after reloading configuration with SIGHUP.",
  "updated_at": "2015-01-21T11:46:59Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/540",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/834791?v=4",
    "events_url": "https://api.github.com/users/jperville/events{/privacy}",
    "followers_url": "https://api.github.com/users/jperville/followers",
    "following_url": "https://api.github.com/users/jperville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jperville/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jperville",
    "id": 834791,
    "login": "jperville",
    "node_id": "MDQ6VXNlcjgzNDc5MQ==",
    "organizations_url": "https://api.github.com/users/jperville/orgs",
    "received_events_url": "https://api.github.com/users/jperville/received_events",
    "repos_url": "https://api.github.com/users/jperville/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jperville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jperville/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jperville"
  }
}
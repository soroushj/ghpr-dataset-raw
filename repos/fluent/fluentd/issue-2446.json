{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "## fluentd or td-agent version.\r\ntd-agent-3.4.1-0-x64\r\n\r\n## Environment information:\r\nOperating system:\r\n        Microsoft Windows 10 Enterprise 1703\r\n        BuildNumber: 15063\r\n        Version: 10.0.15063\r\n        OSArchitecture: 64-bit\r\nKernel version:\r\n\r\n\r\n## Your configuration\r\nC:\\opt\\td-agent\\c\r\n```\r\n# listen http port\r\n<source>\r\n  @type http\r\n  port 9880\r\n  bind 0.0.0.0\r\n</source>\r\n\r\n# send handled messages to elastic\r\n<match **>\r\n\t@type copy\r\n\t<store>                                                 \r\n\t\t@type stdout\r\n\t</store> \r\n\t<store>\r\n\t@type elasticsearch_dynamic\r\n\thost my.remote.host\r\n\tport 9200\r\n\tlogstash_prefix buffer_test\r\n\tlogstash_format true\r\n\ttype_name logevent\r\n\t<buffer>\r\n\t\t@type file\r\n\t\tpath buffer/Handled\r\n\t\ttotal_limit_size 10MB\r\n\t\toverflow_action drop_oldest_chunk\r\n\t\tqueued_chunks_limit_size 10\r\n\t\tflush_interval 4s\r\n\t\tretry_forever true\r\n\t\tflush_thread_count 2\r\n\t</buffer>\r\n\t</store>\r\n</match>\r\n\r\n```\r\n### Your problem explanation. If you have an error logs, write it together.\r\nHello! I cannot make to rotate logs file of fluentd application. I use the following command under administrator user to launch program:\r\n```\r\nfluentd -c c -o C:\\opt\\td-agent\\log --log-rotate-age 3 --log-rotate-size 1000000\r\n```\r\nBut when file C:\\opt\\td-agent\\log reaches the limit of 1000000 bytes, I get messages:\r\n```\r\nlog shifting failed. Permission denied @ rb_file_s_rename - (C:\\opt\\td-agent\\log, C:\\opt\\td-agent\\log.0)\r\nlog writing failed. closed stream\r\nlog shifting failed. closed stream\r\nlog writing failed. closed stream\r\nlog shifting failed. closed stream\r\nlog writing failed. closed stream\r\nlog shifting failed. closed stream\r\nlog writing failed. closed stream\r\nlog shifting failed. closed stream\r\nlog writing failed. closed stream\r\nlog shifting failed. closed stream\r\nlog writing failed. closed stream\r\n.... (after that many of these lines)\r\n```",
  "closed_at": "2019-10-24T05:10:11Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/16928?v=4",
    "events_url": "https://api.github.com/users/repeatedly/events{/privacy}",
    "followers_url": "https://api.github.com/users/repeatedly/followers",
    "following_url": "https://api.github.com/users/repeatedly/following{/other_user}",
    "gists_url": "https://api.github.com/users/repeatedly/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/repeatedly",
    "id": 16928,
    "login": "repeatedly",
    "node_id": "MDQ6VXNlcjE2OTI4",
    "organizations_url": "https://api.github.com/users/repeatedly/orgs",
    "received_events_url": "https://api.github.com/users/repeatedly/received_events",
    "repos_url": "https://api.github.com/users/repeatedly/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/repeatedly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/repeatedly/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/repeatedly"
  },
  "comments": 20,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/2446/comments",
  "created_at": "2019-06-05T17:22:09Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/2446/events",
  "html_url": "https://github.com/fluent/fluentd/issues/2446",
  "id": 452622695,
  "labels": [
    {
      "color": "eb6420",
      "default": false,
      "description": null,
      "id": 67268832,
      "name": "windows",
      "node_id": "MDU6TGFiZWw2NzI2ODgzMg==",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/windows"
    }
  ],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/2446/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NTI2MjI2OTU=",
  "number": 2446,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "Cannot make to rotate log file of fluentd application on windows",
  "updated_at": "2019-10-24T05:10:11Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/2446",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/23648754?v=4",
    "events_url": "https://api.github.com/users/ISChetverikov/events{/privacy}",
    "followers_url": "https://api.github.com/users/ISChetverikov/followers",
    "following_url": "https://api.github.com/users/ISChetverikov/following{/other_user}",
    "gists_url": "https://api.github.com/users/ISChetverikov/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/ISChetverikov",
    "id": 23648754,
    "login": "ISChetverikov",
    "node_id": "MDQ6VXNlcjIzNjQ4NzU0",
    "organizations_url": "https://api.github.com/users/ISChetverikov/orgs",
    "received_events_url": "https://api.github.com/users/ISChetverikov/received_events",
    "repos_url": "https://api.github.com/users/ISChetverikov/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/ISChetverikov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ISChetverikov/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/ISChetverikov"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "Symmetric multi worker processing #1386 doesn't permit to execute any plugins and configurations in just one process.\r\nBut there are requirements and feature requests for such use cases. For example, executing plugins for monitoring (should be unique in a server).\r\n\r\nThis is an idea to keep symmetric semantics for multi process workers, but to realize such workloads.\r\n* add `<worker N>` section in configuration top-level\r\n* enable that section only in the specified worker (specified by worker id)\r\n* allow to run plugins only in `<worker>` sections, which doesn't support multi worker feature\r\n\r\n```apache\r\n<system>\r\n  workers 8\r\n  root_dir /path/fluentd/root\r\n</system>\r\n<source>  # top-level sections works on all workers in parallel\r\n  @id edge_input\r\n  @type forward\r\n  @label @traffic\r\n  port 24224\r\n</source>\r\n<label @traffic>  # this section works on all workers too\r\n  <match **>\r\n    @id backend_output\r\n    @type forward\r\n    <buffer>\r\n      @type file\r\n      flush_interval 8m\r\n    </buffer>\r\n  </match>\r\n</label>\r\n<worker 0> # this section works only on first worker process\r\n  <source>\r\n    @id system_log_reader\r\n    @type tail\r\n    tag monitoring\r\n    path /path/now/watching/...\r\n  </source>\r\n  <match monitoring>\r\n    @id output_for_monitoring\r\n    @type elasticsearch\r\n    # ...\r\n  </match>\r\n</worker>\r\n```\r\n",
  "closed_at": "2017-04-13T13:06:11Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/16928?v=4",
    "events_url": "https://api.github.com/users/repeatedly/events{/privacy}",
    "followers_url": "https://api.github.com/users/repeatedly/followers",
    "following_url": "https://api.github.com/users/repeatedly/following{/other_user}",
    "gists_url": "https://api.github.com/users/repeatedly/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/repeatedly",
    "id": 16928,
    "login": "repeatedly",
    "node_id": "MDQ6VXNlcjE2OTI4",
    "organizations_url": "https://api.github.com/users/repeatedly/orgs",
    "received_events_url": "https://api.github.com/users/repeatedly/received_events",
    "repos_url": "https://api.github.com/users/repeatedly/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/repeatedly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/repeatedly/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/repeatedly"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/1392/comments",
  "created_at": "2016-12-27T07:08:56Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/1392/events",
  "html_url": "https://github.com/fluent/fluentd/issues/1392",
  "id": 197658051,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 92597736,
      "name": "feature request",
      "node_id": "MDU6TGFiZWw5MjU5NzczNg==",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/feature%20request"
    },
    {
      "color": "009800",
      "default": false,
      "description": null,
      "id": 146493149,
      "name": "v0.14",
      "node_id": "MDU6TGFiZWwxNDY0OTMxNDk=",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/v0.14"
    }
  ],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/1392/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxOTc2NTgwNTE=",
  "number": 1392,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "`<worker>` section to enable a set of configuration in a specified worker",
  "updated_at": "2017-04-13T13:06:11Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/1392",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/230654?v=4",
    "events_url": "https://api.github.com/users/tagomoris/events{/privacy}",
    "followers_url": "https://api.github.com/users/tagomoris/followers",
    "following_url": "https://api.github.com/users/tagomoris/following{/other_user}",
    "gists_url": "https://api.github.com/users/tagomoris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tagomoris",
    "id": 230654,
    "login": "tagomoris",
    "node_id": "MDQ6VXNlcjIzMDY1NA==",
    "organizations_url": "https://api.github.com/users/tagomoris/orgs",
    "received_events_url": "https://api.github.com/users/tagomoris/received_events",
    "repos_url": "https://api.github.com/users/tagomoris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tagomoris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tagomoris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tagomoris"
  }
}
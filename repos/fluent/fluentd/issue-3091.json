{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "Check [CONTRIBUTING guideline](https://github.com/fluent/fluentd/blob/master/CONTRIBUTING.md) first and here is the list to help us investigate the problem.\r\n\r\n**Describe the bug**\r\nI am using Fluentd as superuser 'su' on my virtual machine. Whenever I try to run my python script using @type exec, it will show on the terminal as ``` #0 plugin_helper/child_process.rb:255:child_process_execute_once: Executing command title=:exec_input spawn=[{}, \"python /home/zohair/Desktop/script1.py\"] mode=[:read] stderr=:discard``` meaning its executing the script. I also used -vv to get more information why the actions from the script were not being completed (Which were to create a folder and download some files from a webserver). The actual problem was that my python script as superuser did not have module 'requests' installed. While debugging and printing output to @type stdout there was never an error displayed like this in the whole log file. To solve it i simply added requirements.txt as a command on fluentd. \r\n\r\n**To Reproduce**\r\nRun a python script with a non-installed pip library as superuser. Fluentd never displays the error.\r\n\r\n**Expected behavior**\r\nOn the terminal, Fluentd should output this missing module error.\r\n\r\n**Your Environment**\r\n\r\n- Fluentd or td-agent version: 0.14\r\n- Operating system: Debian KVM Virtual Machine\r\n\r\n**Your Configuration**\r\n\r\n```\r\n<source>\r\n  @type exec\r\n  @id exec_input\r\n  tag somescript\r\n  command python /home/SOMEUSER/Desktop/script.py\r\n  run_interval 5s\r\n  <parse>\r\n    @type none\r\n  </parse>\r\n</source>\r\n\r\n<match somescript>\r\n  @type stdout\r\n</match>\r\n\r\n<source>\r\n  @type tail\r\n  @id tail_input\r\n  read_from_head true\r\n  path /home/SOMEUSER/Desktop/logs/*\r\n  refresh_interval 1s\r\n  tag debug.test\r\n  <parse>\r\n    @type none\r\n  </parse>\r\n</source>\r\n\r\n<match debug.test>\r\n  @type stdout\r\n</match>\r\n```\r\n\r\n**Your Error Log**\r\n\r\n```\r\nroot@debian:/home/zohair# export GEM_PATH=/opt/slapgrid/ff45fb5f38360191852c6436b7127bbd/parts/fluentd/lib/ruby/gems/1.8/\r\nroot@debian:/home/zohair# /opt/slapgrid/ff45fb5f38360191852c6436b7127bbd/parts/fluentd/bin/fluentd -vv -c /srv/slapgrid/slappart9/etc/fluentd-agent.conf\r\n2020-07-27 14:57:45 +0200 [info]: fluent/supervisor.rb:696:read_config: reading config file path=\"/srv/slapgrid/slappart9/etc/fluentd-agent.conf\"\r\n2020-07-27 14:57:45 +0200 [info]: fluent/supervisor.rb:537:supervise: starting fluentd-0.14.14 pid=4169\r\n2020-07-27 14:57:45 +0200 [info]: fluent/supervisor.rb:546:supervise: spawn command to main:  cmdline=[\"/opt/slapgrid/ff45fb5f38360191852c6436b7127bbd/parts/ruby/bin/ruby\", \"-Eascii-8bit:ascii-8bit\", \"/opt/slapgrid/ff45fb5f38360191852c6436b7127bbd/parts/fluentd/bin/fluentd\", \"-vv\", \"-c\", \"/srv/slapgrid/slappart9/etc/fluentd-agent.conf\", \"--under-supervisor\"]\r\n2020-07-27 14:57:46 +0200 [info]: fluent/engine.rb:114:block in configure: gem 'fluent-plugin-bin' version '0.2'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/engine.rb:114:block in configure: gem 'fluent-plugin-td' version '0.10.29'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/engine.rb:114:block in configure: gem 'fluent-plugin-wendelin' version '0.4'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/engine.rb:114:block in configure: gem 'fluentd' version '0.14.14'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/agent.rb:124:add_match: adding match pattern=\"debug.test\" type=\"stdout\"\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered output plugin 'stdout'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered buffer plugin 'memory'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered formatter plugin 'stdout'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered formatter plugin 'json'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/agent.rb:124:add_match: adding match pattern=\"sensor_1.log-raw-data\" type=\"wendelin\"\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered output plugin 'wendelin'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered buffer plugin 'file'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/root_agent.rb:238:add_source: adding source type=\"exec\"\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered input plugin 'exec'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered parser plugin 'none'\r\n2020-07-27 14:57:46 +0200 [info]: fluent/root_agent.rb:238:add_source: adding source type=\"tail\"\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered parser plugin 'regexp'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered parser plugin 'multiline'\r\n2020-07-27 14:57:46 +0200 [trace]: #0 fluent/plugin.rb:140:register_impl: registered input plugin 'tail'\r\n2020-07-27 14:57:46 +0200 [warn]: #0 plugin/in_tail.rb:110:configure: 'pos_file PATH' parameter is not set to a 'tail' source.\r\n2020-07-27 14:57:46 +0200 [warn]: #0 plugin/in_tail.rb:111:configure: this parameter is highly recommended to save the position to resume tailing.\r\n2020-07-27 14:57:46 +0200 [info]: fluent/engine.rb:150:configure: using configuration file: <ROOT>\r\n  <source>\r\n    @type exec\r\n    @id exec_input\r\n    tag \"somescript\"\r\n    command \"python /home/SOMEUSER/Desktop/script.py\"\r\n    run_interval 5s\r\n    <parse>\r\n      @type \"none\"\r\n    </parse>\r\n  </source>\r\n<match somescript>\r\n  @type stdout\r\n</match>\r\n  <source>\r\n    @type tail\r\n    @id tail_input\r\n    read_from_head true\r\n    path \"/home/SOMEUSER/Desktop/logs/*\"\r\n    refresh_interval 1s\r\n    tag \"debug.test\"\r\n    <parse>\r\n      @type \"none\"\r\n    </parse>\r\n  </source>\r\n  <match debug.test>\r\n    @type stdout\r\n  </match>\r\n\r\n2020-07-27 14:57:46 +0200 [info]: #0 fluent/engine.rb:208:run: starting fluentd worker pid=4173 ppid=4169 worker=0\r\n2020-07-27 14:57:46 +0200 [debug]: #0 plugin/buffer.rb:114:start: buffer started instance=47320779888720 stage_size=0 queue_size=0\r\n2020-07-27 14:57:46 +0200 [info]: #0 fluent/engine.rb:217:run: fluentd worker is now running worker=0\r\n2020-07-27 14:57:46 +0200 [debug]: #0 plugin/output.rb:1202:enqueue_thread_run: enqueue_thread actually running\r\n2020-07-27 14:57:46 +0200 [trace]: #0 plugin/buffer.rb:350:enqueue_all: enqueueing all chunks in buffer instance=47320779888720\r\n2020-07-27 14:57:46 +0200 [debug]: #0 plugin/output.rb:1254:flush_thread_run: flush_thread actually running\r\n2020-07-27 14:57:51 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:57:56 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:01 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:06 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:11 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:13 +0200 [trace]: #0 plugin/buffer.rb:350:enqueue_all: enqueueing all chunks in buffer instance=47320779888720\r\n2020-07-27 14:58:16 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:21 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n2020-07-27 14:58:26 +0200 [debug]: #0 [exec_input] Executing command title=:exec_input spawn=[{}, \"python ~/Desktop/script1.py\"] mode=[:read] stderr=:discard\r\n^C2020-07-27 14:58:27 +0200 [debug]: #0 fluent/supervisor.rb:581:block in install_main_process_signal_handlers: fluentd main process get SIGINT\r\n2020-07-27 14:58:27 +0200 [info]: serverengine/server.rb:51:stop: Received graceful stop\r\n2020-07-27 14:58:27 +0200 [debug]: #0 fluent/supervisor.rb:592:block in install_main_process_signal_handlers: fluentd main process get SIGTERM\r\n2020-07-27 14:58:27 +0200 [debug]: #0 fluent/supervisor.rb:595:block in install_main_process_signal_handlers: getting start to shutdown main process\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/engine.rb:219:run: fluentd worker is now stopping worker=0\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/engine.rb:236:run: shutting down fluentd worker worker=0\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling stop on input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling stop on input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling stop on output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [trace]: #0 plugin/buffer.rb:350:enqueue_all: enqueueing all chunks in buffer instance=47320779888720\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling stop on output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: preparing shutdown input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: preparing shutdown input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: preparing shutdown output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: preparing shutdown output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/root_agent.rb:204:block (3 levels) in shutdown: shutting down input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/root_agent.rb:204:block (3 levels) in shutdown: shutting down input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/root_agent.rb:204:block (3 levels) in shutdown: shutting down output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [info]: #0 fluent/root_agent.rb:204:block (3 levels) in shutdown: shutting down output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling after_shutdown on input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling after_shutdown on input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling after_shutdown on output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling after_shutdown on output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: closing input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: closing input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: closing output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 plugin/buffer.rb:120:block in close: closing buffer instance=47320779888720\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:206:block (3 levels) in shutdown: closing output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling terminate on input plugin type=:exec plugin_id=\"exec_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling terminate on input plugin type=:tail plugin_id=\"tail_input\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling terminate on output plugin type=:wendelin plugin_id=\"object:2b09ba51fd94\"\r\n2020-07-27 14:58:28 +0200 [debug]: #0 fluent/root_agent.rb:177:block (2 levels) in shutdown: calling terminate on output plugin type=:stdout plugin_id=\"object:2b09ba43832c\"\r\n2020-07-27 14:58:29 +0200 [info]: serverengine/multi_process_server.rb:136:alive?: Worker 0 finished with status 0\r\n```\r\n\r\n**Additional context**\r\n-\r\n",
  "closed_at": "2020-08-25T01:21:14Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/16928?v=4",
    "events_url": "https://api.github.com/users/repeatedly/events{/privacy}",
    "followers_url": "https://api.github.com/users/repeatedly/followers",
    "following_url": "https://api.github.com/users/repeatedly/following{/other_user}",
    "gists_url": "https://api.github.com/users/repeatedly/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/repeatedly",
    "id": 16928,
    "login": "repeatedly",
    "node_id": "MDQ6VXNlcjE2OTI4",
    "organizations_url": "https://api.github.com/users/repeatedly/orgs",
    "received_events_url": "https://api.github.com/users/repeatedly/received_events",
    "repos_url": "https://api.github.com/users/repeatedly/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/repeatedly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/repeatedly/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/repeatedly"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/3091/comments",
  "created_at": "2020-07-30T10:41:26Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/3091/events",
  "html_url": "https://github.com/fluent/fluentd/issues/3091",
  "id": 668596643,
  "labels": [],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/3091/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2Njg1OTY2NDM=",
  "number": 3091,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "Debugging does not present full traceback of a Python Script",
  "updated_at": "2020-08-25T01:21:14Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/3091",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/34626132?v=4",
    "events_url": "https://api.github.com/users/zohairajmal/events{/privacy}",
    "followers_url": "https://api.github.com/users/zohairajmal/followers",
    "following_url": "https://api.github.com/users/zohairajmal/following{/other_user}",
    "gists_url": "https://api.github.com/users/zohairajmal/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/zohairajmal",
    "id": 34626132,
    "login": "zohairajmal",
    "node_id": "MDQ6VXNlcjM0NjI2MTMy",
    "organizations_url": "https://api.github.com/users/zohairajmal/orgs",
    "received_events_url": "https://api.github.com/users/zohairajmal/received_events",
    "repos_url": "https://api.github.com/users/zohairajmal/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/zohairajmal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zohairajmal/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/zohairajmal"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "ruby-yajl reads 8k from the input stream before parsing so input is delayed until the buffer is full (which can take forever if no new input is generated).\n\nThis can be reproduced with the following config:\n\n```\n<source>\n  type exec\n  format tsv\n  command while sleep 1; do date; done\n  keys tsv_date\n  tag all\n</source>\n\n<source>\n  type exec\n  format json\n  command while sleep 1; do echo '{\"json_date\": \"'$(date)'\"}'; done\n  tag all\n</source>\n\n<match all>\n  type stdout\n</match>\n```\n\ntsv_date is emitted each time but json_date is not emitted until the buffer is full (~5 minutes in this case).\n\nI have created a workaround https://github.com/serbaut/fluentd/commit/c99bcf47a3695cd39aa211ccb2b0bd8bac5a704c that parses line by line but in the end ruby-yajl has to be fixed so is parses one json document at a time.\n",
  "closed_at": "2016-09-06T07:50:11Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/230654?v=4",
    "events_url": "https://api.github.com/users/tagomoris/events{/privacy}",
    "followers_url": "https://api.github.com/users/tagomoris/followers",
    "following_url": "https://api.github.com/users/tagomoris/following{/other_user}",
    "gists_url": "https://api.github.com/users/tagomoris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tagomoris",
    "id": 230654,
    "login": "tagomoris",
    "node_id": "MDQ6VXNlcjIzMDY1NA==",
    "organizations_url": "https://api.github.com/users/tagomoris/orgs",
    "received_events_url": "https://api.github.com/users/tagomoris/received_events",
    "repos_url": "https://api.github.com/users/tagomoris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tagomoris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tagomoris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tagomoris"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/609/comments",
  "created_at": "2015-06-05T12:33:19Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/609/events",
  "html_url": "https://github.com/fluent/fluentd/issues/609",
  "id": 85522222,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 92597736,
      "name": "feature request",
      "node_id": "MDU6TGFiZWw5MjU5NzczNg==",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/feature%20request"
    }
  ],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/609/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU4NTUyMjIyMg==",
  "number": 609,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "in_exec json streams does not work as expected",
  "updated_at": "2017-02-22T04:13:16Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/609",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/68637?v=4",
    "events_url": "https://api.github.com/users/serbaut/events{/privacy}",
    "followers_url": "https://api.github.com/users/serbaut/followers",
    "following_url": "https://api.github.com/users/serbaut/following{/other_user}",
    "gists_url": "https://api.github.com/users/serbaut/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/serbaut",
    "id": 68637,
    "login": "serbaut",
    "node_id": "MDQ6VXNlcjY4NjM3",
    "organizations_url": "https://api.github.com/users/serbaut/orgs",
    "received_events_url": "https://api.github.com/users/serbaut/received_events",
    "repos_url": "https://api.github.com/users/serbaut/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/serbaut/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/serbaut/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/serbaut"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/700876?v=4",
    "events_url": "https://api.github.com/users/cosmo0920/events{/privacy}",
    "followers_url": "https://api.github.com/users/cosmo0920/followers",
    "following_url": "https://api.github.com/users/cosmo0920/following{/other_user}",
    "gists_url": "https://api.github.com/users/cosmo0920/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/cosmo0920",
    "id": 700876,
    "login": "cosmo0920",
    "node_id": "MDQ6VXNlcjcwMDg3Ng==",
    "organizations_url": "https://api.github.com/users/cosmo0920/orgs",
    "received_events_url": "https://api.github.com/users/cosmo0920/received_events",
    "repos_url": "https://api.github.com/users/cosmo0920/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/cosmo0920/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cosmo0920/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/cosmo0920"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/700876?v=4",
      "events_url": "https://api.github.com/users/cosmo0920/events{/privacy}",
      "followers_url": "https://api.github.com/users/cosmo0920/followers",
      "following_url": "https://api.github.com/users/cosmo0920/following{/other_user}",
      "gists_url": "https://api.github.com/users/cosmo0920/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/cosmo0920",
      "id": 700876,
      "login": "cosmo0920",
      "node_id": "MDQ6VXNlcjcwMDg3Ng==",
      "organizations_url": "https://api.github.com/users/cosmo0920/orgs",
      "received_events_url": "https://api.github.com/users/cosmo0920/received_events",
      "repos_url": "https://api.github.com/users/cosmo0920/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/cosmo0920/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cosmo0920/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/cosmo0920"
    }
  ],
  "author_association": "NONE",
  "body": "**Describe the bug**\r\nFile outputs only have Unix line endings (LF), and some tools are having trouble reading files without CRLF on Windows.\r\n\r\n**To Reproduce**\r\n1. Read any input\r\n2. Write to a file\r\n3. File will always have a LF as a line ending\r\n\r\n**Expected behavior**\r\nat 3: use system-native line endings or at least make it configurable\r\n\r\n**Your Environment**\r\nIn windows, I'm transferring logs and splitting them off between a couple of servers.\r\n\r\n- td-agent fluentd 1.11.2\r\n- Windows Server 2016\r\n\r\n**Your Configuration**\r\n\r\n```\r\n<label @iis_text_logs>\r\n  <match **>\r\n    @type file\r\n    path D:\\Logs\\IIS\\W3SVC1\\iis.%Y%m%dT%H%M%S%z\r\n\tappend true\r\n\t<format>\r\n\t  @type single_value\r\n\t</format>\r\n    <buffer>\r\n      timekey 5s\r\n      timekey_use_utc true\r\n      timekey_wait 10s\r\n\t  path \"D:\\\\Logs\\\\IIS\\\\W3SVC1\\\\buffer\"\r\n    </buffer>\r\n   </match>\r\n </label>\r\n```\r\n\r\n**Your Error Log**\r\nNo errors.\r\n\r\n**Additional context**\r\nThe reason for this curious configuration and the reason I'm hitting this is probably because I'm (ab)using fluentd to stream text logs from one server to another (as close to realtime as it will go - but buffer won't let me without writing billions of files...). The input is CRLF-terminated and the output needs to be CRLF-terminated as well for the follow-up tool that will then read the files. (and no, that tool cannot run on the source server, hence the setup)\r\n",
  "closed_at": "2020-10-23T08:55:13Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/700876?v=4",
    "events_url": "https://api.github.com/users/cosmo0920/events{/privacy}",
    "followers_url": "https://api.github.com/users/cosmo0920/followers",
    "following_url": "https://api.github.com/users/cosmo0920/following{/other_user}",
    "gists_url": "https://api.github.com/users/cosmo0920/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/cosmo0920",
    "id": 700876,
    "login": "cosmo0920",
    "node_id": "MDQ6VXNlcjcwMDg3Ng==",
    "organizations_url": "https://api.github.com/users/cosmo0920/orgs",
    "received_events_url": "https://api.github.com/users/cosmo0920/received_events",
    "repos_url": "https://api.github.com/users/cosmo0920/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/cosmo0920/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cosmo0920/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/cosmo0920"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/3151/comments",
  "created_at": "2020-10-22T01:10:49Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/3151/events",
  "html_url": "https://github.com/fluent/fluentd/issues/3151",
  "id": 726965384,
  "labels": [
    {
      "color": "5319e7",
      "default": true,
      "description": null,
      "id": 109954839,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWwxMDk5NTQ4Mzk=",
      "url": "https://api.github.com/repos/fluent/fluentd/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/3151/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU3MjY5NjUzODQ=",
  "number": 3151,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "File output on Windows missing CRLF",
  "updated_at": "2020-10-23T08:55:13Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/3151",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5306980?v=4",
    "events_url": "https://api.github.com/users/johnkeates/events{/privacy}",
    "followers_url": "https://api.github.com/users/johnkeates/followers",
    "following_url": "https://api.github.com/users/johnkeates/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnkeates/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/johnkeates",
    "id": 5306980,
    "login": "johnkeates",
    "node_id": "MDQ6VXNlcjUzMDY5ODA=",
    "organizations_url": "https://api.github.com/users/johnkeates/orgs",
    "received_events_url": "https://api.github.com/users/johnkeates/received_events",
    "repos_url": "https://api.github.com/users/johnkeates/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/johnkeates/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnkeates/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/johnkeates"
  }
}
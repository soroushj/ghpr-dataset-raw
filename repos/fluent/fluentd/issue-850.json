{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "## Summary\n\nLike `config_param`, `config_section` would be initialized with default values if the section is not specified in the runtime config.\n\nRelated issue: https://github.com/awslabs/aws-fluent-plugin-kinesis/issues/49\n## Detail\n\nI use `config_section` for my plugin and its `config_param` has default value, like below:\n\n```\n    config_section :foo do\n      config_param :a, :string, default: 'bar'\n      config_param :b, :string, default: 'baz'\n    end\n```\n\nIn my plugin, I'd like to use this section as a kind of configuration object with some default values. If users specify the section, it works.\n\n```\n<match **>\n  type myplugin\n  ...other configs\n  <foo>\n    a aaa\n  </foo>\n</match>\n\n# in the code\n@foo #=> {a: \"aaa\", b: \"baz\"}\n```\n\nBut if users omit the section to use the default values, it doesn't because the instance variable isn't initialized.\n\n```\n<match **>\n  type myplugin\n  ...other configs\n  # no sections\n</match>\n\n# in the code\n@foo #=> nil # actual\n@foo #=> {a: \"bar\", b: \"baz\"}   # ideal\n```\n\nhttps://github.com/fluent/fluentd/blob/master/lib/fluent/config/section.rb#L80 returns `nil`.\n\nI hope it should be added some parameter to behave like this, such as `:initialize`:\n\n```\nconfig_section :foo, initialize: true do\nend\n```\n## Workaround\n\nMake the section `required` so that users must specify the section like:\n\n```\n<match **>\n  type myplugin\n  ...other configs\n  <foo>\n  </foo>\n</match>\n\n# in the code\n@foo #=> {a: \"bar\", b: \"baz\"}\n```\n",
  "closed_at": "2016-03-31T07:49:14Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/230654?v=4",
    "events_url": "https://api.github.com/users/tagomoris/events{/privacy}",
    "followers_url": "https://api.github.com/users/tagomoris/followers",
    "following_url": "https://api.github.com/users/tagomoris/following{/other_user}",
    "gists_url": "https://api.github.com/users/tagomoris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tagomoris",
    "id": 230654,
    "login": "tagomoris",
    "node_id": "MDQ6VXNlcjIzMDY1NA==",
    "organizations_url": "https://api.github.com/users/tagomoris/orgs",
    "received_events_url": "https://api.github.com/users/tagomoris/received_events",
    "repos_url": "https://api.github.com/users/tagomoris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tagomoris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tagomoris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tagomoris"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/fluent/fluentd/issues/850/comments",
  "created_at": "2016-03-11T17:25:13Z",
  "events_url": "https://api.github.com/repos/fluent/fluentd/issues/850/events",
  "html_url": "https://github.com/fluent/fluentd/issues/850",
  "id": 140243028,
  "labels": [],
  "labels_url": "https://api.github.com/repos/fluent/fluentd/issues/850/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNDAyNDMwMjg=",
  "number": 850,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/fluent/fluentd",
  "state": "closed",
  "title": "Initialize config_section even if the section is not specified",
  "updated_at": "2016-03-31T07:49:14Z",
  "url": "https://api.github.com/repos/fluent/fluentd/issues/850",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/37822?v=4",
    "events_url": "https://api.github.com/users/riywo/events{/privacy}",
    "followers_url": "https://api.github.com/users/riywo/followers",
    "following_url": "https://api.github.com/users/riywo/following{/other_user}",
    "gists_url": "https://api.github.com/users/riywo/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/riywo",
    "id": 37822,
    "login": "riywo",
    "node_id": "MDQ6VXNlcjM3ODIy",
    "organizations_url": "https://api.github.com/users/riywo/orgs",
    "received_events_url": "https://api.github.com/users/riywo/received_events",
    "repos_url": "https://api.github.com/users/riywo/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/riywo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/riywo/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/riywo"
  }
}
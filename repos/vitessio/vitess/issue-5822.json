{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "## Overview of the Issue\r\n`-heartbeat_enable` requires dba privileges to create these tables on replicas with binlogs turned off. \r\n\r\nPer @sougou in this [Slack discussion](https://vitess.slack.com/archives/C0PQY0PTK/p1581504754191600)\r\n\r\n> i'm in disagreement about this approach. we should fix that code. We should never ever be writing to a replica.\r\n\r\nadditionally\r\n\r\n> The only improvement I'd make is to send a heartbeat only if there have been no transactions in that time period\r\n\r\n\r\n",
  "closed_at": "2020-04-13T02:09:18Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/57982?v=4",
    "events_url": "https://api.github.com/users/morgo/events{/privacy}",
    "followers_url": "https://api.github.com/users/morgo/followers",
    "following_url": "https://api.github.com/users/morgo/following{/other_user}",
    "gists_url": "https://api.github.com/users/morgo/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/morgo",
    "id": 57982,
    "login": "morgo",
    "node_id": "MDQ6VXNlcjU3OTgy",
    "organizations_url": "https://api.github.com/users/morgo/orgs",
    "received_events_url": "https://api.github.com/users/morgo/received_events",
    "repos_url": "https://api.github.com/users/morgo/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/morgo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/morgo/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/morgo"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/vitessio/vitess/issues/5822/comments",
  "created_at": "2020-02-14T18:01:06Z",
  "events_url": "https://api.github.com/repos/vitessio/vitess/issues/5822/events",
  "html_url": "https://github.com/vitessio/vitess/issues/5822",
  "id": 565475510,
  "labels": [],
  "labels_url": "https://api.github.com/repos/vitessio/vitess/issues/5822/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NjU0NzU1MTA=",
  "number": 5822,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/vitessio/vitess",
  "state": "closed",
  "title": "heartbeat_enable writes to replica and requires dba privs",
  "updated_at": "2020-04-13T02:09:18Z",
  "url": "https://api.github.com/repos/vitessio/vitess/issues/5822",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/5940277?v=4",
    "events_url": "https://api.github.com/users/gedgar/events{/privacy}",
    "followers_url": "https://api.github.com/users/gedgar/followers",
    "following_url": "https://api.github.com/users/gedgar/following{/other_user}",
    "gists_url": "https://api.github.com/users/gedgar/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/gedgar",
    "id": 5940277,
    "login": "gedgar",
    "node_id": "MDQ6VXNlcjU5NDAyNzc=",
    "organizations_url": "https://api.github.com/users/gedgar/orgs",
    "received_events_url": "https://api.github.com/users/gedgar/received_events",
    "repos_url": "https://api.github.com/users/gedgar/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/gedgar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gedgar/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/gedgar"
  }
}
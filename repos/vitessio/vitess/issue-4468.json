{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "#### Overview of the Issue\r\n\r\n`SplitClone` returns the following error when I use a schema that includes a lookup vindex as primary and an explicit `keyspace_id` column, such as the official \"music\" demo schema: \r\n\r\n```\r\nE1218 15:51:29.751697       1 vtworker.go:108] online clone() failed: cannot resolve sharding keys for keyspace user: primary vindex cost is too high for table music_extra\r\n```\r\n\r\n#### Reproduction Steps\r\n\r\nI reproduce the issue by adapting the official [Helm example](https://github.com/vitessio/vitess/tree/master/examples/helm) to use the official [\"music\" example](https://github.com/vitessio/vitess/tree/master/examples/demo/schema):\r\n\r\n1. Initialize a schema/vschema that includes a lookup vindex as primary and an explicit `keyspace_id` column, such as the official \"music\" example.\r\n1. Run a `SplitClone` operation. For my adapted Helm/music example, this happens at step `303_horizontal_split.yaml`.\r\n",
  "closed_at": "2018-12-19T00:13:49Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/589370?v=4",
    "events_url": "https://api.github.com/users/sougou/events{/privacy}",
    "followers_url": "https://api.github.com/users/sougou/followers",
    "following_url": "https://api.github.com/users/sougou/following{/other_user}",
    "gists_url": "https://api.github.com/users/sougou/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sougou",
    "id": 589370,
    "login": "sougou",
    "node_id": "MDQ6VXNlcjU4OTM3MA==",
    "organizations_url": "https://api.github.com/users/sougou/orgs",
    "received_events_url": "https://api.github.com/users/sougou/received_events",
    "repos_url": "https://api.github.com/users/sougou/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sougou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sougou/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sougou"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/vitessio/vitess/issues/4468/comments",
  "created_at": "2018-12-18T16:19:55Z",
  "events_url": "https://api.github.com/repos/vitessio/vitess/issues/4468/events",
  "html_url": "https://github.com/vitessio/vitess/issues/4468",
  "id": 392231342,
  "labels": [],
  "labels_url": "https://api.github.com/repos/vitessio/vitess/issues/4468/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzOTIyMzEzNDI=",
  "number": 4468,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/vitessio/vitess",
  "state": "closed",
  "title": "SplitClone does not work with keyspace_id columns",
  "updated_at": "2018-12-19T00:13:49Z",
  "url": "https://api.github.com/repos/vitessio/vitess/issues/4468",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1995759?v=4",
    "events_url": "https://api.github.com/users/jacobwallace/events{/privacy}",
    "followers_url": "https://api.github.com/users/jacobwallace/followers",
    "following_url": "https://api.github.com/users/jacobwallace/following{/other_user}",
    "gists_url": "https://api.github.com/users/jacobwallace/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jacobwallace",
    "id": 1995759,
    "login": "jacobwallace",
    "node_id": "MDQ6VXNlcjE5OTU3NTk=",
    "organizations_url": "https://api.github.com/users/jacobwallace/orgs",
    "received_events_url": "https://api.github.com/users/jacobwallace/received_events",
    "repos_url": "https://api.github.com/users/jacobwallace/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jacobwallace/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jacobwallace/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jacobwallace"
  }
}
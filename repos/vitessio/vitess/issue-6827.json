{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "#6638 seems to have broken this query (based on our `101_initial_cluster.sh` cluster examples):\r\n\r\n```\r\nmysql> SELECT column_name FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = (SELECT SCHEMA()) AND TABLE_NAME = 'product' AND COLUMN_KEY = 'PRI';\r\nERROR 1235 (HY000): vtgate: http://localhost:15001/: comparison with `table_schema` column not supported\r\n```\r\n\r\nHowever, bare comparisons with a static value still works:\r\n\r\n```\r\nmysql> SELECT column_name FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = \"commerce\" AND TABLE_NAME = 'product' AND COLUMN_KEY = 'PRI';\r\n+-------------+\r\n| COLUMN_NAME |\r\n+-------------+\r\n| sku         |\r\n+-------------+\r\n```\r\n\r\nif you revert #6638 , and run the first query, it works as expected:\r\n\r\n```\r\nmysql> SELECT column_name FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = (SELECT SCHEMA()) AND TABLE_NAME = 'product' AND COLUMN_KEY = 'PRI';\r\n+-------------+\r\n| COLUMN_NAME |\r\n+-------------+\r\n| sku         |\r\n+-------------+\r\n```\r\n\r\nThis has broken Apache Sqoop, which generates queries like this, and the form of the query cannot be overridden (at least in Sqoop 1.4.7)",
  "closed_at": "2020-10-11T18:03:26Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/402248?v=4",
    "events_url": "https://api.github.com/users/systay/events{/privacy}",
    "followers_url": "https://api.github.com/users/systay/followers",
    "following_url": "https://api.github.com/users/systay/following{/other_user}",
    "gists_url": "https://api.github.com/users/systay/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/systay",
    "id": 402248,
    "login": "systay",
    "node_id": "MDQ6VXNlcjQwMjI0OA==",
    "organizations_url": "https://api.github.com/users/systay/orgs",
    "received_events_url": "https://api.github.com/users/systay/received_events",
    "repos_url": "https://api.github.com/users/systay/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/systay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/systay/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/systay"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/vitessio/vitess/issues/6827/comments",
  "created_at": "2020-10-06T18:45:19Z",
  "events_url": "https://api.github.com/repos/vitessio/vitess/issues/6827/events",
  "html_url": "https://github.com/vitessio/vitess/issues/6827",
  "id": 715933349,
  "labels": [
    {
      "color": "d11f28",
      "default": false,
      "description": "",
      "id": 760789208,
      "name": "Type: Bug",
      "node_id": "MDU6TGFiZWw3NjA3ODkyMDg=",
      "url": "https://api.github.com/repos/vitessio/vitess/labels/Type:%20Bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/vitessio/vitess/issues/6827/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": null,
    "closed_issues": 238,
    "created_at": "2020-06-26T19:14:19Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/388311?v=4",
      "events_url": "https://api.github.com/users/deepthi/events{/privacy}",
      "followers_url": "https://api.github.com/users/deepthi/followers",
      "following_url": "https://api.github.com/users/deepthi/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepthi/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/deepthi",
      "id": 388311,
      "login": "deepthi",
      "node_id": "MDQ6VXNlcjM4ODMxMQ==",
      "organizations_url": "https://api.github.com/users/deepthi/orgs",
      "received_events_url": "https://api.github.com/users/deepthi/received_events",
      "repos_url": "https://api.github.com/users/deepthi/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/deepthi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepthi/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/deepthi"
    },
    "description": "",
    "due_on": "2020-10-27T07:00:00Z",
    "html_url": "https://github.com/vitessio/vitess/milestone/10",
    "id": 5587645,
    "labels_url": "https://api.github.com/repos/vitessio/vitess/milestones/10/labels",
    "node_id": "MDk6TWlsZXN0b25lNTU4NzY0NQ==",
    "number": 10,
    "open_issues": 9,
    "state": "open",
    "title": "v8.0",
    "updated_at": "2020-10-27T11:28:05Z",
    "url": "https://api.github.com/repos/vitessio/vitess/milestones/10"
  },
  "node_id": "MDU6SXNzdWU3MTU5MzMzNDk=",
  "number": 6827,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/vitessio/vitess",
  "state": "closed",
  "title": "INFORMATION_SCHEMA.TABLE_SCHEMA comparison with dynamic value no longer works",
  "updated_at": "2020-10-12T14:16:31Z",
  "url": "https://api.github.com/repos/vitessio/vitess/issues/6827",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/772642?v=4",
    "events_url": "https://api.github.com/users/aquarapid/events{/privacy}",
    "followers_url": "https://api.github.com/users/aquarapid/followers",
    "following_url": "https://api.github.com/users/aquarapid/following{/other_user}",
    "gists_url": "https://api.github.com/users/aquarapid/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/aquarapid",
    "id": 772642,
    "login": "aquarapid",
    "node_id": "MDQ6VXNlcjc3MjY0Mg==",
    "organizations_url": "https://api.github.com/users/aquarapid/orgs",
    "received_events_url": "https://api.github.com/users/aquarapid/received_events",
    "repos_url": "https://api.github.com/users/aquarapid/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/aquarapid/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aquarapid/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/aquarapid"
  }
}
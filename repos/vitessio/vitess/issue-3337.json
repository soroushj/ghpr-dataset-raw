{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "A syntax error occurs when a semi-colon appears in the -sql argument or in the file of the -sql-file argument either inside a comment or inside a string.\r\n\r\n**OK**\r\n\r\n    $ vtexplain -sql='select 1 from b /* * */' -schema='create table b(id int)' -vschema='{\"K\":{\"tables\":{\"b\":{}}}}'\r\n    ----------------------------------------------------------------------\r\n    select 1 from b\r\n    \r\n    1 K/-: select 1 from b limit 10001\r\n    \r\n    ----------------------------------------------------------------------\r\n\r\n**FAIL**\r\n\r\n    $ vtexplain -sql='select 1 from b /* ; */' -schema='create table b(id int)' -vschema='{\"K\":{\"tables\":{\"b\":{}}}}'\r\n    ERROR: vtexplain execute error: syntax error at position 20 near '/* ' in select 1 from b /* \r\n\r\n    $ vtexplain -sql='select 1 from b where id = \";\"' -schema='create table b(id int)' -vschema='{\"K\":{\"tables\":{\"b\":{}}}}'\r\n    ERROR: vtexplain execute error: syntax error at position 29 in select 1 from b where id = \"\r\n\r\n    $ vtexplain -sql='select \";\" from b' -schema='create table b(id int)' -vschema='{\"K\":{\"tables\":{\"b\":{}}}}'\r\n    ERROR: vtexplain execute error: syntax error at position 9 in select \"\r\n\r\n\r\n(I actually found it by replaying a query with `_binary '$binary_data'`, resulting in a less-than-straightforward debugging session.)",
  "closed_at": "2017-10-24T20:06:58Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/589370?v=4",
    "events_url": "https://api.github.com/users/sougou/events{/privacy}",
    "followers_url": "https://api.github.com/users/sougou/followers",
    "following_url": "https://api.github.com/users/sougou/following{/other_user}",
    "gists_url": "https://api.github.com/users/sougou/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sougou",
    "id": 589370,
    "login": "sougou",
    "node_id": "MDQ6VXNlcjU4OTM3MA==",
    "organizations_url": "https://api.github.com/users/sougou/orgs",
    "received_events_url": "https://api.github.com/users/sougou/received_events",
    "repos_url": "https://api.github.com/users/sougou/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sougou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sougou/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sougou"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/vitessio/vitess/issues/3337/comments",
  "created_at": "2017-10-23T15:17:11Z",
  "events_url": "https://api.github.com/repos/vitessio/vitess/issues/3337/events",
  "html_url": "https://github.com/vitessio/vitess/issues/3337",
  "id": 267708549,
  "labels": [],
  "labels_url": "https://api.github.com/repos/vitessio/vitess/issues/3337/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNjc3MDg1NDk=",
  "number": 3337,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/vitessio/vitess",
  "state": "closed",
  "title": "vtexplain syntax error on embedded semi-colon in SQL",
  "updated_at": "2017-10-24T20:06:58Z",
  "url": "https://api.github.com/repos/vitessio/vitess/issues/3337",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/77701?v=4",
    "events_url": "https://api.github.com/users/slanning/events{/privacy}",
    "followers_url": "https://api.github.com/users/slanning/followers",
    "following_url": "https://api.github.com/users/slanning/following{/other_user}",
    "gists_url": "https://api.github.com/users/slanning/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/slanning",
    "id": 77701,
    "login": "slanning",
    "node_id": "MDQ6VXNlcjc3NzAx",
    "organizations_url": "https://api.github.com/users/slanning/orgs",
    "received_events_url": "https://api.github.com/users/slanning/received_events",
    "repos_url": "https://api.github.com/users/slanning/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/slanning/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/slanning/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/slanning"
  }
}
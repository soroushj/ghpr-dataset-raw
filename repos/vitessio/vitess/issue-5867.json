{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "#### Overview of the Issue\r\n\r\nOn a healthy Vitess deployment with several keyspaces, applying a VSchema that references a keyspace that has never been initialized (by creating tablets for it) causes UI issues, including the fact that the UI doesn't show any of the keyspaces that do exist.\r\n\r\nThe nodes are visible in the vtgate UI, and everything goes back to normal after creating tablets for the keyspace.\r\n\r\n#### Reproduction Steps\r\n\r\n1. Create a standard Vitess deployment, with 1+ keyspaces.  They should be visible in the Vitess UI.\r\n1. Apply a VSchema for a keyspace that doesn't exist.\r\n1. The UI shows zero keyspaces.\r\n\r\n#### Binary version\r\nExample:\r\n\r\n```sh\r\nvagrant@ubuntu-bionic:~$ vitess/bin/vtctld --version\r\nVersion: 7835ecca4 (Git branch 'master') built on Wed Feb 12 19:18:44 UTC 2020 by root@ubuntu-bionic using go1.13.4 linux/amd64\r\n```\r\n\r\n(On the fork for the Region VIndex: https://github.com/vitessio/vitess/pull/5806)\r\n\r\n#### Operating system and Environment details\r\n\r\nOS, Architecture, and any other information you can provide\r\nabout the environment.\r\n\r\n\r\n- Operating system (output of `cat /etc/os-release`):\r\n  `Ubuntu 18.04.4`\r\n- Kernel version (output of `uname -sr`):\r\n  `Linux 4.15.0-76-generic`\r\n- Architecture (output of `uname -m`):\r\n  `x86_64`\r\n\r\nSlack thread: https://vitess.slack.com/archives/C0PQY0PTK/p1582750176043500\r\n\r\n![Screenshot from 2020-02-26 15-48-49](https://user-images.githubusercontent.com/57719367/75449677-63c4b600-593b-11ea-83ec-c5694db65dc7.png)\r\n",
  "closed_at": "2020-03-20T18:00:39Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/589370?v=4",
    "events_url": "https://api.github.com/users/sougou/events{/privacy}",
    "followers_url": "https://api.github.com/users/sougou/followers",
    "following_url": "https://api.github.com/users/sougou/following{/other_user}",
    "gists_url": "https://api.github.com/users/sougou/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sougou",
    "id": 589370,
    "login": "sougou",
    "node_id": "MDQ6VXNlcjU4OTM3MA==",
    "organizations_url": "https://api.github.com/users/sougou/orgs",
    "received_events_url": "https://api.github.com/users/sougou/received_events",
    "repos_url": "https://api.github.com/users/sougou/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sougou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sougou/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sougou"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/vitessio/vitess/issues/5867/comments",
  "created_at": "2020-02-27T13:30:43Z",
  "events_url": "https://api.github.com/repos/vitessio/vitess/issues/5867/events",
  "html_url": "https://github.com/vitessio/vitess/issues/5867",
  "id": 572085513,
  "labels": [],
  "labels_url": "https://api.github.com/repos/vitessio/vitess/issues/5867/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NzIwODU1MTM=",
  "number": 5867,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/vitessio/vitess",
  "state": "closed",
  "title": "Applying VSchema referencing missing keyspace hides all keyspaces from UI",
  "updated_at": "2020-03-20T18:00:39Z",
  "url": "https://api.github.com/repos/vitessio/vitess/issues/5867",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/57719367?v=4",
    "events_url": "https://api.github.com/users/RyanLeonardSpruce/events{/privacy}",
    "followers_url": "https://api.github.com/users/RyanLeonardSpruce/followers",
    "following_url": "https://api.github.com/users/RyanLeonardSpruce/following{/other_user}",
    "gists_url": "https://api.github.com/users/RyanLeonardSpruce/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/RyanLeonardSpruce",
    "id": 57719367,
    "login": "RyanLeonardSpruce",
    "node_id": "MDQ6VXNlcjU3NzE5MzY3",
    "organizations_url": "https://api.github.com/users/RyanLeonardSpruce/orgs",
    "received_events_url": "https://api.github.com/users/RyanLeonardSpruce/received_events",
    "repos_url": "https://api.github.com/users/RyanLeonardSpruce/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/RyanLeonardSpruce/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RyanLeonardSpruce/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/RyanLeonardSpruce"
  }
}
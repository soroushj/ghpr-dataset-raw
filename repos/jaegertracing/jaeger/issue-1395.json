{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5618424?v=4",
    "events_url": "https://api.github.com/users/pavolloffay/events{/privacy}",
    "followers_url": "https://api.github.com/users/pavolloffay/followers",
    "following_url": "https://api.github.com/users/pavolloffay/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavolloffay/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/pavolloffay",
    "id": 5618424,
    "login": "pavolloffay",
    "node_id": "MDQ6VXNlcjU2MTg0MjQ=",
    "organizations_url": "https://api.github.com/users/pavolloffay/orgs",
    "received_events_url": "https://api.github.com/users/pavolloffay/received_events",
    "repos_url": "https://api.github.com/users/pavolloffay/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/pavolloffay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavolloffay/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/pavolloffay"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/5618424?v=4",
      "events_url": "https://api.github.com/users/pavolloffay/events{/privacy}",
      "followers_url": "https://api.github.com/users/pavolloffay/followers",
      "following_url": "https://api.github.com/users/pavolloffay/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavolloffay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/pavolloffay",
      "id": 5618424,
      "login": "pavolloffay",
      "node_id": "MDQ6VXNlcjU2MTg0MjQ=",
      "organizations_url": "https://api.github.com/users/pavolloffay/orgs",
      "received_events_url": "https://api.github.com/users/pavolloffay/received_events",
      "repos_url": "https://api.github.com/users/pavolloffay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/pavolloffay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavolloffay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/pavolloffay"
    }
  ],
  "author_association": "NONE",
  "body": "I have deployed an application to container along with Jaeger agent as side car deployment\r\n\r\n## Problem\r\n\r\nKubernetes used to startup both the containers in the pod with out any problem, from last week the jaeger agent seems to be having problems starting up within the same pod. When I looked at the container logs in the pod I see the following error\r\n\r\n```\r\n{\"level\":\"warn\",\"ts\":1551640126.4296134,\"caller\":\"tchannel/flags.go:72\",\"msg\":\"Using deprecated configuration\",\"option\":\"collector.host-port\"}\r\n{\"level\":\"fatal\",\"ts\":1551640126.4301643,\"caller\":\"agent/main.go:78\",\"msg\":\"Could not create collector proxy\",\"error\":\"could not create collector proxy, address is missing\",\"stacktrace\":\"main.main.func1\\n\\t/home/travis/gopath/src/github.com/jaegertracing/jaeger/cmd/agent/main.go:78\\ngithub.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra.(*Command).execute\\n\\t/home/travis/gopath/src/github.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra/command.go:762\\ngithub.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra.(*Command).ExecuteC\\n\\t/home/travis/gopath/src/github.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra/command.go:852\\ngithub.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra.(*Command).Execute\\n\\t/home/travis/gopath/src/github.com/jaegertracing/jaeger/vendor/github.com/spf13/cobra/command.go:800\\nmain.main\\n\\t/home/travis/gopath/src/github.com/jaegertracing/jaeger/cmd/agent/main.go:121\\nruntime.main\\n\\t/home/travis/.gimme/versions/go1.11.1.linux.amd64/src/runtime/proc.go:201\"}\r\n```\r\n\r\nI am deploying Jaeger components to Kubernetes using the following command\r\n```\r\nkubectl create -f https://raw.githubusercontent.com/jaegertracing/jaeger-kubernetes/master/all-in-one/jaeger-all-in-one-template.yml\r\n```\r\n\r\nMy application yaml file looks like this \r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: testproject-deployment\r\nspec:\r\n   selector:\r\n    matchLabels:\r\n      app: bwce-testproject\r\n   replicas: 2\r\n   template:\r\n     metadata:\r\n       labels:\r\n         app: bwce-testproject\r\n     spec:\r\n       containers:\r\n       - image: docker.io/syadavalli/bwce-testproject:latest\r\n         name: bwce-testproject\r\n         ports:\r\n         - containerPort: 18000\r\n         env:\r\n         - name: BW_JAVA_OPTS\r\n           value: \"-Dbw.engine.opentracing.enable=true -Dbw.monitor.batchsize=1 -Dbw.monitor.publishtimer=1500\"\r\n         - name: BW_LOGLEVEL\r\n           value: ERROR\r\n         - name: BW_APP_MONITORING_CONFIG\r\n           value: \"{\\\"url\\\":\\\"http://100.98.34.21:80\\\"}\"\r\n       - image: jaegertracing/jaeger-agent\r\n         name: jaeger-agent\r\n         ports:\r\n         - containerPort: 5775\r\n           protocol: UDP\r\n         - containerPort: 6831\r\n           protocol: UDP\r\n         - containerPort: 6832\r\n           protocol: UDP\r\n         - containerPort: 5778\r\n           protocol: TCP\r\n         args: [\"--collector.host-port=100.69.87.41:14267\"]\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: my-testproject\r\nspec:\r\n  selector:\r\n   app: bwce-testproject\r\n  ports:\r\n  - name: http\r\n    port: 80\r\n    targetPort: 18000\r\n    protocol: \"TCP\"\r\n  type: LoadBalancer\r\n```\r\n\r\nThe collector host port is the correct one. I have manually replaced the --collector.host-port value by looking at the Kubernetes service \r\n\r\n\r\n## Proposal\r\n\r\nI don't have a suggestion as to how to solve the problem.\r\n\r\nLooks like there was a version upgrade from 1.9 to 1.10. Not sure if the issue I am experiencing has to do with the version upgrade. Please let me know why I am expriencing the above problem.\r\n",
  "closed_at": "2019-03-04T15:45:41Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5618424?v=4",
    "events_url": "https://api.github.com/users/pavolloffay/events{/privacy}",
    "followers_url": "https://api.github.com/users/pavolloffay/followers",
    "following_url": "https://api.github.com/users/pavolloffay/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavolloffay/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/pavolloffay",
    "id": 5618424,
    "login": "pavolloffay",
    "node_id": "MDQ6VXNlcjU2MTg0MjQ=",
    "organizations_url": "https://api.github.com/users/pavolloffay/orgs",
    "received_events_url": "https://api.github.com/users/pavolloffay/received_events",
    "repos_url": "https://api.github.com/users/pavolloffay/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/pavolloffay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavolloffay/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/pavolloffay"
  },
  "comments": 8,
  "comments_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1395/comments",
  "created_at": "2019-03-03T19:23:59Z",
  "events_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1395/events",
  "html_url": "https://github.com/jaegertracing/jaeger/issues/1395",
  "id": 416553024,
  "labels": [
    {
      "color": "cc317c",
      "default": true,
      "description": null,
      "id": 358839843,
      "name": "question",
      "node_id": "MDU6TGFiZWwzNTg4Mzk4NDM=",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/question"
    }
  ],
  "labels_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1395/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTY1NTMwMjQ=",
  "number": 1395,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/jaegertracing/jaeger",
  "state": "closed",
  "title": "Jaeger Agent Not Connecting to Collector",
  "updated_at": "2019-03-04T15:45:46Z",
  "url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1395",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/30021527?v=4",
    "events_url": "https://api.github.com/users/gituser1379/events{/privacy}",
    "followers_url": "https://api.github.com/users/gituser1379/followers",
    "following_url": "https://api.github.com/users/gituser1379/following{/other_user}",
    "gists_url": "https://api.github.com/users/gituser1379/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/gituser1379",
    "id": 30021527,
    "login": "gituser1379",
    "node_id": "MDQ6VXNlcjMwMDIxNTI3",
    "organizations_url": "https://api.github.com/users/gituser1379/orgs",
    "received_events_url": "https://api.github.com/users/gituser1379/received_events",
    "repos_url": "https://api.github.com/users/gituser1379/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/gituser1379/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gituser1379/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/gituser1379"
  }
}
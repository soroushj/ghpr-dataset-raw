{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "## Requirement - what kind of business use case are you trying to solve?\r\n\r\nConnect to a cloud-provider managed Cassandra to reduce the operational overhead on the databases. Unfortunately, for most cloud providers, a non 9042 port is used and SSL is required.\r\n\r\nWe are running CosmosDB with the Cassandra API, so this is another thing we might want to address. According to a couple of issues this might be reasonable to support:\r\nhttps://github.com/jaegertracing/jaeger/issues/1105\r\nhttps://github.com/jaegertracing/jaeger/issues/1667\r\nhttps://github.com/gocql/gocql/issues/1205\r\n\r\n## Problem - what in Jaeger blocks you from solving the requirement?\r\n\r\n- Cassandra create schema does not support other ports than the default 9042 for the CQL connection.\r\n\r\nCurrently, the environment variable can be set using manual env injection as described here: https://github.com/jaegertracing/jaeger/issues/2366. Unfortunately, this is not considered by the create schema as it is a separate container.\r\n\r\n## Proposal - what do you suggest to solve the problem or improve the existing situation?\r\n\r\nFor operator based installations I already addressed the topic in https://github.com/jaegertracing/jaeger-operator/issues/1179 and we narrowed down some aspects to consider.\r\n\r\nTo create the Cassandra schema, we have to change the following to support environment variables like `CQLSH_PORT`. \r\n\r\nhttps://github.com/jaegertracing/jaeger/blob/043d00cc9402378c886aeace116d85e578a44834/plugin/storage/cassandra/schema/docker.sh#L6-L15\r\n\r\nI'd also like to work on the Azure Cosmos DB schema creation. The issues mentioned (especially: https://github.com/jaegertracing/jaeger/issues/1105) pretty much already point out what needs to be done and for me it looks like this might be possible without creating a new backend provider as discussed in other threads. The biggest blocker is most probably the frozen annotations.\r\n\r\nTo configure SSL certificates, I would suggest to have an option to use your own set of certs or support some \"well-known\" CAs like Lets Encrypt. I know about https://www.jaegertracing.io/docs/1.18/deployment/#tls-support but providing additional files is not that nice for K8s based deployments when it comes to developer experience and co.\r\n\r\n## Any open questions to address\r\n\r\nMaybe we can start to discuss the approach.",
  "closed_at": "2020-09-12T01:13:54Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/3523016?v=4",
    "events_url": "https://api.github.com/users/yurishkuro/events{/privacy}",
    "followers_url": "https://api.github.com/users/yurishkuro/followers",
    "following_url": "https://api.github.com/users/yurishkuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/yurishkuro/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yurishkuro",
    "id": 3523016,
    "login": "yurishkuro",
    "node_id": "MDQ6VXNlcjM1MjMwMTY=",
    "organizations_url": "https://api.github.com/users/yurishkuro/orgs",
    "received_events_url": "https://api.github.com/users/yurishkuro/received_events",
    "repos_url": "https://api.github.com/users/yurishkuro/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yurishkuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yurishkuro/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yurishkuro"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2467/comments",
  "created_at": "2020-09-11T09:32:25Z",
  "events_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2467/events",
  "html_url": "https://github.com/jaegertracing/jaeger/issues/2467",
  "id": 699086628,
  "labels": [
    {
      "color": "ee0701",
      "default": true,
      "description": null,
      "id": 358839838,
      "name": "bug",
      "node_id": "MDU6TGFiZWwzNTg4Mzk4Mzg=",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/bug"
    },
    {
      "color": "17017c",
      "default": false,
      "description": "",
      "id": 1500679037,
      "name": "hacktoberfest",
      "node_id": "MDU6TGFiZWwxNTAwNjc5MDM3",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/hacktoberfest"
    },
    {
      "color": "0de28a",
      "default": false,
      "description": "",
      "id": 1705573273,
      "name": "storage/cassandra",
      "node_id": "MDU6TGFiZWwxNzA1NTczMjcz",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/storage/cassandra"
    }
  ],
  "labels_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2467/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2OTkwODY2Mjg=",
  "number": 2467,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/jaegertracing/jaeger",
  "state": "closed",
  "title": "Support PaaS Cassandra - Add Port",
  "updated_at": "2020-09-12T01:13:54Z",
  "url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2467",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/14123913?v=4",
    "events_url": "https://api.github.com/users/MarianZoll/events{/privacy}",
    "followers_url": "https://api.github.com/users/MarianZoll/followers",
    "following_url": "https://api.github.com/users/MarianZoll/following{/other_user}",
    "gists_url": "https://api.github.com/users/MarianZoll/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/MarianZoll",
    "id": 14123913,
    "login": "MarianZoll",
    "node_id": "MDQ6VXNlcjE0MTIzOTEz",
    "organizations_url": "https://api.github.com/users/MarianZoll/orgs",
    "received_events_url": "https://api.github.com/users/MarianZoll/received_events",
    "repos_url": "https://api.github.com/users/MarianZoll/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/MarianZoll/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MarianZoll/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/MarianZoll"
  }
}
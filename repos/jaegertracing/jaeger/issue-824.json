{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/3523016?v=4",
    "events_url": "https://api.github.com/users/yurishkuro/events{/privacy}",
    "followers_url": "https://api.github.com/users/yurishkuro/followers",
    "following_url": "https://api.github.com/users/yurishkuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/yurishkuro/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yurishkuro",
    "id": 3523016,
    "login": "yurishkuro",
    "node_id": "MDQ6VXNlcjM1MjMwMTY=",
    "organizations_url": "https://api.github.com/users/yurishkuro/orgs",
    "received_events_url": "https://api.github.com/users/yurishkuro/received_events",
    "repos_url": "https://api.github.com/users/yurishkuro/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yurishkuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yurishkuro/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yurishkuro"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/3523016?v=4",
      "events_url": "https://api.github.com/users/yurishkuro/events{/privacy}",
      "followers_url": "https://api.github.com/users/yurishkuro/followers",
      "following_url": "https://api.github.com/users/yurishkuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/yurishkuro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yurishkuro",
      "id": 3523016,
      "login": "yurishkuro",
      "node_id": "MDQ6VXNlcjM1MjMwMTY=",
      "organizations_url": "https://api.github.com/users/yurishkuro/orgs",
      "received_events_url": "https://api.github.com/users/yurishkuro/received_events",
      "repos_url": "https://api.github.com/users/yurishkuro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yurishkuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yurishkuro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yurishkuro"
    }
  ],
  "author_association": "MEMBER",
  "body": "As part of #773 I am trying to replace the domain model with gogoprotobuf-generated classes. It's been going well so far, the last stumbling block is the ParentSpanID field that currently does not exist in protobuf model. The reasoning for not including that field in the new model was to simplify the handling of span references, as we have seen bugs and confusion stemming from the duality of representation where `parentSpanID` is equivalent to a child-of span reference, while the reference itself may or may not be present in the `references` array (and in some cases duplicate references are present due to the same confusion/bugs).\r\n\r\nThere is also one use case that the current model does not capture. When a span is created with a list of predecessors (span references), all Jaeger clients pick one of those predecessors as the \"primary parent\" from which the trace ID and flags are inherited. In practice we don't have much instrumentation today that would even pass multiple references.\r\n\r\n## Option 1 - remove `ParentSpanID`, use `References` field only\r\n\r\nThis is the current implementation in the `gogoproto-model` branch.\r\n\r\nPros:\r\n  * unified handling of predecessors\r\n\r\nCons:\r\n  * requires memory allocation for the slice in 99% of spans\r\n  * does not capture the primary parent from which trace ID is inherited\r\n\r\n## Option 2 - replace `ParentSpanID` with `ParentSpanRef`\r\n\r\nPros:\r\n  * no extra memory allocations for 99% of spans\r\n  * captures the primary parent\r\n\r\nCons:\r\n  * bifurcates processing of primary parent from other predecessors\r\n\r\nComments:\r\n  * this option is similar to how OpenCensus separates \"parent span id\" from [\"links\"][1]. In Census links are are directional and can be added to both sides of the edge.\r\n  * the reason to store complete SpanRef instead of just parent span ID is to capture type of reference\r\n\r\n[1]: https://github.com/census-instrumentation/opencensus-proto/blob/c5d48acbb2cb32687ca09177a313f5fcd47103fe/opencensus/proto/trace/trace.proto#L195\r\n\r\n@jaegertracing/jaeger-maintainers ",
  "closed_at": "2018-05-18T21:31:13Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/3523016?v=4",
    "events_url": "https://api.github.com/users/yurishkuro/events{/privacy}",
    "followers_url": "https://api.github.com/users/yurishkuro/followers",
    "following_url": "https://api.github.com/users/yurishkuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/yurishkuro/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yurishkuro",
    "id": 3523016,
    "login": "yurishkuro",
    "node_id": "MDQ6VXNlcjM1MjMwMTY=",
    "organizations_url": "https://api.github.com/users/yurishkuro/orgs",
    "received_events_url": "https://api.github.com/users/yurishkuro/received_events",
    "repos_url": "https://api.github.com/users/yurishkuro/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yurishkuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yurishkuro/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yurishkuro"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/824/comments",
  "created_at": "2018-05-16T03:11:04Z",
  "events_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/824/events",
  "html_url": "https://github.com/jaegertracing/jaeger/issues/824",
  "id": 323453842,
  "labels": [],
  "labels_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/824/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMjM0NTM4NDI=",
  "number": 824,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/jaegertracing/jaeger",
  "state": "closed",
  "title": "What to do with model.Span.ParentSpanID",
  "updated_at": "2018-08-02T16:04:48Z",
  "url": "https://api.github.com/repos/jaegertracing/jaeger/issues/824",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/3523016?v=4",
    "events_url": "https://api.github.com/users/yurishkuro/events{/privacy}",
    "followers_url": "https://api.github.com/users/yurishkuro/followers",
    "following_url": "https://api.github.com/users/yurishkuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/yurishkuro/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yurishkuro",
    "id": 3523016,
    "login": "yurishkuro",
    "node_id": "MDQ6VXNlcjM1MjMwMTY=",
    "organizations_url": "https://api.github.com/users/yurishkuro/orgs",
    "received_events_url": "https://api.github.com/users/yurishkuro/received_events",
    "repos_url": "https://api.github.com/users/yurishkuro/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yurishkuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yurishkuro/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yurishkuro"
  }
}
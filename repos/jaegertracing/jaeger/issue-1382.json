{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "## Requirement - what kind of business use case are you trying to solve?\r\nI want to query logs as nested fields by using elastic's [nested](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-nested-query.html) query\r\n\r\n## Problem - what in Jaeger blocks you from solving the requirement?\r\nThere is a missing \"type\": \"nested\" field in the elastic mapping for \"log\" filed of the span type.\r\n\r\n## Proposal - what do you suggest to solve the problem or improve the existing situation?\r\n```\r\n...\r\n          \"logs\" : {\r\n            \"type\" : \"nested\",\r\n            \"dynamic\" : \"false\",\r\n...\r\n```\r\n\r\n\r\n## Notes for queryable logs \r\nI used this query to search for logs:\r\n```\r\nGET jaeger-span-*/_search?filter_path=took,hits.hits._source\r\n{\r\n  \"_source\": [\"logs.timestamp\", \"logs.fields.key\", \"logs.fields.tagType\", \"logs.fields.value\"],\r\n  \"query\": {\r\n    \"nested\": {\r\n      \"path\": \"logs.fields\",\r\n      \"query\": {\r\n        \"bool\": {\r\n          \"must_not\": [\r\n            {\"wildcard\": { \"logs.fields.value\": \"anything*you*want\" }}\r\n            ]\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n",
  "closed_at": "2019-06-21T12:37:11Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5618424?v=4",
    "events_url": "https://api.github.com/users/pavolloffay/events{/privacy}",
    "followers_url": "https://api.github.com/users/pavolloffay/followers",
    "following_url": "https://api.github.com/users/pavolloffay/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavolloffay/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/pavolloffay",
    "id": 5618424,
    "login": "pavolloffay",
    "node_id": "MDQ6VXNlcjU2MTg0MjQ=",
    "organizations_url": "https://api.github.com/users/pavolloffay/orgs",
    "received_events_url": "https://api.github.com/users/pavolloffay/received_events",
    "repos_url": "https://api.github.com/users/pavolloffay/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/pavolloffay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavolloffay/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/pavolloffay"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1382/comments",
  "created_at": "2019-02-26T12:49:30Z",
  "events_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1382/events",
  "html_url": "https://github.com/jaegertracing/jaeger/issues/1382",
  "id": 414595097,
  "labels": [
    {
      "color": "fbca04",
      "default": false,
      "description": "",
      "id": 1013715498,
      "name": "storage/elasticsearch",
      "node_id": "MDU6TGFiZWwxMDEzNzE1NDk4",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/storage/elasticsearch"
    }
  ],
  "labels_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1382/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTQ1OTUwOTc=",
  "number": 1382,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/jaegertracing/jaeger",
  "state": "closed",
  "title": "Logs are not easily queryable from elasticsearch (ES6)",
  "updated_at": "2019-06-21T12:37:11Z",
  "url": "https://api.github.com/repos/jaegertracing/jaeger/issues/1382",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/292224?v=4",
    "events_url": "https://api.github.com/users/istvanszoboszlai/events{/privacy}",
    "followers_url": "https://api.github.com/users/istvanszoboszlai/followers",
    "following_url": "https://api.github.com/users/istvanszoboszlai/following{/other_user}",
    "gists_url": "https://api.github.com/users/istvanszoboszlai/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/istvanszoboszlai",
    "id": 292224,
    "login": "istvanszoboszlai",
    "node_id": "MDQ6VXNlcjI5MjIyNA==",
    "organizations_url": "https://api.github.com/users/istvanszoboszlai/orgs",
    "received_events_url": "https://api.github.com/users/istvanszoboszlai/received_events",
    "repos_url": "https://api.github.com/users/istvanszoboszlai/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/istvanszoboszlai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/istvanszoboszlai/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/istvanszoboszlai"
  }
}
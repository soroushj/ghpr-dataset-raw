{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "<!--\r\nWelcome to the Jaeger project! \ud83d\udc4b\ud83c\udf89\r\n\r\n- Please search for existing issues to avoid creating duplicate bugs/feature requests.\r\n- Please be respectful and considerate of others when commenting on issues.\r\n- Please provide as much information as possible so we all understand the issue.\r\n- If you only have a question, you may get a faster response by asking in\r\n    - our chat room https://gitter.im/jaegertracing/Lobby, or\r\n    - the forum https://groups.google.com/d/forum/jaeger-tracing\r\n    (but please don't double post)\r\n-->\r\n\r\n## Requirement - what kind of business use case are you trying to solve?\r\n\r\n<!-- required section -->\r\nRequired for enabling TLS support for query server in the future. #2249 \r\n## Problem - what in Jaeger blocks you from solving the requirement?\r\n\r\n<!-- required section -->\r\n<!-- If possible, describe the impact of the problem. -->\r\nThere is a need for adding separate ports for grRPC and http component of query server so as to eliminate the use of cmux.   Cmux elimination is required for adding TLS support in the future and maintain performance doing so.  Presence of cmux forces the server to use a single certificate to be used for both gRPC and http requests,  which isn't always favourable, as pointed out by @tcolgate  https://github.com/jaegertracing/jaeger/pull/2337#discussion_r462166145 \r\n\r\n## Proposal - what do you suggest to solve the problem or improve the existing situation?\r\n\r\n<!-- It's ok if you don't have one. -->\r\n\r\nProposed by @jpkrohling  in https://github.com/jaegertracing/jaeger/pull/2337#pullrequestreview-458476438  and reviewed by @yurishkuro \r\ncopying from above:\r\n\r\n1.  add a new flag, `--query.grpc-server.host-port` (like the collector)\r\n1.  replace `--query.host-port` with `--query.http-server.host-port` (again, like the collector)\r\n1.  when no specific gRPC or http host-port is set, the current behavior is kept\r\nThis way, we keep backwards compatibility with current users, while we have a chance to get out of the `cmux`\r\n\r\n\r\n## Any open questions to address\r\n\r\ndeclaring and defining of default values for flag: 'query.http-server.host-port'  as `ports.queryHTTP` and flag: 'query.grpc-server.host-port'  as `ports.queryGRPC`\r\n<!-- Questions that should be answered before proceeding with implementation. -->\r\n",
  "closed_at": "2020-09-11T07:59:38Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/13387?v=4",
    "events_url": "https://api.github.com/users/jpkrohling/events{/privacy}",
    "followers_url": "https://api.github.com/users/jpkrohling/followers",
    "following_url": "https://api.github.com/users/jpkrohling/following{/other_user}",
    "gists_url": "https://api.github.com/users/jpkrohling/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jpkrohling",
    "id": 13387,
    "login": "jpkrohling",
    "node_id": "MDQ6VXNlcjEzMzg3",
    "organizations_url": "https://api.github.com/users/jpkrohling/orgs",
    "received_events_url": "https://api.github.com/users/jpkrohling/received_events",
    "repos_url": "https://api.github.com/users/jpkrohling/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jpkrohling/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jpkrohling/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jpkrohling"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2377/comments",
  "created_at": "2020-08-09T02:27:25Z",
  "events_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2377/events",
  "html_url": "https://github.com/jaegertracing/jaeger/issues/2377",
  "id": 675622683,
  "labels": [
    {
      "color": "0d9691",
      "default": false,
      "description": "",
      "id": 1374091710,
      "name": "changelog:new-feature",
      "node_id": "MDU6TGFiZWwxMzc0MDkxNzEw",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/changelog:new-feature"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": null,
      "id": 358839840,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWwzNTg4Mzk4NDA=",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/enhancement"
    },
    {
      "color": "5319e7",
      "default": true,
      "description": "Good for beginners",
      "id": 906509006,
      "name": "good first issue",
      "node_id": "MDU6TGFiZWw5MDY1MDkwMDY=",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/good%20first%20issue"
    },
    {
      "color": "17017c",
      "default": false,
      "description": "",
      "id": 1500679037,
      "name": "hacktoberfest",
      "node_id": "MDU6TGFiZWwxNTAwNjc5MDM3",
      "url": "https://api.github.com/repos/jaegertracing/jaeger/labels/hacktoberfest"
    }
  ],
  "labels_url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2377/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2NzU2MjI2ODM=",
  "number": 2377,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/jaegertracing/jaeger",
  "state": "closed",
  "title": "Separate GRPC and HTTP ports for Query",
  "updated_at": "2020-09-11T07:59:38Z",
  "url": "https://api.github.com/repos/jaegertracing/jaeger/issues/2377",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/24603884?v=4",
    "events_url": "https://api.github.com/users/rjs211/events{/privacy}",
    "followers_url": "https://api.github.com/users/rjs211/followers",
    "following_url": "https://api.github.com/users/rjs211/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjs211/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rjs211",
    "id": 24603884,
    "login": "rjs211",
    "node_id": "MDQ6VXNlcjI0NjAzODg0",
    "organizations_url": "https://api.github.com/users/rjs211/orgs",
    "received_events_url": "https://api.github.com/users/rjs211/received_events",
    "repos_url": "https://api.github.com/users/rjs211/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rjs211/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjs211/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rjs211"
  }
}
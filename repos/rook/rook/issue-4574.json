{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "<!-- **Are you in the right place?**\r\n1. For issues or feature requests, please create an issue in this repository.\r\n2. For general technical and non-technical questions, we are happy to help you on our [Rook.io Slack](https://slack.rook.io/).\r\n3. Did you already search the existing open issues for anything similar? -->\r\n\r\n**Is this a bug report or feature request?**\r\n* Bug Report\r\n\r\nFollow-up from security review with [TrailOfBits](https://www.trailofbits.com/):\r\n\r\nWhen creating a \u200bCephObjectStore\u200b entry, there is no validation for the CRD object\u2019s gateway port\u200b attribute (Figure TOB-ROOK-010.1). Therefore, when one attempts to create a CRD entry with an invalid p\u200b ort\u200b value (Figure TOB-ROOK-010.2), it is accepted by the CRD API (Figure TOB-ROOK-010.3). The r\u200b ook-ceph-operator\u200b subsequently attempts to create a Kubernetes \u200bService\u200b pointing to the un-validated gateway address, but the \u200bService\u200b CRD validation of the p\u200b ort\u200b fails and the \u200bService\u200b is not created. Attempting to create the object again will fail because there is already an instance of the \u200bCephObjectStore\u200b (10.3).\r\n\r\nWe should also check all CRDs for integers that need range checking.\r\n\r\n<img width=\"858\" alt=\"Screen Shot 2019-12-20 at 12 41 02 PM\" src=\"https://user-images.githubusercontent.com/1048514/71287602-06eac500-2326-11ea-8bc2-a97ca71b1ce0.png\">\r\n<img width=\"852\" alt=\"Screen Shot 2019-12-20 at 12 41 12 PM\" src=\"https://user-images.githubusercontent.com/1048514/71287603-06eac500-2326-11ea-96cc-eedbaba41dac.png\">\r\n",
  "closed_at": "2020-01-13T23:26:59Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/4574/comments",
  "created_at": "2019-12-20T19:42:07Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/4574/events",
  "html_url": "https://github.com/rook/rook/issues/4574",
  "id": 541166739,
  "labels": [
    {
      "color": "ee0000",
      "default": true,
      "description": "",
      "id": 405241115,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTU=",
      "url": "https://api.github.com/repos/rook/rook/labels/bug"
    },
    {
      "color": "ef5c55",
      "default": false,
      "description": "main ceph tag",
      "id": 479456042,
      "name": "ceph",
      "node_id": "MDU6TGFiZWw0Nzk0NTYwNDI=",
      "url": "https://api.github.com/repos/rook/rook/labels/ceph"
    },
    {
      "color": "5522ee",
      "default": false,
      "description": "",
      "id": 1004931368,
      "name": "security",
      "node_id": "MDU6TGFiZWwxMDA0OTMxMzY4",
      "url": "https://api.github.com/repos/rook/rook/labels/security"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/4574/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NDExNjY3Mzk=",
  "number": 4574,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Add range validation to ports in the Ceph CRDs",
  "updated_at": "2020-01-13T23:26:59Z",
  "url": "https://api.github.com/repos/rook/rook/issues/4574",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  }
}
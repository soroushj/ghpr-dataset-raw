{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/64074558?v=4",
    "events_url": "https://api.github.com/users/kesavanvt/events{/privacy}",
    "followers_url": "https://api.github.com/users/kesavanvt/followers",
    "following_url": "https://api.github.com/users/kesavanvt/following{/other_user}",
    "gists_url": "https://api.github.com/users/kesavanvt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kesavanvt",
    "id": 64074558,
    "login": "kesavanvt",
    "node_id": "MDQ6VXNlcjY0MDc0NTU4",
    "organizations_url": "https://api.github.com/users/kesavanvt/orgs",
    "received_events_url": "https://api.github.com/users/kesavanvt/received_events",
    "repos_url": "https://api.github.com/users/kesavanvt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kesavanvt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kesavanvt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kesavanvt"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/64074558?v=4",
      "events_url": "https://api.github.com/users/kesavanvt/events{/privacy}",
      "followers_url": "https://api.github.com/users/kesavanvt/followers",
      "following_url": "https://api.github.com/users/kesavanvt/following{/other_user}",
      "gists_url": "https://api.github.com/users/kesavanvt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kesavanvt",
      "id": 64074558,
      "login": "kesavanvt",
      "node_id": "MDQ6VXNlcjY0MDc0NTU4",
      "organizations_url": "https://api.github.com/users/kesavanvt/orgs",
      "received_events_url": "https://api.github.com/users/kesavanvt/received_events",
      "repos_url": "https://api.github.com/users/kesavanvt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kesavanvt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kesavanvt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kesavanvt"
    }
  ],
  "author_association": "MEMBER",
  "body": "<!-- **Are you in the right place?**\r\n1. For issues or feature requests, please create an issue in this repository.\r\n2. For general technical and non-technical questions, we are happy to help you on our [Rook.io Slack](https://slack.rook.io/).\r\n3. Did you already search the existing open issues for anything similar? -->\r\n\r\n**Is this a bug report or feature request?**\r\n* Feature Request\r\n\r\n**What should the feature do:**\r\nThe deviceClasses of OSDs should be more discoverable so the admin can more easily make the decision to create pools with different deviceClasses. For example, the admin might want to create one pool on ssds and another pool on hdds. Today the admin needs to start the toolbox and run a command such as `ceph osd tree` to see the device classes for each OSD. Instead of making the admin launch the toolbox, Rook could simplify this step by storing information about the OSDs and device classes in the CephCluster CR status.\r\n\r\nThe sequence would be the following:\r\n- The CephCluster CR is created (or updated)\r\n- Rook reconciles the cluster and creates OSDs\r\n- As each OSD is created, Ceph discovers and assigns the deviceClass\r\n- After the OSD reconcile is completed, the Rook operator would:\r\n   - Query ceph for the deviceClasses on the OSDs\r\n   - Update the status on the CephCluster CR\u00a0\r\n\r\nThe same status structure could also be expanded in the future to include basic configuration stats about the cluster. We shouldn't included anything more than basic info since the prometheus metrics fill that purpose. For example, size and usage info is already included in prometheus data.\r\n\r\nTo support future expansion of the properties, the status might include the following:\r\n```yaml\r\n  status:\r\n    ceph:\r\n      health: HEALTH_OK\r\n      lastChecked: \"2020-07-02T21:24:33Z\"\r\n    storage:\r\n      # The device class info to add\r\n      deviceClasses:\r\n      - name: hdd\r\n         count: 6\r\n      - name: ssd\r\n         count: 3\r\n     # Topology attributes to consider\r\n      roots: 1\r\n      zones: 3\r\n      hosts: 3\r\n    version:\r\n      image: ceph/ceph:v15\r\n      version: 15.2.3-0\r\n```\r\n\r\n**What is use case behind this feature:**\r\nSimplifying the admin experience to find information about the cluster for creating pools and a quick glance at OSD health.\r\n\r\n",
  "closed_at": "2020-07-22T22:00:20Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/5754/comments",
  "created_at": "2020-07-02T21:33:09Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/5754/events",
  "html_url": "https://github.com/rook/rook/issues/5754",
  "id": 650215263,
  "labels": [
    {
      "color": "ef5c55",
      "default": false,
      "description": "main ceph tag",
      "id": 479456042,
      "name": "ceph",
      "node_id": "MDU6TGFiZWw0Nzk0NTYwNDI=",
      "url": "https://api.github.com/repos/rook/rook/labels/ceph"
    },
    {
      "color": "84b6eb",
      "default": false,
      "description": "",
      "id": 405241117,
      "name": "feature",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTc=",
      "url": "https://api.github.com/repos/rook/rook/labels/feature"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/5754/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2NTAyMTUyNjM=",
  "number": 5754,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Add basic OSD topology info to the CephCluster CR status",
  "updated_at": "2020-07-22T22:00:20Z",
  "url": "https://api.github.com/repos/rook/rook/issues/5754",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  }
}
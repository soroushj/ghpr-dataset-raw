{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "*Bug Report*\r\n\r\n**Deviation from expected behavior:**\r\nrook 1.3.0 fails to deploy OSDs for designated partitions with the error `skipping device \"sda5\": [\"Used by ceph-disk\"].`\r\n\r\n[thread on Slack](https://rook-io.slack.com/archives/CK9CF5H2R/p1586287837229500)\r\n\r\n**Expected behavior:**\r\nDevice should not be skipped. It is not being used by ceph-disk or anything else. Works with rook 1.2.7 + ceph 14.2.8.\r\n\r\n**How to reproduce it (minimal and precise):**\r\nrook was deployed using the example files:\r\nhttps://github.com/rook/rook/blob/v1.3.0/cluster/examples/kubernetes/ceph/common.yaml\r\nhttps://github.com/rook/rook/blob/v1.3.0/cluster/examples/kubernetes/ceph/operator.yaml\r\n[cluster.yaml](https://gist.github.com/fr3aker/1a264d7ad28a04fb51f5247614702314)\r\n\r\n[osd-prepare.log](https://gist.github.com/fr3aker/3b9f54b4ff3d6d965f12c40e58706b5c)\r\nIn this log sda5 and sdb5 should be used. They are referred to by /dev/disk/by-partlabel/ceph-sdx links.\r\n\r\n**Environment**:\r\n* OS: Fedora CoreOS 31.20200310.3.0\r\n* Kernel: 5.5.8-200.fc31.x86_64\r\n* hardware configuration: baremetal\r\n* Rook version: 1.3.0\r\n* Ceph version: 14.2.8 and 15.2.0 (both tested)\r\n* Kubernetes version: 1.17.4",
  "closed_at": "2020-04-08T09:07:12Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/912735?v=4",
    "events_url": "https://api.github.com/users/leseb/events{/privacy}",
    "followers_url": "https://api.github.com/users/leseb/followers",
    "following_url": "https://api.github.com/users/leseb/following{/other_user}",
    "gists_url": "https://api.github.com/users/leseb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/leseb",
    "id": 912735,
    "login": "leseb",
    "node_id": "MDQ6VXNlcjkxMjczNQ==",
    "organizations_url": "https://api.github.com/users/leseb/orgs",
    "received_events_url": "https://api.github.com/users/leseb/received_events",
    "repos_url": "https://api.github.com/users/leseb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/leseb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leseb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/leseb"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/5209/comments",
  "created_at": "2020-04-07T21:51:39Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/5209/events",
  "html_url": "https://github.com/rook/rook/issues/5209",
  "id": 596173558,
  "labels": [
    {
      "color": "ee0000",
      "default": true,
      "description": "",
      "id": 405241115,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTU=",
      "url": "https://api.github.com/repos/rook/rook/labels/bug"
    },
    {
      "color": "ef5c55",
      "default": false,
      "description": "main ceph tag",
      "id": 479456042,
      "name": "ceph",
      "node_id": "MDU6TGFiZWw0Nzk0NTYwNDI=",
      "url": "https://api.github.com/repos/rook/rook/labels/ceph"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/5209/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1OTYxNzM1NTg=",
  "number": 5209,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Ceph: OSDs not deployed: \"Used by ceph-disk\"",
  "updated_at": "2020-04-14T22:11:40Z",
  "url": "https://api.github.com/repos/rook/rook/issues/5209",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/114561?v=4",
    "events_url": "https://api.github.com/users/fr3aker/events{/privacy}",
    "followers_url": "https://api.github.com/users/fr3aker/followers",
    "following_url": "https://api.github.com/users/fr3aker/following{/other_user}",
    "gists_url": "https://api.github.com/users/fr3aker/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/fr3aker",
    "id": 114561,
    "login": "fr3aker",
    "node_id": "MDQ6VXNlcjExNDU2MQ==",
    "organizations_url": "https://api.github.com/users/fr3aker/orgs",
    "received_events_url": "https://api.github.com/users/fr3aker/received_events",
    "repos_url": "https://api.github.com/users/fr3aker/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/fr3aker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fr3aker/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/fr3aker"
  }
}
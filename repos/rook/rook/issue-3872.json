{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/912735?v=4",
    "events_url": "https://api.github.com/users/leseb/events{/privacy}",
    "followers_url": "https://api.github.com/users/leseb/followers",
    "following_url": "https://api.github.com/users/leseb/following{/other_user}",
    "gists_url": "https://api.github.com/users/leseb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/leseb",
    "id": 912735,
    "login": "leseb",
    "node_id": "MDQ6VXNlcjkxMjczNQ==",
    "organizations_url": "https://api.github.com/users/leseb/orgs",
    "received_events_url": "https://api.github.com/users/leseb/received_events",
    "repos_url": "https://api.github.com/users/leseb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/leseb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leseb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/leseb"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/912735?v=4",
      "events_url": "https://api.github.com/users/leseb/events{/privacy}",
      "followers_url": "https://api.github.com/users/leseb/followers",
      "following_url": "https://api.github.com/users/leseb/following{/other_user}",
      "gists_url": "https://api.github.com/users/leseb/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/leseb",
      "id": 912735,
      "login": "leseb",
      "node_id": "MDQ6VXNlcjkxMjczNQ==",
      "organizations_url": "https://api.github.com/users/leseb/orgs",
      "received_events_url": "https://api.github.com/users/leseb/received_events",
      "repos_url": "https://api.github.com/users/leseb/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/leseb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leseb/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/leseb"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a bug report or feature request?**\r\n* Bug Report\r\n\r\n**Deviation from expected behavior:**\r\nAfter upgrading the operator image to the latest Nautilus release (v14.2.3), the operator starts rolling over the first OSD pod. Then it the next pod is stuck with the following message:\r\n```\r\nexec: Running command: ceph osd ok-to-stop 0 --connect-timeout=15 --cluster=rook-ceph --conf=/var/lib/rook/rook-ceph/rook-ceph.config --keyring=/var/lib/rook/rook-ceph/client.admin.keyring\r\n\r\n2019-09-16 13:53:45.527869 I | util: retrying after 1m0s, last error: failed to check if we can stop the deployment rook-ceph-osd-0: failed to check if rook-ceph-osd-0 was ok to stop. deployment rook-ceph-osd-0 cannot be stopped. Failed to complete '': exit status 16. \r\nError EBUSY: 4 PGs are already too degraded, would become too degraded or might become unavailable\r\n```\r\n\r\nThe cluster is in HEALTH_OK state and all PGs are in `active+clean` state. So the issue is that upon deleting the OSD it would be too degraded or might become unavailable\r\n\r\n**Expected behavior:**\r\noperator rolls over all OSDs\r\n\r\n\r\n**How to reproduce it (minimal and precise):**\r\n<!-- Please let us know any circumstances for reproduction of your bug. -->\r\nnot sure\r\n\r\n**Environment**:\r\n* OS (e.g. from /etc/os-release): ContainerLinux\r\n* Kernel (e.g. `uname -a`):\r\n* Cloud provider or hardware configuration:\r\n* Rook version (use `rook version` inside of a Rook Pod): v1.1.0\r\n* Storage backend version (e.g. for ceph do `ceph -v`): v14.2.3 (upgrading from 13.2.5)\r\n* Kubernetes version (use `kubectl version`): 1.15.2\r\n* Kubernetes cluster type (e.g. Tectonic, GKE, OpenShift): bare-metal\r\n* Storage backend status (e.g. for Ceph use `ceph health` in the [Rook Ceph toolbox](https://rook.io/docs/rook/master/ceph-toolbox.html)): HEALTH_OK\r\n",
  "closed_at": "2019-09-19T15:30:37Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/912735?v=4",
    "events_url": "https://api.github.com/users/leseb/events{/privacy}",
    "followers_url": "https://api.github.com/users/leseb/followers",
    "following_url": "https://api.github.com/users/leseb/following{/other_user}",
    "gists_url": "https://api.github.com/users/leseb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/leseb",
    "id": 912735,
    "login": "leseb",
    "node_id": "MDQ6VXNlcjkxMjczNQ==",
    "organizations_url": "https://api.github.com/users/leseb/orgs",
    "received_events_url": "https://api.github.com/users/leseb/received_events",
    "repos_url": "https://api.github.com/users/leseb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/leseb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leseb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/leseb"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/3872/comments",
  "created_at": "2019-09-16T16:06:20Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/3872/events",
  "html_url": "https://github.com/rook/rook/issues/3872",
  "id": 494143154,
  "labels": [
    {
      "color": "ee0000",
      "default": true,
      "description": "",
      "id": 405241115,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTU=",
      "url": "https://api.github.com/repos/rook/rook/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/3872/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-03-31T19:33:42Z",
    "closed_issues": 148,
    "created_at": "2019-03-15T19:30:30Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/3989526?v=4",
      "events_url": "https://api.github.com/users/BlaineEXE/events{/privacy}",
      "followers_url": "https://api.github.com/users/BlaineEXE/followers",
      "following_url": "https://api.github.com/users/BlaineEXE/following{/other_user}",
      "gists_url": "https://api.github.com/users/BlaineEXE/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BlaineEXE",
      "id": 3989526,
      "login": "BlaineEXE",
      "node_id": "MDQ6VXNlcjM5ODk1MjY=",
      "organizations_url": "https://api.github.com/users/BlaineEXE/orgs",
      "received_events_url": "https://api.github.com/users/BlaineEXE/received_events",
      "repos_url": "https://api.github.com/users/BlaineEXE/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BlaineEXE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BlaineEXE/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BlaineEXE"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/rook/rook/milestone/12",
    "id": 4144795,
    "labels_url": "https://api.github.com/repos/rook/rook/milestones/12/labels",
    "node_id": "MDk6TWlsZXN0b25lNDE0NDc5NQ==",
    "number": 12,
    "open_issues": 0,
    "state": "closed",
    "title": "1.1",
    "updated_at": "2020-03-31T19:33:42Z",
    "url": "https://api.github.com/repos/rook/rook/milestones/12"
  },
  "node_id": "MDU6SXNzdWU0OTQxNDMxNTQ=",
  "number": 3872,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Rook 1.1 upgrade to Nautilus is blocked ",
  "updated_at": "2020-03-03T16:25:27Z",
  "url": "https://api.github.com/repos/rook/rook/issues/3872",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/738953?v=4",
    "events_url": "https://api.github.com/users/christianhuening/events{/privacy}",
    "followers_url": "https://api.github.com/users/christianhuening/followers",
    "following_url": "https://api.github.com/users/christianhuening/following{/other_user}",
    "gists_url": "https://api.github.com/users/christianhuening/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/christianhuening",
    "id": 738953,
    "login": "christianhuening",
    "node_id": "MDQ6VXNlcjczODk1Mw==",
    "organizations_url": "https://api.github.com/users/christianhuening/orgs",
    "received_events_url": "https://api.github.com/users/christianhuening/received_events",
    "repos_url": "https://api.github.com/users/christianhuening/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/christianhuening/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/christianhuening/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/christianhuening"
  }
}
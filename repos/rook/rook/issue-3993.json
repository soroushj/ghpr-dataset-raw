{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/11498120?v=4",
    "events_url": "https://api.github.com/users/rohan47/events{/privacy}",
    "followers_url": "https://api.github.com/users/rohan47/followers",
    "following_url": "https://api.github.com/users/rohan47/following{/other_user}",
    "gists_url": "https://api.github.com/users/rohan47/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rohan47",
    "id": 11498120,
    "login": "rohan47",
    "node_id": "MDQ6VXNlcjExNDk4MTIw",
    "organizations_url": "https://api.github.com/users/rohan47/orgs",
    "received_events_url": "https://api.github.com/users/rohan47/received_events",
    "repos_url": "https://api.github.com/users/rohan47/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rohan47/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rohan47/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rohan47"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/11498120?v=4",
      "events_url": "https://api.github.com/users/rohan47/events{/privacy}",
      "followers_url": "https://api.github.com/users/rohan47/followers",
      "following_url": "https://api.github.com/users/rohan47/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohan47/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rohan47",
      "id": 11498120,
      "login": "rohan47",
      "node_id": "MDQ6VXNlcjExNDk4MTIw",
      "organizations_url": "https://api.github.com/users/rohan47/orgs",
      "received_events_url": "https://api.github.com/users/rohan47/received_events",
      "repos_url": "https://api.github.com/users/rohan47/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rohan47/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohan47/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rohan47"
    }
  ],
  "author_association": "NONE",
  "body": "**Is this a bug report or feature request?**\r\n* Bug Report\r\n\r\n**Deviation from expected behavior:**\r\n\r\n`rook-ceph-osd-prepare-...` pods error with:\r\n```\r\ntopologyAware is set, but could not get the node: could not find node '<node name>' by name: nodes \"<node name>\" is forbidden: User \"system:serviceaccount:rook-ceph:rook-ceph-osd\" cannot get resource \"nodes\" in API group \"\" at the cluster scope: RBAC: clusterrole.rbac.authorization.k8s.io \"rook-ceph-osd\" not found\r\n```\r\n\r\n**Expected behavior:**\r\n\r\n`rook-ceph-osd-prepare-...` successfully prepare osd on host\r\n\r\n**How to reproduce it (minimal and precise):**\r\n\r\n- Install helm chart `rook-ceph` version `v1.1.1` from `https://charts.rook.io/release`\r\n- Configure a `CephCluster` as below:\r\n```\r\napiVersion: ceph.rook.io/v1\r\nkind: CephCluster\r\nmetadata:\r\n  name: rook-ceph\r\n  namespace: rook-ceph\r\nspec:\r\n  cephVersion:\r\n    image: ceph/ceph:v14.2.4-20190917\r\n    allowUnsupported: false\r\n  dataDirHostPath: /var/lib/rook\r\n  mon:\r\n    count: 3\r\n    allowMultiplePerNode: false\r\n  dashboard:\r\n    enabled: true\r\n  storage:\r\n    useAllNodes: true\r\n    useAllDevices: true\r\n    topologyAware: true\r\n    location:\r\n    config:\r\n      metadataDevice:\r\n```\r\n\r\n**Environment**:\r\n* OS (e.g. from /etc/os-release): Ubuntu 18.04.3 LTS\r\n* Kernel (e.g. `uname -a`): 4.15.0-64-generic #73-Ubuntu SMP Thu Sep 12 13:16:13 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n* Cloud provider or hardware configuration: on-prem bare metal\r\n* Rook version (use `rook version` inside of a Rook Pod): 1.1.1\r\n* Storage backend version (e.g. for ceph do `ceph -v`): ceph version 14.2.4 (75f4de193b3ea58512f204623e6c5a16e6c1e1ba) nautilus (stable)\r\n* Kubernetes version (use `kubectl version`): Server Version: version.Info{Major:\"1\", Minor:\"15\", GitVersion:\"v1.15.1\", GitCommit:\"4485c6f18cee9a5d3c3b4e523bd27972b1b53892\", GitTreeState:\"clean\", BuildDate:\"2019-07-18T09:09:21Z\", GoVersion:\"go1.12.5\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n* Kubernetes cluster type (e.g. Tectonic, GKE, OpenShift): kubeadm on-prem\r\n* Storage backend status (e.g. for Ceph use `ceph health` in the [Rook Ceph toolbox](https://rook.io/docs/rook/master/ceph-toolbox.html)): HEALTH_OK\r\n",
  "closed_at": "2019-10-01T22:35:21Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/3993/comments",
  "created_at": "2019-09-26T11:16:40Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/3993/events",
  "html_url": "https://github.com/rook/rook/issues/3993",
  "id": 498822298,
  "labels": [
    {
      "color": "ee0000",
      "default": true,
      "description": "",
      "id": 405241115,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTU=",
      "url": "https://api.github.com/repos/rook/rook/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/3993/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-03-31T19:33:42Z",
    "closed_issues": 148,
    "created_at": "2019-03-15T19:30:30Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/3989526?v=4",
      "events_url": "https://api.github.com/users/BlaineEXE/events{/privacy}",
      "followers_url": "https://api.github.com/users/BlaineEXE/followers",
      "following_url": "https://api.github.com/users/BlaineEXE/following{/other_user}",
      "gists_url": "https://api.github.com/users/BlaineEXE/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BlaineEXE",
      "id": 3989526,
      "login": "BlaineEXE",
      "node_id": "MDQ6VXNlcjM5ODk1MjY=",
      "organizations_url": "https://api.github.com/users/BlaineEXE/orgs",
      "received_events_url": "https://api.github.com/users/BlaineEXE/received_events",
      "repos_url": "https://api.github.com/users/BlaineEXE/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BlaineEXE/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BlaineEXE/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BlaineEXE"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/rook/rook/milestone/12",
    "id": 4144795,
    "labels_url": "https://api.github.com/repos/rook/rook/milestones/12/labels",
    "node_id": "MDk6TWlsZXN0b25lNDE0NDc5NQ==",
    "number": 12,
    "open_issues": 0,
    "state": "closed",
    "title": "1.1",
    "updated_at": "2020-03-31T19:33:42Z",
    "url": "https://api.github.com/repos/rook/rook/milestones/12"
  },
  "node_id": "MDU6SXNzdWU0OTg4MjIyOTg=",
  "number": 3993,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Ceph osd prepare pod error when \"topologyAware: true\" due to insufficient ServiceAccount permissions",
  "updated_at": "2019-10-01T22:35:21Z",
  "url": "https://api.github.com/repos/rook/rook/issues/3993",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/3112766?v=4",
    "events_url": "https://api.github.com/users/splushii/events{/privacy}",
    "followers_url": "https://api.github.com/users/splushii/followers",
    "following_url": "https://api.github.com/users/splushii/following{/other_user}",
    "gists_url": "https://api.github.com/users/splushii/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/splushii",
    "id": 3112766,
    "login": "splushii",
    "node_id": "MDQ6VXNlcjMxMTI3NjY=",
    "organizations_url": "https://api.github.com/users/splushii/orgs",
    "received_events_url": "https://api.github.com/users/splushii/received_events",
    "repos_url": "https://api.github.com/users/splushii/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/splushii/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/splushii/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/splushii"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/3718398?v=4",
    "events_url": "https://api.github.com/users/galexrt/events{/privacy}",
    "followers_url": "https://api.github.com/users/galexrt/followers",
    "following_url": "https://api.github.com/users/galexrt/following{/other_user}",
    "gists_url": "https://api.github.com/users/galexrt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/galexrt",
    "id": 3718398,
    "login": "galexrt",
    "node_id": "MDQ6VXNlcjM3MTgzOTg=",
    "organizations_url": "https://api.github.com/users/galexrt/orgs",
    "received_events_url": "https://api.github.com/users/galexrt/received_events",
    "repos_url": "https://api.github.com/users/galexrt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/galexrt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/galexrt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/galexrt"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/3718398?v=4",
      "events_url": "https://api.github.com/users/galexrt/events{/privacy}",
      "followers_url": "https://api.github.com/users/galexrt/followers",
      "following_url": "https://api.github.com/users/galexrt/following{/other_user}",
      "gists_url": "https://api.github.com/users/galexrt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/galexrt",
      "id": 3718398,
      "login": "galexrt",
      "node_id": "MDQ6VXNlcjM3MTgzOTg=",
      "organizations_url": "https://api.github.com/users/galexrt/orgs",
      "received_events_url": "https://api.github.com/users/galexrt/received_events",
      "repos_url": "https://api.github.com/users/galexrt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/galexrt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/galexrt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/galexrt"
    }
  ],
  "author_association": "MEMBER",
  "body": "**Is this a bug report or feature request?**\r\n* Bug Report\r\n\r\n**Deviation from expected behavior:** Walking through the Minio quick-start using Minikube, the Minio cluster fails to initialize.\r\n```\r\n> kubectl -n rook-minio get pod -l app=minio,objectstore=my-store\r\nNAME         READY     STATUS    RESTARTS   AGE\r\nmy-store-0   0/1       Running   3          4m58s\r\n```\r\nIt looks like this pod is failing its readiness probe.\r\n```\r\n      readinessProbe:\r\n        failureThreshold: 3\r\n        httpGet:\r\n          path: /minio/health/ready\r\n          port: 9000\r\n          scheme: HTTP\r\n```\r\n\r\n**Expected behavior:** I expect the Minio cluster to initialize and all replicas in the statefulSet to be running.\r\n\r\n**How to reproduce it (minimal and precise):**\r\nhttps://rook.io/docs/rook/master/minio-object-store.html:\r\n```\r\ncd cluster/examples/kubernetes/minio\r\nkubectl create -f operator.yaml\r\nkubectl create -f object-store.yaml\r\n```\r\n\r\n**Environment**:\r\n* OS (e.g. from /etc/os-release): MacOS Mojave 10.14.4 using Minikube v1.0.0\r\n* Kernel (e.g. `uname -a`): `Linux minikube 4.15.0 #1 SMP Tue Mar 26 02:53:14 UTC 2019 x86_64 GNU/Linux`\r\n* Rook version (use `rook version` inside of a Rook Pod): `v0.9.0-469.g1f2e5581`\r\n* Kubernetes version (use `kubectl version`):\r\n```\r\nClient Version: version.Info{Major:\"1\", Minor:\"11\", GitVersion:\"v1.11.2\", GitCommit:\"bb9ffb1654d4a729bb4cec18ff088eacc153c239\", GitTreeState:\"clean\", BuildDate:\"2018-08-07T23:17:28Z\", GoVersion:\"go1.10.3\", Compiler:\"gc\", Platform:\"darwin/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"13\", GitVersion:\"v1.13.1\", GitCommit:\"eec55b9ba98609a46fee712359c7b5b365bdd920\", GitTreeState:\"clean\", BuildDate:\"2018-12-13T10:31:33Z\", GoVersion:\"go1.11.2\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n* Kubernetes cluster type (e.g. Tectonic, GKE, OpenShift): Minikube v1.0.0\r\n\r\nIt looks like the readiness probe is failing, which prevents further statefulSet instances from being started:\r\n```\r\n> kubectl -n rook-minio get pod -l app=minio -o yaml\r\napiVersion: v1\r\nitems:\r\n- apiVersion: v1\r\n  kind: Pod\r\n  metadata:\r\n    creationTimestamp: 2019-04-24T15:00:17Z\r\n    generateName: my-store-\r\n    labels:\r\n      app: minio\r\n      controller-revision-hash: my-store-5894cf8977\r\n      objectstore: my-store\r\n      statefulset.kubernetes.io/pod-name: my-store-0\r\n    name: my-store-0\r\n    namespace: rook-minio\r\n    ownerReferences:\r\n    - apiVersion: apps/v1\r\n      blockOwnerDeletion: true\r\n      controller: true\r\n      kind: StatefulSet\r\n      name: my-store\r\n      uid: ac4198ef-66a1-11e9-86af-080027751536\r\n    resourceVersion: \"4163\"\r\n    selfLink: /api/v1/namespaces/rook-minio/pods/my-store-0\r\n    uid: ac4a4bf4-66a1-11e9-86af-080027751536\r\n  spec:\r\n    containers:\r\n    - args:\r\n      - server\r\n      - http://my-store-0.my-store.rook-minio.svc.cluster.local/data/rook-minio-data1\r\n      - http://my-store-1.my-store.rook-minio.svc.cluster.local/data/rook-minio-data1\r\n      - http://my-store-2.my-store.rook-minio.svc.cluster.local/data/rook-minio-data1\r\n      - http://my-store-3.my-store.rook-minio.svc.cluster.local/data/rook-minio-data1\r\n      command:\r\n      - /usr/bin/minio\r\n      env:\r\n      - name: MINIO_ACCESS_KEY\r\n        value: TEMP_DEMO_ACCESS_KEY\r\n      - name: MINIO_SECRET_KEY\r\n        value: TEMP_DEMO_SECRET_KEY\r\n      image: rook/minio:master\r\n      imagePullPolicy: IfNotPresent\r\n      livenessProbe:\r\n        failureThreshold: 3\r\n        httpGet:\r\n          path: /minio/health/live\r\n          port: 9000\r\n          scheme: HTTP\r\n        initialDelaySeconds: 5\r\n        periodSeconds: 30\r\n        successThreshold: 1\r\n        timeoutSeconds: 2\r\n      name: minio\r\n      ports:\r\n      - containerPort: 9000\r\n        protocol: TCP\r\n      readinessProbe:\r\n        failureThreshold: 3\r\n        httpGet:\r\n          path: /minio/health/ready\r\n          port: 9000\r\n          scheme: HTTP\r\n        initialDelaySeconds: 2\r\n        periodSeconds: 30\r\n        successThreshold: 1\r\n        timeoutSeconds: 2\r\n      resources: {}\r\n      terminationMessagePath: /dev/termination-log\r\n      terminationMessagePolicy: File\r\n      volumeMounts:\r\n      - mountPath: /data/rook-minio-data1\r\n        name: rook-minio-data1\r\n      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount\r\n        name: default-token-6lc5n\r\n        readOnly: true\r\n    dnsPolicy: ClusterFirst\r\n    enableServiceLinks: true\r\n    hostname: my-store-0\r\n    nodeName: minikube\r\n    priority: 0\r\n    restartPolicy: Always\r\n    schedulerName: default-scheduler\r\n    securityContext: {}\r\n    serviceAccount: default\r\n    serviceAccountName: default\r\n    subdomain: my-store\r\n    terminationGracePeriodSeconds: 30\r\n    tolerations:\r\n    - effect: NoExecute\r\n      key: node.kubernetes.io/not-ready\r\n      operator: Exists\r\n      tolerationSeconds: 300\r\n    - effect: NoExecute\r\n      key: node.kubernetes.io/unreachable\r\n      operator: Exists\r\n      tolerationSeconds: 300\r\n    volumes:\r\n    - name: rook-minio-data1\r\n      persistentVolumeClaim:\r\n        claimName: rook-minio-data1-my-store-0\r\n    - name: default-token-6lc5n\r\n      secret:\r\n        defaultMode: 420\r\n        secretName: default-token-6lc5n\r\n  status:\r\n    conditions:\r\n    - lastProbeTime: null\r\n      lastTransitionTime: 2019-04-24T15:00:17Z\r\n      status: \"True\"\r\n      type: Initialized\r\n    - lastProbeTime: null\r\n      lastTransitionTime: 2019-04-24T15:00:17Z\r\n      message: 'containers with unready status: [minio]'\r\n      reason: ContainersNotReady\r\n      status: \"False\"\r\n      type: Ready\r\n    - lastProbeTime: null\r\n      lastTransitionTime: 2019-04-24T15:00:17Z\r\n      message: 'containers with unready status: [minio]'\r\n      reason: ContainersNotReady\r\n      status: \"False\"\r\n      type: ContainersReady\r\n    - lastProbeTime: null\r\n      lastTransitionTime: 2019-04-24T15:00:17Z\r\n      status: \"True\"\r\n      type: PodScheduled\r\n    containerStatuses:\r\n    - containerID: docker://15049afef5cbc64d7389255091b5ea61fb3b2fce46382761faaf31cec6bf66a5\r\n      image: build-6a9031da/minio-amd64:latest\r\n      imageID: docker://sha256:cad01a18178fcb458dd2e3a4a9bcbb9462108b3deb1955856e0794307ae129b5\r\n      lastState:\r\n        terminated:\r\n          containerID: docker://511ce1491ebeda154c60b4bb7f799158c3f29fbcf2dbeb6df5e2d68fcdb58bb9\r\n          exitCode: 2\r\n          finishedAt: 2019-04-24T15:01:49Z\r\n          reason: Error\r\n          startedAt: 2019-04-24T15:00:18Z\r\n      name: minio\r\n      ready: false\r\n      restartCount: 1\r\n      state:\r\n        running:\r\n          startedAt: 2019-04-24T15:01:49Z\r\n    hostIP: 10.0.2.15\r\n    phase: Running\r\n    podIP: 172.17.0.19\r\n    qosClass: BestEffort\r\n    startTime: 2019-04-24T15:00:17Z\r\nkind: List\r\nmetadata:\r\n  resourceVersion: \"\"\r\n  selfLink: \"\"\r\n```\r\n",
  "closed_at": "2019-04-25T07:03:46Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/3718398?v=4",
    "events_url": "https://api.github.com/users/galexrt/events{/privacy}",
    "followers_url": "https://api.github.com/users/galexrt/followers",
    "following_url": "https://api.github.com/users/galexrt/following{/other_user}",
    "gists_url": "https://api.github.com/users/galexrt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/galexrt",
    "id": 3718398,
    "login": "galexrt",
    "node_id": "MDQ6VXNlcjM3MTgzOTg=",
    "organizations_url": "https://api.github.com/users/galexrt/orgs",
    "received_events_url": "https://api.github.com/users/galexrt/received_events",
    "repos_url": "https://api.github.com/users/galexrt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/galexrt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/galexrt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/galexrt"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/3040/comments",
  "created_at": "2019-04-24T15:11:18Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/3040/events",
  "html_url": "https://github.com/rook/rook/issues/3040",
  "id": 436754333,
  "labels": [
    {
      "color": "ee0000",
      "default": true,
      "description": "",
      "id": 405241115,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTU=",
      "url": "https://api.github.com/repos/rook/rook/labels/bug"
    },
    {
      "color": "bce2f4",
      "default": false,
      "description": "",
      "id": 915296814,
      "name": "minio",
      "node_id": "MDU6TGFiZWw5MTUyOTY4MTQ=",
      "url": "https://api.github.com/repos/rook/rook/labels/minio"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/3040/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-01-28T21:43:45Z",
    "closed_issues": 119,
    "created_at": "2018-11-21T16:40:13Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
      "events_url": "https://api.github.com/users/travisn/events{/privacy}",
      "followers_url": "https://api.github.com/users/travisn/followers",
      "following_url": "https://api.github.com/users/travisn/following{/other_user}",
      "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/travisn",
      "id": 1048514,
      "login": "travisn",
      "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
      "organizations_url": "https://api.github.com/users/travisn/orgs",
      "received_events_url": "https://api.github.com/users/travisn/received_events",
      "repos_url": "https://api.github.com/users/travisn/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/travisn"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/rook/rook/milestone/11",
    "id": 3838796,
    "labels_url": "https://api.github.com/repos/rook/rook/milestones/11/labels",
    "node_id": "MDk6TWlsZXN0b25lMzgzODc5Ng==",
    "number": 11,
    "open_issues": 0,
    "state": "closed",
    "title": "1.0",
    "updated_at": "2020-01-28T21:43:45Z",
    "url": "https://api.github.com/repos/rook/rook/milestones/11"
  },
  "node_id": "MDU6SXNzdWU0MzY3NTQzMzM=",
  "number": 3040,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Minio quick-start fails to initialize Minio on Minikube",
  "updated_at": "2019-04-25T07:03:46Z",
  "url": "https://api.github.com/repos/rook/rook/issues/3040",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4313439?v=4",
    "events_url": "https://api.github.com/users/jbw976/events{/privacy}",
    "followers_url": "https://api.github.com/users/jbw976/followers",
    "following_url": "https://api.github.com/users/jbw976/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbw976/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jbw976",
    "id": 4313439,
    "login": "jbw976",
    "node_id": "MDQ6VXNlcjQzMTM0Mzk=",
    "organizations_url": "https://api.github.com/users/jbw976/orgs",
    "received_events_url": "https://api.github.com/users/jbw976/received_events",
    "repos_url": "https://api.github.com/users/jbw976/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jbw976/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbw976/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jbw976"
  }
}
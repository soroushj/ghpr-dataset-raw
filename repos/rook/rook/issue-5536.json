{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- **Are you in the right place?**\r\n1. For issues or feature requests, please create an issue in this repository.\r\n2. For general technical and non-technical questions, we are happy to help you on our [Rook.io Slack](https://slack.rook.io/).\r\n3. Did you already search the existing open issues for anything similar? -->\r\n\r\n**Is this a bug report or feature request?**\r\n* Feature Request\r\n\r\n**What should the feature do:**\r\n- I'd like to set an arbitrary [`.spec.schedulerName`](https://kubernetes.io/docs/reference/scheduling/profiles/#multiple-profiles) for prepare pods and osd pods.\r\n- I expect how to write in `cluster.yml` like below. It is possible to set it in 2 places like `placement`. Does anyone have better ideas?\r\n\r\npattern A:\r\n```\r\nspec:\r\n...\r\n  schedulerNames:\r\n    all: rook-ceph-default-scheduler\r\n    mon: rook-ceph-mon-scheduler\r\n    osd: rook-ceph-osd-scheduler\r\n    mgr: rook-ceph-mgr-scheduler\r\n...\r\n```\r\n\r\npattern B:\r\n```\r\nspec:\r\n...\r\n  storage:\r\n    storageClassDeviceSets:\r\n      - name: ...\r\n        ...\r\n        schedulerName: scheduler-name-for-device-set\r\n...\r\n```\r\n\r\nI'd like to make a patch if the community agrees.\r\n\r\n**What is use case behind this feature:**\r\n\r\nWe set `Pod Topology Spread Constraints` because we want to spread OSD pods for each node. However, to spread OSD pods, we need to configure the `weight` parameter on the scheduler. I consulted on [this issue](https://github.com/kubernetes/kubernetes/issues/91234) about how the scheduler works and how to configure the scheduler.\r\nAnd we need to separate the settings of the scheduler for OSD pods from the settings for other pods. For the above reasons, we need to set a schedulingName on OSD pods.\r\n\r\n**Environment**:\r\n\r\nScheduler profile and schedulerName are available from Kubernetes 1.18 or later.\r\n\r\n<!-- Specific environment information that helps with the feature request -->\r\n",
  "closed_at": "2020-06-15T08:25:59Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/912735?v=4",
    "events_url": "https://api.github.com/users/leseb/events{/privacy}",
    "followers_url": "https://api.github.com/users/leseb/followers",
    "following_url": "https://api.github.com/users/leseb/following{/other_user}",
    "gists_url": "https://api.github.com/users/leseb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/leseb",
    "id": 912735,
    "login": "leseb",
    "node_id": "MDQ6VXNlcjkxMjczNQ==",
    "organizations_url": "https://api.github.com/users/leseb/orgs",
    "received_events_url": "https://api.github.com/users/leseb/received_events",
    "repos_url": "https://api.github.com/users/leseb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/leseb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leseb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/leseb"
  },
  "comments": 5,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/5536/comments",
  "created_at": "2020-05-25T08:50:48Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/5536/events",
  "html_url": "https://github.com/rook/rook/issues/5536",
  "id": 624148393,
  "labels": [
    {
      "color": "84b6eb",
      "default": false,
      "description": "",
      "id": 405241117,
      "name": "feature",
      "node_id": "MDU6TGFiZWw0MDUyNDExMTc=",
      "url": "https://api.github.com/repos/rook/rook/labels/feature"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/5536/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2MjQxNDgzOTM=",
  "number": 5536,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "ceph: Enable setting the scheduler name for OSD pods.",
  "updated_at": "2020-06-15T08:25:59Z",
  "url": "https://api.github.com/repos/rook/rook/issues/5536",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2675889?v=4",
    "events_url": "https://api.github.com/users/llamerada-jp/events{/privacy}",
    "followers_url": "https://api.github.com/users/llamerada-jp/followers",
    "following_url": "https://api.github.com/users/llamerada-jp/following{/other_user}",
    "gists_url": "https://api.github.com/users/llamerada-jp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/llamerada-jp",
    "id": 2675889,
    "login": "llamerada-jp",
    "node_id": "MDQ6VXNlcjI2NzU4ODk=",
    "organizations_url": "https://api.github.com/users/llamerada-jp/orgs",
    "received_events_url": "https://api.github.com/users/llamerada-jp/received_events",
    "repos_url": "https://api.github.com/users/llamerada-jp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/llamerada-jp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/llamerada-jp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/llamerada-jp"
  }
}
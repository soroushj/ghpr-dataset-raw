{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "<!-- **Are you in the right place?**\r\n1. For issues or feature requests, please create an issue in this repository.\r\n2. For general technical and non-technical questions, we are happy to help you on our [Rook.io Slack](https://Rook-io.slack.com).\r\n3. Did you already search the existing open issues for anything similar? -->\r\n\r\n**Is this a bug report or feature request?**\r\n* Feature Request\r\n\r\n**What should the feature do:**\r\nThe sample files under `cluster/examples/kubernetes/ceph` currently cause confusion and user error in the following ways:\r\n- Only a single example is provided for most CRDs even though there are many use cases\r\n- The examples are tedious to read with the comments that explain all the possible settings\r\n- The examples are only for test environments, for example with replication of 1, or where mons can be on the same node\r\n\r\nTo improve this structure, the suggestion is as follows:\r\n- Separate out the RBAC settings in the yaml from the basic operator deployment and cluster CRD. The RBAC is largely independent from the operator and cluster crd settings. This will allow us to create multiple samples without copying the rbac everywhere. For example, we would now have `operator-rbac.yaml` and `cluster-rbac.yaml`.\r\n- Multiple operator samples can be created:\r\n  - `operator.yaml`: The most common operator settings\r\n  - `operator-openshift.yaml`: The operator that works by default on openshift\r\n  - `operator-with-csi.yaml`: The operator that allows for early testing of the csi driver (until fully - \r\n- Cluster CRD samples could include:\r\n  - `cluster.yaml`: The basic settings for a production-level cluster. Replication 3, mons on different nodes, etc.\r\n  - `cluster-test.yaml`: The basic settings for a single-node (minikube) cluster. Replication 1, single mon, etc\r\n  - `cluster-minimal.yaml`: A cluster than only starts a single mon and mgr. Other daemons can be started later, such as through the ceph dashboard that drives updates to the cluster crd\r\n  - `cluster-nautilus.yaml`: Test cluster that runs the currently unsupported nautilus image\r\n  - `cluster-specific-devices.yaml`: Shows how to specify nodes and devices by name \r\n  - `cluster-nvme.yaml`: Shows that you would want multiple osds per device for high performance nvme\r\n  - `cluster-metadata-device.yaml`: Shows how to specify a metadata device\r\n  - And so on... \r\n- Multiple pool examples. Object and file could also follow this pattern since they have similar pool settings.\r\n  - `pool.yaml`: Production example with replication 3\r\n  - `pool-test.yaml`: Test example with replication 1\r\n  - `pool-ec.yaml`: Erasure coding example\r\n- Docs would need to indicate to install the operator-rbac.yaml and cluster-rbac.yaml as new steps, so a basic cluster would be 4 steps instead of 2. \r\n- Docs would be updated to point to the new samples.",
  "closed_at": "2019-04-04T22:01:05Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/2700/comments",
  "created_at": "2019-02-21T20:23:30Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/2700/events",
  "html_url": "https://github.com/rook/rook/issues/2700",
  "id": 413107702,
  "labels": [
    {
      "color": "ef5c55",
      "default": false,
      "description": "main ceph tag",
      "id": 479456042,
      "name": "ceph",
      "node_id": "MDU6TGFiZWw0Nzk0NTYwNDI=",
      "url": "https://api.github.com/repos/rook/rook/labels/ceph"
    },
    {
      "color": "006b75",
      "default": false,
      "description": null,
      "id": 479938403,
      "name": "docs",
      "node_id": "MDU6TGFiZWw0Nzk5Mzg0MDM=",
      "url": "https://api.github.com/repos/rook/rook/labels/docs"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/2700/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTMxMDc3MDI=",
  "number": 2700,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Add CRD sample yamls to clarify usage ",
  "updated_at": "2019-04-04T22:01:05Z",
  "url": "https://api.github.com/repos/rook/rook/issues/2700",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1048514?v=4",
    "events_url": "https://api.github.com/users/travisn/events{/privacy}",
    "followers_url": "https://api.github.com/users/travisn/followers",
    "following_url": "https://api.github.com/users/travisn/following{/other_user}",
    "gists_url": "https://api.github.com/users/travisn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/travisn",
    "id": 1048514,
    "login": "travisn",
    "node_id": "MDQ6VXNlcjEwNDg1MTQ=",
    "organizations_url": "https://api.github.com/users/travisn/orgs",
    "received_events_url": "https://api.github.com/users/travisn/received_events",
    "repos_url": "https://api.github.com/users/travisn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/travisn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travisn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/travisn"
  }
}
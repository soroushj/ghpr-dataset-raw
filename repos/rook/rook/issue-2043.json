{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/7062400?v=4",
    "events_url": "https://api.github.com/users/rootfs/events{/privacy}",
    "followers_url": "https://api.github.com/users/rootfs/followers",
    "following_url": "https://api.github.com/users/rootfs/following{/other_user}",
    "gists_url": "https://api.github.com/users/rootfs/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rootfs",
    "id": 7062400,
    "login": "rootfs",
    "node_id": "MDQ6VXNlcjcwNjI0MDA=",
    "organizations_url": "https://api.github.com/users/rootfs/orgs",
    "received_events_url": "https://api.github.com/users/rootfs/received_events",
    "repos_url": "https://api.github.com/users/rootfs/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rootfs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rootfs/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rootfs"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/7062400?v=4",
      "events_url": "https://api.github.com/users/rootfs/events{/privacy}",
      "followers_url": "https://api.github.com/users/rootfs/followers",
      "following_url": "https://api.github.com/users/rootfs/following{/other_user}",
      "gists_url": "https://api.github.com/users/rootfs/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rootfs",
      "id": 7062400,
      "login": "rootfs",
      "node_id": "MDQ6VXNlcjcwNjI0MDA=",
      "organizations_url": "https://api.github.com/users/rootfs/orgs",
      "received_events_url": "https://api.github.com/users/rootfs/received_events",
      "repos_url": "https://api.github.com/users/rootfs/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rootfs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rootfs/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rootfs"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a bug report or feature request?**\r\n* Bug Report\r\n\r\n**Deviation from expected behavior:**\r\nWhen restarted, operator checks all OSDs are running, but at some point fails with:\r\n\r\n```\r\n2018-08-17 01:22:22.635203 I | op-k8sutil: updating deployment rook-ceph-osd-id-130\r\n2018-08-17 01:22:24.666490 I | op-k8sutil: finished waiting for updated deployment rook-ceph-osd-id-130\r\n2018-08-17 01:22:24.666509 I | op-osd: started deployment for osd 130 (dir=false, type=bluestore)\r\n2018-08-17 01:22:24.669040 I | op-osd: osd orchestration status for node ps-100g.sdsu.edu is starting\r\n2018-08-17 01:22:24.669056 I | op-osd: osd orchestration status for node siderea.ucsc.edu is starting\r\n2018-08-17 01:22:24.669061 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:24.670869 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:24.770976 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:24.771848 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:24.811933 I | op-provisioner: Deleting volume pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994\r\n2018-08-17 01:22:24.811952 I | exec: Running command: rbd rm rbd/pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994 --cluster= --conf=/var/lib/rook/.config --keyring=/v\r\nar/lib/rook/client.admin.keyring\r\n2018-08-17 01:22:24.812100 I | op-provisioner: Deleting volume pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994\r\n2018-08-17 01:22:24.812118 I | exec: Running command: rbd rm rbd/pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994 --cluster= --conf=/var/lib/rook/.config --keyring=/v\r\nar/lib/rook/client.admin.keyring\r\n2018-08-17 01:22:24.812127 I | op-provisioner: Deleting volume pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994\r\n2018-08-17 01:22:24.812144 I | exec: Running command: rbd rm rbd/pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994 --cluster= --conf=/var/lib/rook/.config --keyring=/v\r\nar/lib/rook/client.admin.keyring\r\nE0817 01:22:24.825364       7 controller.go:1044] Deletion of volume \"pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994\" failed: Failed to delete rook block image rbd/\r\npvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994: failed to delete image pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1. g\r\nlobal_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\nE0817 01:22:24.825422       7 goroutinemap.go:165] Operation for \"delete-pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994[6aec4ddb-8ea0-11e8-92ef-0cc47a6be994]\" faile\r\nd. No retries permitted until 2018-08-17 01:24:26.825404385 +0000 UTC m=+497.173393014 (durationBeforeRetry 2m2s). Error: Failed to delete rook block image rb\r\nd/pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994: failed to delete image pvc-5b9e9df4-8ea0-11e8-92ef-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1.\r\n global_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\nE0817 01:22:24.825753       7 controller.go:1044] Deletion of volume \"pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994\" failed: Failed to delete rook block image rbd/pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994: failed to delete image pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1. global_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\nE0817 01:22:24.825791       7 goroutinemap.go:165] Operation for \"delete-pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994[5ffa47ae-a0d0-11e8-8e30-0cc47a6be994]\" failed. No retries permitted until 2018-08-17 01:24:26.825780946 +0000 UTC m=+497.173769575 (durationBeforeRetry 2m2s). Error: Failed to delete rook block image rbd/pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994: failed to delete image pvc-584f3e18-a0d0-11e8-8e30-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1. global_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\nE0817 01:22:24.825958       7 controller.go:1044] Deletion of volume \"pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994\" failed: Failed to delete rook block image rbd/pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994: failed to delete image pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1. global_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\nE0817 01:22:24.825996       7 goroutinemap.go:165] Operation for \"delete-pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994[119e6a37-9f46-11e8-92ef-0cc47a6be994]\" failed. No retries permitted until 2018-08-17 01:24:26.825984549 +0000 UTC m=+497.173973182 (durationBeforeRetry 2m2s). Error: Failed to delete rook block image rbd/pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994: failed to delete image pvc-0b1bb4e5-9f46-11e8-92ef-0cc47a6be994 in pool rbd: Failed to complete '': exit status 1. global_init: unable to open config file from search list /var/lib/rook/.config\r\n. output:\r\n2018-08-17 01:22:24.871944 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:24.872769 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:24.972851 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:24.973845 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.073929 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.074814 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.174891 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.175758 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.275835 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.276647 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.376740 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.377564 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.477646 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.478442 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.578526 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.579283 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.679364 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.680127 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.780216 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.781114 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.881202 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.882004 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:25.982083 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:25.982835 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:26.082912 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:26.083701 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:26.183800 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:26.184550 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:26.284634 I | op-osd: 12/14 node(s) completed osd provisioning\r\n2018-08-17 01:22:26.285400 I | op-osd: orchestration status config map result channel closed, will restart watch.\r\n2018-08-17 01:22:26.385449 I | op-osd: 12/14 node(s) completed osd provisioning\r\n```\r\n\r\nAfter this it keeps printing this message about channel closed.\r\n\r\n**Expected behavior:**\r\nOperator function normally after the upgrade 0.7.1->0.8.1\r\n\r\n**Environment**:\r\n* OS (e.g. from /etc/os-release):\r\nCentOS 7.5\r\n* Kernel (e.g. `uname -a`):\r\n4.14.14-1.el7.elrepo.x86_64\r\n* Cloud provider or hardware configuration:\r\nBAremetal\r\n* Rook version (use `rook version` inside of a Rook Pod):\r\n0.8.1\r\n* Kubernetes version (use `kubectl version`):\r\n1.11.2\r\n* Kubernetes cluster type (e.g. Tectonic, GKE, OpenShift):\r\nkubeadm\r\n* Storage backend status (e.g. for Ceph use `ceph health` in the [Rook Ceph toolbox](https://rook.io/docs/Rook/master/toolbox.html)):\r\nHEALTH_WARN noscrub,nodeep-scrub flag(s) set\r\n",
  "closed_at": "2018-09-14T20:16:35Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4313439?v=4",
    "events_url": "https://api.github.com/users/jbw976/events{/privacy}",
    "followers_url": "https://api.github.com/users/jbw976/followers",
    "following_url": "https://api.github.com/users/jbw976/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbw976/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jbw976",
    "id": 4313439,
    "login": "jbw976",
    "node_id": "MDQ6VXNlcjQzMTM0Mzk=",
    "organizations_url": "https://api.github.com/users/jbw976/orgs",
    "received_events_url": "https://api.github.com/users/jbw976/received_events",
    "repos_url": "https://api.github.com/users/jbw976/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jbw976/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbw976/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jbw976"
  },
  "comments": 74,
  "comments_url": "https://api.github.com/repos/rook/rook/issues/2043/comments",
  "created_at": "2018-08-17T01:28:22Z",
  "events_url": "https://api.github.com/repos/rook/rook/issues/2043/events",
  "html_url": "https://github.com/rook/rook/issues/2043",
  "id": 351425773,
  "labels": [
    {
      "color": "ef5c55",
      "default": false,
      "description": "main ceph tag",
      "id": 479456042,
      "name": "ceph",
      "node_id": "MDU6TGFiZWw0Nzk0NTYwNDI=",
      "url": "https://api.github.com/repos/rook/rook/labels/ceph"
    },
    {
      "color": "00aaaa",
      "default": false,
      "description": null,
      "id": 479820581,
      "name": "operator",
      "node_id": "MDU6TGFiZWw0Nzk4MjA1ODE=",
      "url": "https://api.github.com/repos/rook/rook/labels/operator"
    }
  ],
  "labels_url": "https://api.github.com/repos/rook/rook/issues/2043/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-01-28T21:43:43Z",
    "closed_issues": 89,
    "created_at": "2018-02-28T18:53:01Z",
    "creator": {
      "avatar_url": "https://avatars2.githubusercontent.com/u/4313439?v=4",
      "events_url": "https://api.github.com/users/jbw976/events{/privacy}",
      "followers_url": "https://api.github.com/users/jbw976/followers",
      "following_url": "https://api.github.com/users/jbw976/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbw976/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jbw976",
      "id": 4313439,
      "login": "jbw976",
      "node_id": "MDQ6VXNlcjQzMTM0Mzk=",
      "organizations_url": "https://api.github.com/users/jbw976/orgs",
      "received_events_url": "https://api.github.com/users/jbw976/received_events",
      "repos_url": "https://api.github.com/users/jbw976/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jbw976/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbw976/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jbw976"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/rook/rook/milestone/10",
    "id": 3151476,
    "labels_url": "https://api.github.com/repos/rook/rook/milestones/10/labels",
    "node_id": "MDk6TWlsZXN0b25lMzE1MTQ3Ng==",
    "number": 10,
    "open_issues": 0,
    "state": "closed",
    "title": "0.9",
    "updated_at": "2020-01-28T21:43:43Z",
    "url": "https://api.github.com/repos/rook/rook/milestones/10"
  },
  "node_id": "MDU6SXNzdWUzNTE0MjU3NzM=",
  "number": 2043,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/rook/rook",
  "state": "closed",
  "title": "Operator not happy after upgrade",
  "updated_at": "2018-09-14T20:16:35Z",
  "url": "https://api.github.com/repos/rook/rook/issues/2043",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1425007?v=4",
    "events_url": "https://api.github.com/users/dimm0/events{/privacy}",
    "followers_url": "https://api.github.com/users/dimm0/followers",
    "following_url": "https://api.github.com/users/dimm0/following{/other_user}",
    "gists_url": "https://api.github.com/users/dimm0/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dimm0",
    "id": 1425007,
    "login": "dimm0",
    "node_id": "MDQ6VXNlcjE0MjUwMDc=",
    "organizations_url": "https://api.github.com/users/dimm0/orgs",
    "received_events_url": "https://api.github.com/users/dimm0/received_events",
    "repos_url": "https://api.github.com/users/dimm0/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dimm0/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dimm0/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dimm0"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "We are seeing slower launch times of Windows containers using servercore images (or images derived from servercore). Upon investigation, this appears to be due to the C:\\Windows\\System32\\CatRoot directory modification timestamp being different from the value in the container. This causes the Windows catdb to be rebuilt on container launch, which impacts container startup time.\r\n\r\nWe have root caused this to an issue in the Windows layer unpack code in Microsoft/hcsshim. When unpacking a delta layer, the directory timestamps are not correctly reset to their proper values after removing files removed via whiteout. We are working on a fix, and will then need to revendor Microsoft/hcsshim. We are tracking the issue on the hcsshim side via https://github.com/microsoft/hcsshim/issues/830.\r\n\r\nNote that this bug could have other impact as well, as in general it can cause delta layer directory timestamps to be incorrect. The primary impact we have observed is the slow start time with servercore container images.",
  "closed_at": "2020-09-26T09:39:34Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/9248427?v=4",
    "events_url": "https://api.github.com/users/AkihiroSuda/events{/privacy}",
    "followers_url": "https://api.github.com/users/AkihiroSuda/followers",
    "following_url": "https://api.github.com/users/AkihiroSuda/following{/other_user}",
    "gists_url": "https://api.github.com/users/AkihiroSuda/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/AkihiroSuda",
    "id": 9248427,
    "login": "AkihiroSuda",
    "node_id": "MDQ6VXNlcjkyNDg0Mjc=",
    "organizations_url": "https://api.github.com/users/AkihiroSuda/orgs",
    "received_events_url": "https://api.github.com/users/AkihiroSuda/received_events",
    "repos_url": "https://api.github.com/users/AkihiroSuda/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/AkihiroSuda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AkihiroSuda/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/AkihiroSuda"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/containerd/containerd/issues/4301/comments",
  "created_at": "2020-06-03T21:28:41Z",
  "events_url": "https://api.github.com/repos/containerd/containerd/issues/4301/events",
  "html_url": "https://github.com/containerd/containerd/issues/4301",
  "id": 630344814,
  "labels": [
    {
      "color": "FF8C94",
      "default": false,
      "description": null,
      "id": 347599646,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzNDc1OTk2NDY=",
      "url": "https://api.github.com/repos/containerd/containerd/labels/kind/bug"
    },
    {
      "color": "ededed",
      "default": false,
      "description": "",
      "id": 364668000,
      "name": "windows",
      "node_id": "MDU6TGFiZWwzNjQ2NjgwMDA=",
      "url": "https://api.github.com/repos/containerd/containerd/labels/windows"
    }
  ],
  "labels_url": "https://api.github.com/repos/containerd/containerd/issues/4301/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2MzAzNDQ4MTQ=",
  "number": 4301,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/containerd/containerd",
  "state": "closed",
  "title": "Slow Windows container start time when using servercore image",
  "updated_at": "2020-09-26T09:39:34Z",
  "url": "https://api.github.com/repos/containerd/containerd/issues/4301",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/315397?v=4",
    "events_url": "https://api.github.com/users/kevpar/events{/privacy}",
    "followers_url": "https://api.github.com/users/kevpar/followers",
    "following_url": "https://api.github.com/users/kevpar/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevpar/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kevpar",
    "id": 315397,
    "login": "kevpar",
    "node_id": "MDQ6VXNlcjMxNTM5Nw==",
    "organizations_url": "https://api.github.com/users/kevpar/orgs",
    "received_events_url": "https://api.github.com/users/kevpar/received_events",
    "repos_url": "https://api.github.com/users/kevpar/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kevpar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevpar/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kevpar"
  }
}
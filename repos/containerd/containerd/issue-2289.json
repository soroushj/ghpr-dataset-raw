{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "Hey all,\r\n\r\nAs you know, we're starting to look at consuming `containerd` in Garden, instead of talking to `runc` directly, but we're running up against some problems, and I was hoping to start a discussion around this.\r\n\r\nUp to now in Garden, we've happily been building our own `specs.Spec` from the `runtime-spec` and letting `runc` consume it from `config.json`. It would the best if we could simply pass the spec we've already generated to the containerd client `NewContainer()` method via `containerd.WithSpec()` (https://github.com/containerd/containerd/blob/129167132c5e0dbd1b031badae201a432d1bd681/container_opts.go#L199)\r\n\r\nHowever, since `containerd` vendors the `runtime-spec` library itself, we end up with Go compilation errors because of the conflicting packages (our gopath, and containerd's vendored libs). I imagine you are vendoring because you want to pin versions and be able to build the binaries, and that makes sense but it makes consuming the library a little difficult.\r\n\r\nI might be totally missing some trick here, and it'd be great if that were true but I only see a few options for us here:\r\n\r\n1. Fork containerd and maintain a fork without vendored libs (yikes)\r\n2. Figure out whether the `vndr` dependency management tool you are using can handle vendored directories in the same way that `dep` supposedly does, and move over? (ugh, even if it works)\r\n3. Move ourselves to use dep for all of eternity, which might work with no changes to `containerd`? (no thanks)\r\n4. PR to separate the `containerd` library from the runtime? (sad, not sure if it's possible)\r\n\r\nI feel like I must be missing something here, since other projects must be consuming `containerd`, it'd be great if you could point me in the right direction!\r\n\r\nThanks,\r\n\r\nWill",
  "closed_at": "2018-05-22T17:14:08Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/169601?v=4",
    "events_url": "https://api.github.com/users/dmcgowan/events{/privacy}",
    "followers_url": "https://api.github.com/users/dmcgowan/followers",
    "following_url": "https://api.github.com/users/dmcgowan/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmcgowan/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dmcgowan",
    "id": 169601,
    "login": "dmcgowan",
    "node_id": "MDQ6VXNlcjE2OTYwMQ==",
    "organizations_url": "https://api.github.com/users/dmcgowan/orgs",
    "received_events_url": "https://api.github.com/users/dmcgowan/received_events",
    "repos_url": "https://api.github.com/users/dmcgowan/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dmcgowan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmcgowan/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dmcgowan"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/containerd/containerd/issues/2289/comments",
  "created_at": "2018-04-12T13:50:19Z",
  "events_url": "https://api.github.com/repos/containerd/containerd/issues/2289/events",
  "html_url": "https://github.com/containerd/containerd/issues/2289",
  "id": 313736001,
  "labels": [],
  "labels_url": "https://api.github.com/repos/containerd/containerd/issues/2289/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2018-10-26T16:45:53Z",
    "closed_issues": 80,
    "created_at": "2017-12-19T20:28:17Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/120601?v=4",
      "events_url": "https://api.github.com/users/stevvooe/events{/privacy}",
      "followers_url": "https://api.github.com/users/stevvooe/followers",
      "following_url": "https://api.github.com/users/stevvooe/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevvooe/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/stevvooe",
      "id": 120601,
      "login": "stevvooe",
      "node_id": "MDQ6VXNlcjEyMDYwMQ==",
      "organizations_url": "https://api.github.com/users/stevvooe/orgs",
      "received_events_url": "https://api.github.com/users/stevvooe/received_events",
      "repos_url": "https://api.github.com/users/stevvooe/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/stevvooe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevvooe/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/stevvooe"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/containerd/containerd/milestone/17",
    "id": 2989685,
    "labels_url": "https://api.github.com/repos/containerd/containerd/milestones/17/labels",
    "node_id": "MDk6TWlsZXN0b25lMjk4OTY4NQ==",
    "number": 17,
    "open_issues": 0,
    "state": "closed",
    "title": "1.2",
    "updated_at": "2019-02-06T04:23:01Z",
    "url": "https://api.github.com/repos/containerd/containerd/milestones/17"
  },
  "node_id": "MDU6SXNzdWUzMTM3MzYwMDE=",
  "number": 2289,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/containerd/containerd",
  "state": "closed",
  "title": "Vendored library conflicts",
  "updated_at": "2018-05-22T17:14:08Z",
  "url": "https://api.github.com/repos/containerd/containerd/issues/2289",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1611510?v=4",
    "events_url": "https://api.github.com/users/williammartin/events{/privacy}",
    "followers_url": "https://api.github.com/users/williammartin/followers",
    "following_url": "https://api.github.com/users/williammartin/following{/other_user}",
    "gists_url": "https://api.github.com/users/williammartin/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/williammartin",
    "id": 1611510,
    "login": "williammartin",
    "node_id": "MDQ6VXNlcjE2MTE1MTA=",
    "organizations_url": "https://api.github.com/users/williammartin/orgs",
    "received_events_url": "https://api.github.com/users/williammartin/received_events",
    "repos_url": "https://api.github.com/users/williammartin/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/williammartin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/williammartin/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/williammartin"
  }
}
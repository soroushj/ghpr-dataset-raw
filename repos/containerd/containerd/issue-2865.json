{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "I don't know if it was by design that containerd was sharing all its contents, that is, only one copy of content was saved at containerd dir. \r\n\r\nAnd by this design, users may have been isolated by namespaces who can't see others' containers/contents in view of metadata. however when pulling an image client opened a Writer for writing content, the writer was created ignoring namespace (checkout https://github.com/containerd/containerd/blob/0b0d6e6bdd78f02e33e308eb0bc41561d80fc62e/metadata/content.go#L386), which is where sharing contents.\r\n\r\nWhat worries me is if some user tried to pull a forged image which contains digests as other users's private images, it may lead to a leakage.",
  "closed_at": "2019-01-14T21:15:39Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/169601?v=4",
    "events_url": "https://api.github.com/users/dmcgowan/events{/privacy}",
    "followers_url": "https://api.github.com/users/dmcgowan/followers",
    "following_url": "https://api.github.com/users/dmcgowan/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmcgowan/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dmcgowan",
    "id": 169601,
    "login": "dmcgowan",
    "node_id": "MDQ6VXNlcjE2OTYwMQ==",
    "organizations_url": "https://api.github.com/users/dmcgowan/orgs",
    "received_events_url": "https://api.github.com/users/dmcgowan/received_events",
    "repos_url": "https://api.github.com/users/dmcgowan/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dmcgowan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmcgowan/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dmcgowan"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/containerd/containerd/issues/2865/comments",
  "created_at": "2018-12-08T13:44:31Z",
  "events_url": "https://api.github.com/repos/containerd/containerd/issues/2865/events",
  "html_url": "https://github.com/containerd/containerd/issues/2865",
  "id": 388923497,
  "labels": [],
  "labels_url": "https://api.github.com/repos/containerd/containerd/issues/2865/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzODg5MjM0OTc=",
  "number": 2865,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/containerd/containerd",
  "state": "closed",
  "title": "Question with multi-tenants sharing contents",
  "updated_at": "2019-01-14T21:15:39Z",
  "url": "https://api.github.com/repos/containerd/containerd/issues/2865",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1010944?v=4",
    "events_url": "https://api.github.com/users/linxiulei/events{/privacy}",
    "followers_url": "https://api.github.com/users/linxiulei/followers",
    "following_url": "https://api.github.com/users/linxiulei/following{/other_user}",
    "gists_url": "https://api.github.com/users/linxiulei/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/linxiulei",
    "id": 1010944,
    "login": "linxiulei",
    "node_id": "MDQ6VXNlcjEwMTA5NDQ=",
    "organizations_url": "https://api.github.com/users/linxiulei/orgs",
    "received_events_url": "https://api.github.com/users/linxiulei/received_events",
    "repos_url": "https://api.github.com/users/linxiulei/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/linxiulei/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/linxiulei/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/linxiulei"
  }
}
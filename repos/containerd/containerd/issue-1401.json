{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "`DeleteProcess`:\r\n1) grab lock and get process;\r\n2) delete the process (which does nothing actually);\r\n3) delete the process from the map.\r\n\r\n`Start`:\r\n1) get the process;\r\n2) Start it.\r\n\r\nIt's possible that:\r\n1) `Start` get the process first;\r\n2) `DeleteProcess` deleted the process from map thought it successfully deleted the process;\r\n3) The process is started, but containerd is not aware of that.\r\n\r\nForked from https://github.com/containerd/containerd/pull/1377.\r\n\r\nWe could possibly tell user not to do this concurrently, but at least we should document this somewhere if so. This is acceptable for us because we don't do these operations concurrently.\r\n\r\nAnother option is to fix this, we need manage state inside shim, e.g. a `Removing` state maintained inside critical section to avoid subsequent start.\r\n",
  "closed_at": "2017-08-25T19:03:27Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/169601?v=4",
    "events_url": "https://api.github.com/users/dmcgowan/events{/privacy}",
    "followers_url": "https://api.github.com/users/dmcgowan/followers",
    "following_url": "https://api.github.com/users/dmcgowan/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmcgowan/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dmcgowan",
    "id": 169601,
    "login": "dmcgowan",
    "node_id": "MDQ6VXNlcjE2OTYwMQ==",
    "organizations_url": "https://api.github.com/users/dmcgowan/orgs",
    "received_events_url": "https://api.github.com/users/dmcgowan/received_events",
    "repos_url": "https://api.github.com/users/dmcgowan/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dmcgowan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmcgowan/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dmcgowan"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/containerd/containerd/issues/1401/comments",
  "created_at": "2017-08-18T22:29:16Z",
  "events_url": "https://api.github.com/repos/containerd/containerd/issues/1401/events",
  "html_url": "https://github.com/containerd/containerd/issues/1401",
  "id": 251373358,
  "labels": [],
  "labels_url": "https://api.github.com/repos/containerd/containerd/issues/1401/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNTEzNzMzNTg=",
  "number": 1401,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/containerd/containerd",
  "state": "closed",
  "title": "Race between DeleteProcess and Start ",
  "updated_at": "2017-08-25T19:03:27Z",
  "url": "https://api.github.com/repos/containerd/containerd/issues/1401",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5821883?v=4",
    "events_url": "https://api.github.com/users/Random-Liu/events{/privacy}",
    "followers_url": "https://api.github.com/users/Random-Liu/followers",
    "following_url": "https://api.github.com/users/Random-Liu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Random-Liu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Random-Liu",
    "id": 5821883,
    "login": "Random-Liu",
    "node_id": "MDQ6VXNlcjU4MjE4ODM=",
    "organizations_url": "https://api.github.com/users/Random-Liu/orgs",
    "received_events_url": "https://api.github.com/users/Random-Liu/received_events",
    "repos_url": "https://api.github.com/users/Random-Liu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Random-Liu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Random-Liu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Random-Liu"
  }
}
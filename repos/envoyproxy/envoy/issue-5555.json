{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2023366?v=4",
    "events_url": "https://api.github.com/users/snowp/events{/privacy}",
    "followers_url": "https://api.github.com/users/snowp/followers",
    "following_url": "https://api.github.com/users/snowp/following{/other_user}",
    "gists_url": "https://api.github.com/users/snowp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/snowp",
    "id": 2023366,
    "login": "snowp",
    "node_id": "MDQ6VXNlcjIwMjMzNjY=",
    "organizations_url": "https://api.github.com/users/snowp/orgs",
    "received_events_url": "https://api.github.com/users/snowp/received_events",
    "repos_url": "https://api.github.com/users/snowp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/snowp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snowp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/snowp"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/2023366?v=4",
      "events_url": "https://api.github.com/users/snowp/events{/privacy}",
      "followers_url": "https://api.github.com/users/snowp/followers",
      "following_url": "https://api.github.com/users/snowp/following{/other_user}",
      "gists_url": "https://api.github.com/users/snowp/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/snowp",
      "id": 2023366,
      "login": "snowp",
      "node_id": "MDQ6VXNlcjIwMjMzNjY=",
      "organizations_url": "https://api.github.com/users/snowp/orgs",
      "received_events_url": "https://api.github.com/users/snowp/received_events",
      "repos_url": "https://api.github.com/users/snowp/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/snowp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snowp/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/snowp"
    }
  ],
  "author_association": "NONE",
  "body": "*Title*: IPs not set if version never changes \r\n\r\n*Description*:\r\nWe are using a control-plane based on the go-control-plane project. We are using ADS to serve resources to envoy over gRPC. When the clusters/endpoints do not change from the initial version, Envoy does not correctly associate the IPs it receives from the control-plane with the clusters. Envoy receives the IPs and acknowledges them in the logs, but the IPs do not appear in the /clusters endpoint and attempts to route to these clusters fail with 503. Forcing a new version in the control-plane triggers envoy to correctly associate the IPs it receives with the cluster. \r\n\r\n*version* 5d25f466c3410c0dfa735d7d4358beb76b2da507/1.8.0/Clean/RELEASE\r\nThis has been confirmed to also occur with the docker image for v1.9.0 but does not occur with the image for v1.7.0\r\n\r\n*Repro steps*:\r\n* Start dummy service\r\n* Start control plane\r\n* Start Envoy\r\n* Try to route to dummy service -> 503\r\n* add new service, verify version changed in log\r\n* Try to route to dummy service -> 200\r\n\r\nlogs and output attached (ips redacted) \r\n[clusters.txt](https://github.com/envoyproxy/envoy/files/2742364/clusters.txt)\r\n[clusters_after.txt](https://github.com/envoyproxy/envoy/files/2742376/clusters_after.txt)\r\n[envoy-config.txt](https://github.com/envoyproxy/envoy/files/2742366/envoy-config.txt)\r\n[envoy_log.txt](https://github.com/envoyproxy/envoy/files/2742367/envoy_log.txt)",
  "closed_at": "2019-05-13T17:18:41Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2023366?v=4",
    "events_url": "https://api.github.com/users/snowp/events{/privacy}",
    "followers_url": "https://api.github.com/users/snowp/followers",
    "following_url": "https://api.github.com/users/snowp/following{/other_user}",
    "gists_url": "https://api.github.com/users/snowp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/snowp",
    "id": 2023366,
    "login": "snowp",
    "node_id": "MDQ6VXNlcjIwMjMzNjY=",
    "organizations_url": "https://api.github.com/users/snowp/orgs",
    "received_events_url": "https://api.github.com/users/snowp/received_events",
    "repos_url": "https://api.github.com/users/snowp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/snowp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snowp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/snowp"
  },
  "comments": 17,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5555/comments",
  "created_at": "2019-01-09T19:57:22Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5555/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/5555",
  "id": 397535468,
  "labels": [
    {
      "color": "ee0701",
      "default": true,
      "description": null,
      "id": 421403907,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDc=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5555/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-07-11T18:22:23Z",
    "closed_issues": 70,
    "created_at": "2019-03-01T23:01:48Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/10",
    "id": 4101146,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/10/labels",
    "node_id": "MDk6TWlsZXN0b25lNDEwMTE0Ng==",
    "number": 10,
    "open_issues": 0,
    "state": "closed",
    "title": "1.11.0",
    "updated_at": "2020-04-17T15:48:02Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/10"
  },
  "node_id": "MDU6SXNzdWUzOTc1MzU0Njg=",
  "number": 5555,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "IPs not set if version never changes",
  "updated_at": "2019-05-13T17:18:41Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/5555",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/4561443?v=4",
    "events_url": "https://api.github.com/users/billybanfield/events{/privacy}",
    "followers_url": "https://api.github.com/users/billybanfield/followers",
    "following_url": "https://api.github.com/users/billybanfield/following{/other_user}",
    "gists_url": "https://api.github.com/users/billybanfield/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/billybanfield",
    "id": 4561443,
    "login": "billybanfield",
    "node_id": "MDQ6VXNlcjQ1NjE0NDM=",
    "organizations_url": "https://api.github.com/users/billybanfield/orgs",
    "received_events_url": "https://api.github.com/users/billybanfield/received_events",
    "repos_url": "https://api.github.com/users/billybanfield/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/billybanfield/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/billybanfield/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/billybanfield"
  }
}
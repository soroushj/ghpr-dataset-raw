{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "*Description*:\r\n>A slow testing environment causes test failures and flakes, such as the one described in https://github.com/envoyproxy/envoy/issues/4135. It also makes it hard to run tests under a debugger, which, in addition to helping to debug tests, is a strategy I use sometimes to learn code.\r\n\r\nMy feeling is that the root of this problem (and others) is singleton patterns like:\r\n[ProdMonotonicTimeSource::instance_](https://github.com/envoyproxy/envoy/blob/a3c55bf7bc514202b203cc797b504212da797a47/source/common/common/utility.h#L117)\r\n\r\nIn the past I've used strategies where these get passed downward as the world gets constructed, so singletons are never referenced in code that needs to be tested (or even exist, usually).\r\n\r\nMy hope is that injecting MonotonicTime refs into key classes in the system will eliminate the need to reference singletons deeply.",
  "closed_at": null,
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1183641?v=4",
    "events_url": "https://api.github.com/users/dnoe/events{/privacy}",
    "followers_url": "https://api.github.com/users/dnoe/followers",
    "following_url": "https://api.github.com/users/dnoe/following{/other_user}",
    "gists_url": "https://api.github.com/users/dnoe/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dnoe",
    "id": 1183641,
    "login": "dnoe",
    "node_id": "MDQ6VXNlcjExODM2NDE=",
    "organizations_url": "https://api.github.com/users/dnoe/orgs",
    "received_events_url": "https://api.github.com/users/dnoe/received_events",
    "repos_url": "https://api.github.com/users/dnoe/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dnoe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dnoe/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dnoe"
  },
  "comments": 9,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4160/comments",
  "created_at": "2018-08-15T12:36:40Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4160/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/4160",
  "id": 350793629,
  "labels": [
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    },
    {
      "color": "0e8a16",
      "default": false,
      "description": null,
      "id": 527497761,
      "name": "tech debt",
      "node_id": "MDU6TGFiZWw1Mjc0OTc3NjE=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/tech%20debt"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4160/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzNTA3OTM2Mjk=",
  "number": 4160,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "open",
  "title": "integration tests should use simulated time",
  "updated_at": "2020-03-29T23:06:07Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/4160",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1942589?v=4",
    "events_url": "https://api.github.com/users/jmarantz/events{/privacy}",
    "followers_url": "https://api.github.com/users/jmarantz/followers",
    "following_url": "https://api.github.com/users/jmarantz/following{/other_user}",
    "gists_url": "https://api.github.com/users/jmarantz/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jmarantz",
    "id": 1942589,
    "login": "jmarantz",
    "node_id": "MDQ6VXNlcjE5NDI1ODk=",
    "organizations_url": "https://api.github.com/users/jmarantz/orgs",
    "received_events_url": "https://api.github.com/users/jmarantz/received_events",
    "repos_url": "https://api.github.com/users/jmarantz/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jmarantz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jmarantz/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jmarantz"
  }
}
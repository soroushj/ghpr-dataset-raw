{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/17607122?v=4",
    "events_url": "https://api.github.com/users/Shikugawa/events{/privacy}",
    "followers_url": "https://api.github.com/users/Shikugawa/followers",
    "following_url": "https://api.github.com/users/Shikugawa/following{/other_user}",
    "gists_url": "https://api.github.com/users/Shikugawa/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Shikugawa",
    "id": 17607122,
    "login": "Shikugawa",
    "node_id": "MDQ6VXNlcjE3NjA3MTIy",
    "organizations_url": "https://api.github.com/users/Shikugawa/orgs",
    "received_events_url": "https://api.github.com/users/Shikugawa/received_events",
    "repos_url": "https://api.github.com/users/Shikugawa/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Shikugawa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Shikugawa/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Shikugawa"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/17607122?v=4",
      "events_url": "https://api.github.com/users/Shikugawa/events{/privacy}",
      "followers_url": "https://api.github.com/users/Shikugawa/followers",
      "following_url": "https://api.github.com/users/Shikugawa/following{/other_user}",
      "gists_url": "https://api.github.com/users/Shikugawa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Shikugawa",
      "id": 17607122,
      "login": "Shikugawa",
      "node_id": "MDQ6VXNlcjE3NjA3MTIy",
      "organizations_url": "https://api.github.com/users/Shikugawa/orgs",
      "received_events_url": "https://api.github.com/users/Shikugawa/received_events",
      "repos_url": "https://api.github.com/users/Shikugawa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Shikugawa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Shikugawa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Shikugawa"
    }
  ],
  "author_association": "NONE",
  "body": "Hello. We're trying to terminate downstream http2 connections periodically using max_connection_duration. The goal is, for long-lived streaming requests, to have clients select a new upstream host after max_connection_duration has elapsed, and therefore balance new and existing client connections as the backing application scales out.\r\n\r\nAfter some testing, I've noticed that when there are active streams, the connection does not terminate and instead sits in draining-closing state indefinitely until the streams finishes or idle timeout.\r\n\r\nFor busy streaming requests which never end, this leaves a lingering connection. I expect streams to get reset after the drain sequence and fully close when max_connection_duration is reached.\r\n\r\nLooking at the http conn manager, it appears that calling `resetAllStreams()` after the drain sequence should work. An alternative idea would be to add a configurable upper bound to stream duration.\r\n\r\nWe'd be happy to work on a PR for this, and would welcome some input on the preferred approach.",
  "closed_at": "2020-05-04T20:05:38Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10274/comments",
  "created_at": "2020-03-05T22:15:39Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10274/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/10274",
  "id": 576564244,
  "labels": [
    {
      "color": "d4c5f9",
      "default": false,
      "description": "",
      "id": 1715341036,
      "name": "area/http",
      "node_id": "MDU6TGFiZWwxNzE1MzQxMDM2",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/http"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10274/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NzY1NjQyNDQ=",
  "number": 10274,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "http: add max stream time",
  "updated_at": "2020-05-04T20:05:38Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/10274",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/3629404?v=4",
    "events_url": "https://api.github.com/users/markozhen/events{/privacy}",
    "followers_url": "https://api.github.com/users/markozhen/followers",
    "following_url": "https://api.github.com/users/markozhen/following{/other_user}",
    "gists_url": "https://api.github.com/users/markozhen/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/markozhen",
    "id": 3629404,
    "login": "markozhen",
    "node_id": "MDQ6VXNlcjM2Mjk0MDQ=",
    "organizations_url": "https://api.github.com/users/markozhen/orgs",
    "received_events_url": "https://api.github.com/users/markozhen/received_events",
    "repos_url": "https://api.github.com/users/markozhen/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/markozhen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/markozhen/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/markozhen"
  }
}
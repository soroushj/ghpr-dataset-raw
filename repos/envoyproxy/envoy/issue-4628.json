{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "From reading the source, it seems like when `max_grpc_timeout` is set we use `grpc-timeout` as the global timeout, but if we additionally specify a `per_retry_timeout` then the upstream will see the global timeout as `grpc-timeout` even though Envoy will reset the stream after the per try timeout has been reached.\r\n\r\nIf I'm understanding this correctly, then it seems to me like `grpc-timeout` should be set to the retry timeout (not the global timeout) so that servers are aware of how much time remains before the request will be terminated by the client (Envoy). Alternatively I could have all my servers look for both `grpc-timeout` and `x-envoy-expected-rq-timeout-ms`, but it seems unnecessary to have to use the Envoy header when there already exists a gRPC specific timeout header. \r\n\r\nThoughts?",
  "closed_at": "2018-10-08T18:43:54Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4628/comments",
  "created_at": "2018-10-05T20:21:34Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4628/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/4628",
  "id": 367355520,
  "labels": [
    {
      "color": "ee0701",
      "default": true,
      "description": null,
      "id": 421403907,
      "name": "bug",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDc=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/4628/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2018-12-21T19:26:51Z",
    "closed_issues": 62,
    "created_at": "2018-09-21T05:26:05Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/8",
    "id": 3676682,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/8/labels",
    "node_id": "MDk6TWlsZXN0b25lMzY3NjY4Mg==",
    "number": 8,
    "open_issues": 0,
    "state": "closed",
    "title": "1.9.0",
    "updated_at": "2018-12-21T19:26:51Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/8"
  },
  "node_id": "MDU6SXNzdWUzNjczNTU1MjA=",
  "number": 4628,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "gRPC requests and per try timeout",
  "updated_at": "2018-10-08T18:43:54Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/4628",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2023366?v=4",
    "events_url": "https://api.github.com/users/snowp/events{/privacy}",
    "followers_url": "https://api.github.com/users/snowp/followers",
    "following_url": "https://api.github.com/users/snowp/following{/other_user}",
    "gists_url": "https://api.github.com/users/snowp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/snowp",
    "id": 2023366,
    "login": "snowp",
    "node_id": "MDQ6VXNlcjIwMjMzNjY=",
    "organizations_url": "https://api.github.com/users/snowp/orgs",
    "received_events_url": "https://api.github.com/users/snowp/received_events",
    "repos_url": "https://api.github.com/users/snowp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/snowp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snowp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/snowp"
  }
}
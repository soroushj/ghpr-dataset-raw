{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Currently Envoy supports multiple retry policies, including one based on 'retriable status codes'. There is a potential use case for another type of retry policy based on response headers.\r\n\r\nFor example, the backend could be an application server that further proxies the request routed by Envoy to a number of applications that it manages. The backend then may need to communicate back to Envoy that the request needs to be retried elsewhere due to resource constraints, an underlying application failure or other kinds of conditions.\r\n\r\nUsing a response header as a retry trigger seems more natural than using a status code; the application server can reserve certain header names for this purpose, leaving all status codes available to the underlying application (the app itself may not be generally aware of its surroundings).\r\n\r\nThis new retry policy can be configured similar to other retry policy types:\r\n\r\n```\r\nretry_policy:\r\n  retry_on: retriable-headers\r\n  retriable_headers:\r\n  - X-Upstream-Try-Again\r\n```\r\n\r\nIn this proposal retries are triggered by header presence only; the value can be further used to diagnose the reason for retry but is generally opaque to Envoy.\r\n\r\n",
  "closed_at": "2019-09-17T04:14:05Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8185/comments",
  "created_at": "2019-09-09T21:45:43Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8185/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/8185",
  "id": 491342630,
  "labels": [
    {
      "color": "c5def5",
      "default": false,
      "description": "Needs design doc/proposal before implementation",
      "id": 620444894,
      "name": "design proposal",
      "node_id": "MDU6TGFiZWw2MjA0NDQ4OTQ=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/design%20proposal"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8185/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0OTEzNDI2MzA=",
  "number": 8185,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Retry policy based on response headers",
  "updated_at": "2019-09-17T04:14:05Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/8185",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/8273?v=4",
    "events_url": "https://api.github.com/users/olegshaldybin/events{/privacy}",
    "followers_url": "https://api.github.com/users/olegshaldybin/followers",
    "following_url": "https://api.github.com/users/olegshaldybin/following{/other_user}",
    "gists_url": "https://api.github.com/users/olegshaldybin/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/olegshaldybin",
    "id": 8273,
    "login": "olegshaldybin",
    "node_id": "MDQ6VXNlcjgyNzM=",
    "organizations_url": "https://api.github.com/users/olegshaldybin/orgs",
    "received_events_url": "https://api.github.com/users/olegshaldybin/received_events",
    "repos_url": "https://api.github.com/users/olegshaldybin/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/olegshaldybin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/olegshaldybin/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/olegshaldybin"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Issue Template**\r\n\r\n*Title*: *Http2: Need connection policy to allow and control multiple upstream connections. *\r\n\r\n*Description*:\r\n\r\nThis is related to https://github.com/envoyproxy/envoy/issues/7217.\r\n\r\nCurrent default  upstream connection scheme doesnt allow you to set a maximum number of streams allowed per connection. This causes upstream load balancing issues as some connections could carry more streams. For example: when upstream is a multiprocess server with shared socket, only few workers receive all the streams.\r\n\r\nA connection policy that gives configurable parameters  to manage  maximum number of streams per upstream connections is needed to solve this problem.\r\n\r\nSome implementation approaches:\r\n\r\n- Use current circuit breaking codepath and use the  [onPoolFailure](https://github.com/envoyproxy/envoy/blob/master/source/common/router/router.cc#L1436) method to add a case for `maxStreamsOverflow`.\r\n\r\n- Add another callback in [Http::ConnectionPool::Callbacks](https://github.com/envoyproxy/envoy/blob/master/include/envoy/http/conn_pool.h#L42) to handle this case.\r\n\r\nEssentially we need to :\r\n- Enqueue the stream if current client stream count exceeds the configured maximum \r\n- Create a new connection\r\n- Process the enqueued stream/request in the context of the new connection.\r\n",
  "closed_at": "2020-01-29T23:15:35Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 24,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7403/comments",
  "created_at": "2019-06-26T18:15:23Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7403/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/7403",
  "id": 461113061,
  "labels": [
    {
      "color": "d4c5f9",
      "default": false,
      "description": "",
      "id": 1715341036,
      "name": "area/http",
      "node_id": "MDU6TGFiZWwxNzE1MzQxMDM2",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/http"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7403/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-04-08T18:48:51Z",
    "closed_issues": 45,
    "created_at": "2019-12-05T23:44:41Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/13",
    "id": 4907478,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/13/labels",
    "node_id": "MDk6TWlsZXN0b25lNDkwNzQ3OA==",
    "number": 13,
    "open_issues": 0,
    "state": "closed",
    "title": "1.14.0",
    "updated_at": "2020-04-08T18:48:51Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/13"
  },
  "node_id": "MDU6SXNzdWU0NjExMTMwNjE=",
  "number": 7403,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Http2: Need connection policy for maximum streams per upstream connection",
  "updated_at": "2020-01-29T23:15:35Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/7403",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1635173?v=4",
    "events_url": "https://api.github.com/users/conqerAtapple/events{/privacy}",
    "followers_url": "https://api.github.com/users/conqerAtapple/followers",
    "following_url": "https://api.github.com/users/conqerAtapple/following{/other_user}",
    "gists_url": "https://api.github.com/users/conqerAtapple/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/conqerAtapple",
    "id": 1635173,
    "login": "conqerAtapple",
    "node_id": "MDQ6VXNlcjE2MzUxNzM=",
    "organizations_url": "https://api.github.com/users/conqerAtapple/orgs",
    "received_events_url": "https://api.github.com/users/conqerAtapple/received_events",
    "repos_url": "https://api.github.com/users/conqerAtapple/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/conqerAtapple/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/conqerAtapple/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/conqerAtapple"
  }
}
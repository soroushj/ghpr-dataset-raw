{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "*Title*: include rate limit names in global rate limiter response\r\n\r\n*Description*:\r\nThe proposal is to update api/envoy/service/ratelimit/v3/rls.proto to add a name, description, or id field to the \"RateLimit\" message.\r\n\r\nThis RateLimit message isn't used by envoy today. It seems to be purely information to direct clients of the API (not through envoy), presumably to aid with debugging or support non-envoy clients that might interpret the detailed breakdown of rate limits impacting a request.\r\n\r\nHere's a sketch of a rate limit response with the new proposed field:\r\n\r\n```\r\n{\r\n  \"overall_code\": OVER_LIMIT,\r\n  \"statuses\": [{\r\n    \"code\": OVER_LIMIT,\r\n    \"current_limit\": {\r\n      \"requests_per_unit\": 10,\r\n      \"unit\": MINUTE,\r\n      \"name\": \"requests_per_user\" << PROPOSED NEW FIELD\r\n    },\r\n    \"limit_remaining\": 0\r\n  }, {\r\n    \"code\": OK,\r\n    \"current_limit\": {\r\n      \"requests_per_unit\": 10,\r\n      \"unit\": MINUTE,\r\n      \"name\": \"update_requests_per_ip\" << PROPOSED NEW FIELD\r\n    },\r\n    \"limit_remaining\": 5\r\n  }]\r\n}\r\n```\r\n\r\n[*Relevant Links*:]\r\n\r\nSome examples of public APIs that have a similar concept of naming or describing which rate limit you've hit:\r\n\r\nThe [AdWords API](https://developers.google.com/adwords/api/docs/guides/rate-limits#elements_of_rateexceedederror) provides \"rateScope\" and \"rateName\" to clients when they hit a rate limit, which could theoretically be expressed as a name.\r\n\r\nThe [FB Marketing API](https://developers.facebook.com/docs/graph-api/overview/rate-limiting/) has an \"X-Business-Use-Case\" response header which provide rate limit details by account & type, which could theoretically be expressed through a name. Maybe as a human-readable or json blob with with all the information.",
  "closed_at": "2020-04-07T01:16:38Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10914751?v=4",
    "events_url": "https://api.github.com/users/htuch/events{/privacy}",
    "followers_url": "https://api.github.com/users/htuch/followers",
    "following_url": "https://api.github.com/users/htuch/following{/other_user}",
    "gists_url": "https://api.github.com/users/htuch/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/htuch",
    "id": 10914751,
    "login": "htuch",
    "node_id": "MDQ6VXNlcjEwOTE0NzUx",
    "organizations_url": "https://api.github.com/users/htuch/orgs",
    "received_events_url": "https://api.github.com/users/htuch/received_events",
    "repos_url": "https://api.github.com/users/htuch/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/htuch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/htuch/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/htuch"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10556/comments",
  "created_at": "2020-03-27T19:54:17Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10556/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/10556",
  "id": 589380760,
  "labels": [
    {
      "color": "cdfc8a",
      "default": false,
      "description": "",
      "id": 1811975459,
      "name": "area/ratelimit",
      "node_id": "MDU6TGFiZWwxODExOTc1NDU5",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/ratelimit"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/10556/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1ODkzODA3NjA=",
  "number": 10556,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Rate limiting: include rate limit names in global rate limiter response",
  "updated_at": "2020-04-07T01:16:38Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/10556",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/100598?v=4",
    "events_url": "https://api.github.com/users/dweitzman/events{/privacy}",
    "followers_url": "https://api.github.com/users/dweitzman/followers",
    "following_url": "https://api.github.com/users/dweitzman/following{/other_user}",
    "gists_url": "https://api.github.com/users/dweitzman/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dweitzman",
    "id": 100598,
    "login": "dweitzman",
    "node_id": "MDQ6VXNlcjEwMDU5OA==",
    "organizations_url": "https://api.github.com/users/dweitzman/orgs",
    "received_events_url": "https://api.github.com/users/dweitzman/received_events",
    "repos_url": "https://api.github.com/users/dweitzman/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dweitzman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dweitzman/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dweitzman"
  }
}
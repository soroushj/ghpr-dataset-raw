{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "*Title*: In HTTP/1.1, envoy should pass-through header capitalization unmodified (without lower-casing)\r\n\r\n*Description*:\r\nThis ticket is related to https://github.com/envoyproxy/envoy/issues/6485, which was declined; with a renewed focus on the core point of discussion. HTTP/2 requires all header fields to be lower-cased. However, the [HTTP/1.1 standard](https://tools.ietf.org/html/rfc2616#section-4.2) is far less opinionated on the issue. On the one hand, it specifies that \"field names are case-insensitive\"; and on the other, it states:\r\n```\r\nApplications ought to follow \"common form\", where one is known or indicated,\r\nwhen generating HTTP constructs, since there might exist some implementations\r\nthat fail to accept anything beyond the common forms.\r\n```\r\nWhich could be interpreted to mean Train-Case as a default, since that is the form most commonly referred to in documentation of various headers (e.g. [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html)).\r\n\r\nEven if we take the standard to be ambiguous in this respect, there are major tools that deliver headers exactly as they were sent without modifying their case (e.g. [php request headers](https://www.php.net/manual/en/function.apache-request-headers.php)). This leads to real-world client code often being \"broken\" (in terms of API standard) by expecting headers in a specific casing.\r\n\r\nWhile it may be reasonable to expect an organization to be able to internally fix its own client code, if Envoy is being used for APIs served externally to that organization, it will lead to avoidable -- sometimes show-stopping bugs. In our experience, we have found that trying to migrate to Envoy introduced a breaking change to our external APIs by hiding an optional header from certain client integrations (e.g. PHP). This failure case is silent and produces no errors on either side of the integration (uh-oh). As far as our client code is concerned, it's simply as if the header was never sent!",
  "closed_at": "2019-10-24T01:56:28Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2023366?v=4",
    "events_url": "https://api.github.com/users/snowp/events{/privacy}",
    "followers_url": "https://api.github.com/users/snowp/followers",
    "following_url": "https://api.github.com/users/snowp/following{/other_user}",
    "gists_url": "https://api.github.com/users/snowp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/snowp",
    "id": 2023366,
    "login": "snowp",
    "node_id": "MDQ6VXNlcjIwMjMzNjY=",
    "organizations_url": "https://api.github.com/users/snowp/orgs",
    "received_events_url": "https://api.github.com/users/snowp/received_events",
    "repos_url": "https://api.github.com/users/snowp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/snowp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snowp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/snowp"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8463/comments",
  "created_at": "2019-10-02T17:14:49Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8463/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/8463",
  "id": 501618590,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8463/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MDE2MTg1OTA=",
  "number": 8463,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "In HTTP/1.1, envoy should pass-through header capitalization unmodified (without lower-casing)",
  "updated_at": "2019-10-24T01:56:28Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/8463",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/35267?v=4",
    "events_url": "https://api.github.com/users/rkofman/events{/privacy}",
    "followers_url": "https://api.github.com/users/rkofman/followers",
    "following_url": "https://api.github.com/users/rkofman/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkofman/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rkofman",
    "id": 35267,
    "login": "rkofman",
    "node_id": "MDQ6VXNlcjM1MjY3",
    "organizations_url": "https://api.github.com/users/rkofman/orgs",
    "received_events_url": "https://api.github.com/users/rkofman/received_events",
    "repos_url": "https://api.github.com/users/rkofman/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rkofman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkofman/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rkofman"
  }
}
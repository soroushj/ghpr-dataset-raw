{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "*Title*: *Read back what port Envoy actually bound to*\r\n\r\n*Description*:\r\nThis is a somewhat half-baked idea, but we have a use-case where we want to set up a bunch of Envoy listeners (in the 100s), but we don't want to worry about having to allocate ports statically.\r\n\r\nWe don't want to have the control plane worry about what ports are free, and even if it did know, it would be (almost) impossible for the control plane to assign the ports to Envoy without there existing a race condition where something else binds to the port.\r\n\r\nOne way to do this is to tell Envoy \"bind to any port\" and then ask it back what port it ended up binding to. This is actually somewhat possible right now by giving Envoy a `port_value` of `0` and reading it back in the `/listeners` admin endpoint. However the `/listeners` admin endpoint doesn't tell us _which_ address corresponds to _which_ listener.\r\n\r\nIt feels like it would simply be an extension of the `/listeners` endpoint.\r\n\r\nhttps://github.com/envoyproxy/envoy/issues/3010 sounds like it might be related, but I don't know the exact use-case internally at google (@alyssawilk)",
  "closed_at": "2019-06-12T03:44:29Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10914751?v=4",
    "events_url": "https://api.github.com/users/htuch/events{/privacy}",
    "followers_url": "https://api.github.com/users/htuch/followers",
    "following_url": "https://api.github.com/users/htuch/following{/other_user}",
    "gists_url": "https://api.github.com/users/htuch/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/htuch",
    "id": 10914751,
    "login": "htuch",
    "node_id": "MDQ6VXNlcjEwOTE0NzUx",
    "organizations_url": "https://api.github.com/users/htuch/orgs",
    "received_events_url": "https://api.github.com/users/htuch/received_events",
    "repos_url": "https://api.github.com/users/htuch/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/htuch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/htuch/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/htuch"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6959/comments",
  "created_at": "2019-05-16T00:19:19Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6959/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/6959",
  "id": 444699690,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6959/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NDQ2OTk2OTA=",
  "number": 6959,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Read back what port Envoy actually bound to",
  "updated_at": "2019-06-12T03:44:29Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/6959",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5392381?v=4",
    "events_url": "https://api.github.com/users/bplotnick/events{/privacy}",
    "followers_url": "https://api.github.com/users/bplotnick/followers",
    "following_url": "https://api.github.com/users/bplotnick/following{/other_user}",
    "gists_url": "https://api.github.com/users/bplotnick/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bplotnick",
    "id": 5392381,
    "login": "bplotnick",
    "node_id": "MDQ6VXNlcjUzOTIzODE=",
    "organizations_url": "https://api.github.com/users/bplotnick/orgs",
    "received_events_url": "https://api.github.com/users/bplotnick/received_events",
    "repos_url": "https://api.github.com/users/bplotnick/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bplotnick/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bplotnick/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bplotnick"
  }
}
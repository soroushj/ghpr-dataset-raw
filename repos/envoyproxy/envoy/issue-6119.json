{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "*Title*: *Envoy returns 403 for failed gRPC ext_authz requests*\r\n\r\n*Description*:\r\nThe gRPC implementation for ext_authz returns 403(forbidden), when the request to the gRPC server is failed on connection error. It can be an temporary error. However, 403 doesn't recommend an automatic retry.\r\n\r\nIn order to have client retry, can we change it to 503?\r\n\r\nhttps://httpstatuses.com/403\r\n\r\n*Config*:\r\n```\r\n          http_filters:\r\n          - name: envoy.ext_authz\r\n            config:\r\n              failure_mode_allow: false\r\n              grpc_service:\r\n                envoy_grpc:\r\n                  cluster_name: token-grpc\r\n                timeout: 10.0s\r\n```\r\n\r\n*Call Stack*:\r\nThe FORBIDDEN is hard coded at: https://github.com/envoyproxy/envoy/blob/master/source/extensions/filters/common/ext_authz/ext_authz_grpc_impl.cc#L77\r\n\r\n",
  "closed_at": "2019-05-23T02:11:47Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 20,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6119/comments",
  "created_at": "2019-02-27T23:46:31Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6119/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/6119",
  "id": 415379707,
  "labels": [
    {
      "color": "c5def5",
      "default": false,
      "description": "Needs design doc/proposal before implementation",
      "id": 620444894,
      "name": "design proposal",
      "node_id": "MDU6TGFiZWw2MjA0NDQ4OTQ=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/design%20proposal"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/6119/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTUzNzk3MDc=",
  "number": 6119,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Envoy returns 403 for failed gRPC ext_authz requests",
  "updated_at": "2019-05-23T18:28:54Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/6119",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/43765507?v=4",
    "events_url": "https://api.github.com/users/hanyu-liu/events{/privacy}",
    "followers_url": "https://api.github.com/users/hanyu-liu/followers",
    "following_url": "https://api.github.com/users/hanyu-liu/following{/other_user}",
    "gists_url": "https://api.github.com/users/hanyu-liu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/hanyu-liu",
    "id": 43765507,
    "login": "hanyu-liu",
    "node_id": "MDQ6VXNlcjQzNzY1NTA3",
    "organizations_url": "https://api.github.com/users/hanyu-liu/orgs",
    "received_events_url": "https://api.github.com/users/hanyu-liu/received_events",
    "repos_url": "https://api.github.com/users/hanyu-liu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/hanyu-liu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hanyu-liu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/hanyu-liu"
  }
}
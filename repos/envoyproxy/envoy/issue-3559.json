{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
    "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
    "followers_url": "https://api.github.com/users/curiouserrandy/followers",
    "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
    "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/curiouserrandy",
    "id": 252255,
    "login": "curiouserrandy",
    "node_id": "MDQ6VXNlcjI1MjI1NQ==",
    "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
    "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
    "repos_url": "https://api.github.com/users/curiouserrandy/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/curiouserrandy"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
      "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
      "followers_url": "https://api.github.com/users/curiouserrandy/followers",
      "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
      "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/curiouserrandy",
      "id": 252255,
      "login": "curiouserrandy",
      "node_id": "MDQ6VXNlcjI1MjI1NQ==",
      "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
      "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
      "repos_url": "https://api.github.com/users/curiouserrandy/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/curiouserrandy"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Issue Template**\r\n\r\n*Title*: Mechanism for accessing filter-generated data in added user-defined headers\r\n\r\n*Description*:\r\nEnvoy currently provides a mechanism for creating user defined headers in the router filter (https://www.envoyproxy.io/docs/envoy/latest/configuration/http_conn_man/headers#config-http-conn-man-headers-custom-request-headers ).  However, the only data that can be included in those headers is information about the local/remote address for upstream connection, or data from the upstream configuration (%UPSTREAM_METADATA%).  It would be useful to provide a mechanism such that information generated by filters in the chain could be used for creation of user defined headers.  \r\n\r\nThe simplest such mechanism would be to provide access to the dynamicMetadata() (https://github.com/envoyproxy/envoy/blob/master/include/envoy/request_info/request_info.h#L252\r\n) associated with a request by some mechanism parallel to %UPSTREAM_METADATA%.  However, that could result in somewhat arbitrary hidden dependencies--e.g. the filter not being in the chain and hence the name being empty.  It would be better if this could be integrated with a dependency mechanism (such as that described in https://github.com/envoyproxy/envoy/issues/3286 for filter dependencies) such that any use of one filter's output data by user generated headers has to be authorized in the filter chain configuration.\r\n\r\nAn additional requirement (or possibly \"nice-to-have\") is that such a dependency mechanism is visible to the producing filter so that if data is not required, the effort required to compute that data may be avoided.  \r\n\r\n\r\n\r\n",
  "closed_at": "2018-08-28T22:19:38Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/53179?v=4",
    "events_url": "https://api.github.com/users/zuercher/events{/privacy}",
    "followers_url": "https://api.github.com/users/zuercher/followers",
    "following_url": "https://api.github.com/users/zuercher/following{/other_user}",
    "gists_url": "https://api.github.com/users/zuercher/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/zuercher",
    "id": 53179,
    "login": "zuercher",
    "node_id": "MDQ6VXNlcjUzMTc5",
    "organizations_url": "https://api.github.com/users/zuercher/orgs",
    "received_events_url": "https://api.github.com/users/zuercher/received_events",
    "repos_url": "https://api.github.com/users/zuercher/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/zuercher/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zuercher/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/zuercher"
  },
  "comments": 12,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/3559/comments",
  "created_at": "2018-06-06T17:41:32Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/3559/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/3559",
  "id": 329966827,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/3559/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMjk5NjY4Mjc=",
  "number": 3559,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Mechanism for accessing filter-generated data in added user-defined headers",
  "updated_at": "2018-08-28T22:19:38Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/3559",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
    "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
    "followers_url": "https://api.github.com/users/curiouserrandy/followers",
    "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
    "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/curiouserrandy",
    "id": 252255,
    "login": "curiouserrandy",
    "node_id": "MDQ6VXNlcjI1MjI1NQ==",
    "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
    "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
    "repos_url": "https://api.github.com/users/curiouserrandy/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/curiouserrandy"
  }
}
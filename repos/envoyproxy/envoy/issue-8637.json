{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Currently, all application logs are printed to stderr without escaping newlines. This results in messy logs, since the log line becomes expanded over multiple lines (seen in the bottom of this Stackdriver Logging image):\r\n\r\n![image](https://user-images.githubusercontent.com/11142171/66971232-41de2d00-f045-11e9-9175-6a6333cecf32.png)\r\n\r\nCan we add a command line flag to trim out newline characters in logs? That way, a single call to `ENVOY_LOG` would result in a single log line, even if it has newline characters. I imagine we'd have to create a new sink that extends `StderrSink` in [source/common/common/logger.cc](https://github.com/envoyproxy/envoy/blob/master/source/common/common/logger.cc#L41) to would find-replace newlines with tabs or spaces.\r\n\r\nI'm not sure what the performance impact of this would be. But this would be super helpful in making logs easier to read, especially if we want structured logging. This change would enable Stackdriver Integration out of the box (with `--log-format '{\"severity\": \"%l\", \"time\": \"%Y-%m-%dT%T.%eZ\", \"message\": \"[%t][%n]%v\"}'` passed in as a command line option).",
  "closed_at": "2019-11-06T03:18:22Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10914751?v=4",
    "events_url": "https://api.github.com/users/htuch/events{/privacy}",
    "followers_url": "https://api.github.com/users/htuch/followers",
    "following_url": "https://api.github.com/users/htuch/following{/other_user}",
    "gists_url": "https://api.github.com/users/htuch/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/htuch",
    "id": 10914751,
    "login": "htuch",
    "node_id": "MDQ6VXNlcjEwOTE0NzUx",
    "organizations_url": "https://api.github.com/users/htuch/orgs",
    "received_events_url": "https://api.github.com/users/htuch/received_events",
    "repos_url": "https://api.github.com/users/htuch/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/htuch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/htuch/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/htuch"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8637/comments",
  "created_at": "2019-10-17T01:54:16Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8637/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/8637",
  "id": 508186038,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8637/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MDgxODYwMzg=",
  "number": 8637,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Escape newlines in application logs",
  "updated_at": "2019-11-06T03:18:22Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/8637",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/11142171?v=4",
    "events_url": "https://api.github.com/users/nareddyt/events{/privacy}",
    "followers_url": "https://api.github.com/users/nareddyt/followers",
    "following_url": "https://api.github.com/users/nareddyt/following{/other_user}",
    "gists_url": "https://api.github.com/users/nareddyt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/nareddyt",
    "id": 11142171,
    "login": "nareddyt",
    "node_id": "MDQ6VXNlcjExMTQyMTcx",
    "organizations_url": "https://api.github.com/users/nareddyt/orgs",
    "received_events_url": "https://api.github.com/users/nareddyt/received_events",
    "repos_url": "https://api.github.com/users/nareddyt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/nareddyt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nareddyt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/nareddyt"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4411287?v=4",
    "events_url": "https://api.github.com/users/HenryYYang/events{/privacy}",
    "followers_url": "https://api.github.com/users/HenryYYang/followers",
    "following_url": "https://api.github.com/users/HenryYYang/following{/other_user}",
    "gists_url": "https://api.github.com/users/HenryYYang/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/HenryYYang",
    "id": 4411287,
    "login": "HenryYYang",
    "node_id": "MDQ6VXNlcjQ0MTEyODc=",
    "organizations_url": "https://api.github.com/users/HenryYYang/orgs",
    "received_events_url": "https://api.github.com/users/HenryYYang/received_events",
    "repos_url": "https://api.github.com/users/HenryYYang/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/HenryYYang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/HenryYYang/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/HenryYYang"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/4411287?v=4",
      "events_url": "https://api.github.com/users/HenryYYang/events{/privacy}",
      "followers_url": "https://api.github.com/users/HenryYYang/followers",
      "following_url": "https://api.github.com/users/HenryYYang/following{/other_user}",
      "gists_url": "https://api.github.com/users/HenryYYang/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/HenryYYang",
      "id": 4411287,
      "login": "HenryYYang",
      "node_id": "MDQ6VXNlcjQ0MTEyODc=",
      "organizations_url": "https://api.github.com/users/HenryYYang/orgs",
      "received_events_url": "https://api.github.com/users/HenryYYang/received_events",
      "repos_url": "https://api.github.com/users/HenryYYang/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/HenryYYang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HenryYYang/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/HenryYYang"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "The test RedisClusterWithReadPolicyIntegrationTest.SingleSlotMasterReplicaReadReplica and  RedisClusterWithRefreshIntegrationTest.ClusterSlotRequestAfterFailure are not running because a INSTANTIATE_TEST_SUITE_P is missing from the test definition.\r\n\r\nMissing lines diff test/extensions/clusters/redis/redis_cluster_integration_test.cc\r\n@@ -376,6 +376,14 @@ INSTANTIATE_TEST_SUITE_P(IpVersions, RedisClusterWithAuthIntegrationTest,\r\n                          testing::ValuesIn(TestEnvironment::getIpVersionsForTest()),\r\n                          TestUtility::ipTestParamsToString);\r\n \r\n+INSTANTIATE_TEST_SUITE_P(IpVersions, RedisClusterWithReadPolicyIntegrationTest,\r\n+                         testing::ValuesIn(TestEnvironment::getIpVersionsForTest()),\r\n+                         TestUtility::ipTestParamsToString);\r\n+\r\n+INSTANTIATE_TEST_SUITE_P(IpVersions, RedisClusterWithRefreshIntegrationTest,\r\n+                         testing::ValuesIn(TestEnvironment::getIpVersionsForTest()),\r\n+                         TestUtility::ipTestParamsToString);\r\n+\r\n // This test sends a simple \"get foo\" command from a fake\r\n\r\nWhen the missing INSTANTIATE_TEST_SUITE_P are added, the test fails with timeout as follows:\r\n\r\n[----------] 2 tests from IpVersions/RedisClusterWithRefreshIntegrationTest\r\n[ RUN      ] IpVersions/RedisClusterWithRefreshIntegrationTest.ClusterSlotRequestAfterFailure/IPv4\r\ntest/extensions/clusters/redis/redis_cluster_integration_test.cc:598: Failure\r\nValue of: fake_upstreams_[0]->waitForRawConnection(fake_upstream_connection_2)\r\n  Actual: false (Timed out waiting for raw connection)\r\nExpected: true\r\nStack trace:\r\n  0x21515cb: Envoy::(anonymous namespace)::RedisClusterWithRefreshIntegrationTest_ClusterSlotRequestAfterFailure_Test::TestBody()\r\n  0x4df91f4: testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n  0x4de80bb: testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n  0x4dd4113: testing::Test::Run()\r\n  0x4dd4ae7: testing::TestInfo::Run()\r\n... Google Test internal frames ...\r\n\r\n\r\n[ RUN      ] IpVersions/RedisClusterWithReadPolicyIntegrationTest.SingleSlotMasterReplicaReadReplica/IPv4\r\ntest/extensions/clusters/redis/redis_cluster_integration_test.cc:225: Failure\r\nValue of: fake_upstream_connection->waitForData(request.size(), &proxy_to_server)\r\n  Actual: false (Timed out waiting for data.)\r\nExpected: true\r\nStack trace:\r\n  0x213bb9b: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::roundtripToUpstreamStep()\r\n  0x2138146: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::simpleRequestAndResponse()\r\n  0x214744a: Envoy::(anonymous namespace)::RedisClusterWithReadPolicyIntegrationTest_SingleSlotMasterReplicaReadReplica_Test::TestBody()\r\n  0x4dfa234: testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n  0x4de90fb: testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n  0x4dd5153: testing::Test::Run()\r\n  0x4dd5b27: testing::TestInfo::Run()\r\n... Google Test internal frames ...\r\n\r\ntest/extensions/clusters/redis/redis_cluster_integration_test.cc:227: Failure\r\nExpected equality of these values:\r\n  request\r\n    Which is: \"*3\\r\\n$3\\r\\nset\\r\\n$3\\r\\nfoo\\r\\n$3\\r\\nbar\\r\\n\"\r\n  proxy_to_server\r\n    Which is: \"\"\r\nWith diff:\r\n@@ -1,7 +1,1 @@\r\n-*3\\r\r\n-$3\\r\r\n-set\\r\r\n-$3\\r\r\n-foo\\r\r\n-$3\\r\r\n-bar\\r\\n\r\n+\"\"\r\n\r\nStack trace:\r\n  0x213bcf5: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::roundtripToUpstreamStep()\r\n  0x2138146: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::simpleRequestAndResponse()\r\n  0x214744a: Envoy::(anonymous namespace)::RedisClusterWithReadPolicyIntegrationTest_SingleSlotMasterReplicaReadReplica_Test::TestBody()\r\n  0x4dfa234: testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n  0x4de90fb: testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n  0x4dd5153: testing::Test::Run()\r\n  0x4dd5b27: testing::TestInfo::Run()\r\n... Google Test internal frames ...\r\n\r\n-- Test timed out at 2020-05-18 20:06:08 UTC --\r\ntest/extensions/clusters/redis/redis_cluster_integration_test.cc:233: Failure\r\nExpected equality of these values:\r\n  response\r\n    Which is: \":1\\r\\n\"\r\n  redis_client->data()\r\n    Which is: \"-upstream failure\\r\\n\"\r\nStack trace:\r\n  0x213c008: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::roundtripToUpstreamStep()\r\n  0x2138146: Envoy::(anonymous namespace)::RedisClusterIntegrationTest::simpleRequestAndResponse()\r\n  0x214744a: Envoy::(anonymous namespace)::RedisClusterWithReadPolicyIntegrationTest_SingleSlotMasterReplicaReadReplica_Test::TestBody()\r\n  0x4dfa234: testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n  0x4de90fb: testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n  0x4dd5153: testing::Test::Run()\r\n  0x4dd5b27: testing::TestInfo::Run()\r\n... Google Test internal frames ...\r\n",
  "closed_at": "2020-06-25T16:08:55Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/11246/comments",
  "created_at": "2020-05-18T20:18:08Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/11246/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/11246",
  "id": 620479127,
  "labels": [
    {
      "color": "1d76db",
      "default": false,
      "description": "",
      "id": 1726300185,
      "name": "area/redis",
      "node_id": "MDU6TGFiZWwxNzI2MzAwMTg1",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/redis"
    },
    {
      "color": "e2ce8a",
      "default": false,
      "description": "Disables stalebot from closing an issue",
      "id": 988830710,
      "name": "no stalebot",
      "node_id": "MDU6TGFiZWw5ODg4MzA3MTA=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/no%20stalebot"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/11246/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-07-13T18:51:09Z",
    "closed_issues": 62,
    "created_at": "2020-03-10T00:01:47Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/14",
    "id": 5185398,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/14/labels",
    "node_id": "MDk6TWlsZXN0b25lNTE4NTM5OA==",
    "number": 14,
    "open_issues": 0,
    "state": "closed",
    "title": "1.15.0",
    "updated_at": "2020-09-30T23:30:38Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/14"
  },
  "node_id": "MDU6SXNzdWU2MjA0NzkxMjc=",
  "number": 11246,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "[test] Some test/extensions/clusters/redis/redis_cluster_integration_test test cases not running due to missing INSTANTIATE_TEST_SUITE_P",
  "updated_at": "2020-06-25T16:08:55Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/11246",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/28556681?v=4",
    "events_url": "https://api.github.com/users/antoniovicente/events{/privacy}",
    "followers_url": "https://api.github.com/users/antoniovicente/followers",
    "following_url": "https://api.github.com/users/antoniovicente/following{/other_user}",
    "gists_url": "https://api.github.com/users/antoniovicente/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/antoniovicente",
    "id": 28556681,
    "login": "antoniovicente",
    "node_id": "MDQ6VXNlcjI4NTU2Njgx",
    "organizations_url": "https://api.github.com/users/antoniovicente/orgs",
    "received_events_url": "https://api.github.com/users/antoniovicente/received_events",
    "repos_url": "https://api.github.com/users/antoniovicente/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/antoniovicente/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/antoniovicente/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/antoniovicente"
  }
}
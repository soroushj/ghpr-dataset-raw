{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/6360027?v=4",
    "events_url": "https://api.github.com/users/yanavlasov/events{/privacy}",
    "followers_url": "https://api.github.com/users/yanavlasov/followers",
    "following_url": "https://api.github.com/users/yanavlasov/following{/other_user}",
    "gists_url": "https://api.github.com/users/yanavlasov/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yanavlasov",
    "id": 6360027,
    "login": "yanavlasov",
    "node_id": "MDQ6VXNlcjYzNjAwMjc=",
    "organizations_url": "https://api.github.com/users/yanavlasov/orgs",
    "received_events_url": "https://api.github.com/users/yanavlasov/received_events",
    "repos_url": "https://api.github.com/users/yanavlasov/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yanavlasov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yanavlasov/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yanavlasov"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/6360027?v=4",
      "events_url": "https://api.github.com/users/yanavlasov/events{/privacy}",
      "followers_url": "https://api.github.com/users/yanavlasov/followers",
      "following_url": "https://api.github.com/users/yanavlasov/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanavlasov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yanavlasov",
      "id": 6360027,
      "login": "yanavlasov",
      "node_id": "MDQ6VXNlcjYzNjAwMjc=",
      "organizations_url": "https://api.github.com/users/yanavlasov/orgs",
      "received_events_url": "https://api.github.com/users/yanavlasov/received_events",
      "repos_url": "https://api.github.com/users/yanavlasov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yanavlasov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanavlasov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yanavlasov"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "HTTP/2 codec uses private **sendPendingFrames()** for building outbound wire bytes. This method may fail if higher level protocol constraints are violated. It is also possible that **nghttp2** methods for building frames fail. The high level protocol constraints checked by the codec, consist of limits on the number of outbound frames of different types, and only implemented for server codecs at this point.\r\nThere are presently 11 call sites of this method in the codec. Only the call site in the **dispatch()** method checks and handles the error code returned (or thrown in the legacy implementation) by the sendPendingFrames() method. The other 10 call sites cause abnormal program termination if the **sendPendingFrames()** encounters an error.\r\nThe error handling is implemented by adding a variable tracking (latching) the error state of the codec and a closure that is executed when codec is transitioned into the error state. The closure is executed by the event dispatcher after all events in the current event loop iteration have been processed.\r\nThe error state has to be tracked by codec to handle the case where an I/O event is pending for failed codec in the current event loop iteration. The error state is checked before the **dispatch()** method is invoked and if the codec is in the failed state it is torn down instead of processing inbound data.\r\nError handling will be added to each **sendPendingFrames()**call site one by one to minimize the risk and amount of changes needed to be reviewed in each PR. When the **sendPendingFrames()** method returns an error code (or throws an exception in the legacy implementation) the error state of codec is changed to failed and the closure for tearing down the codec is scheduled to run by the event dispatcher at the end of the current iteration.\r\n\r\nDepends on #12279\r\nSub-task of #12278\r\n",
  "closed_at": "2020-10-16T17:00:32Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12280/comments",
  "created_at": "2020-07-24T16:00:49Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12280/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/12280",
  "id": 665264755,
  "labels": [
    {
      "color": "d4c5f9",
      "default": false,
      "description": "",
      "id": 1715341036,
      "name": "area/http",
      "node_id": "MDU6TGFiZWwxNzE1MzQxMDM2",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/http"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "e2ce8a",
      "default": false,
      "description": "Disables stalebot from closing an issue",
      "id": 988830710,
      "name": "no stalebot",
      "node_id": "MDU6TGFiZWw5ODg4MzA3MTA=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/no%20stalebot"
    },
    {
      "color": "f2dbae",
      "default": false,
      "description": "Required before considering upstreams untrusted",
      "id": 2317376085,
      "name": "untrusted-upstreams",
      "node_id": "MDU6TGFiZWwyMzE3Mzc2MDg1",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/untrusted-upstreams"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12280/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2NjUyNjQ3NTU=",
  "number": 12280,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "[HTTP/2] implement protocol error handling out of dispatch context",
  "updated_at": "2020-10-16T17:00:32Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/12280",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/6360027?v=4",
    "events_url": "https://api.github.com/users/yanavlasov/events{/privacy}",
    "followers_url": "https://api.github.com/users/yanavlasov/followers",
    "following_url": "https://api.github.com/users/yanavlasov/following{/other_user}",
    "gists_url": "https://api.github.com/users/yanavlasov/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yanavlasov",
    "id": 6360027,
    "login": "yanavlasov",
    "node_id": "MDQ6VXNlcjYzNjAwMjc=",
    "organizations_url": "https://api.github.com/users/yanavlasov/orgs",
    "received_events_url": "https://api.github.com/users/yanavlasov/received_events",
    "repos_url": "https://api.github.com/users/yanavlasov/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yanavlasov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yanavlasov/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yanavlasov"
  }
}
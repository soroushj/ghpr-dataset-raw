{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/19391170?v=4",
      "events_url": "https://api.github.com/users/danzh2010/events{/privacy}",
      "followers_url": "https://api.github.com/users/danzh2010/followers",
      "following_url": "https://api.github.com/users/danzh2010/following{/other_user}",
      "gists_url": "https://api.github.com/users/danzh2010/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/danzh2010",
      "id": 19391170,
      "login": "danzh2010",
      "node_id": "MDQ6VXNlcjE5MzkxMTcw",
      "organizations_url": "https://api.github.com/users/danzh2010/orgs",
      "received_events_url": "https://api.github.com/users/danzh2010/received_events",
      "repos_url": "https://api.github.com/users/danzh2010/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/danzh2010/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danzh2010/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/danzh2010"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "ConnectionHandlerImpl::stopListeners() destroy the listener instance immediately to stop listening. This works for TcpListener which only listens for new connections, and existing connections have their own sockets registered in scheduler. But UdpListener has only one socket for all the I/O. If the UdpListener was destroyed, the existing UDP traffic will just stop. It is fine if the UDP traffic is connection-less. But if it's connection oriented, all the existing connections have no way to continue. This behavior is different from the intention of stopListeners(). \r\n\r\nWe need to refactor ConnectionHandler and UdpListener to support draining feature. A rough idea is to add an interface ActiveListenerBase::stopListening() with a callback which actually destroy the listener. And stopListening() should\r\n1. For ActiveTcpListener, call the callback immediately.\r\n2. For UdpListenerCallback, tell ListenerFilter to stop listening according the the filters own definition, and call the callback when the filter thinks it finishes draining.",
  "closed_at": "2020-03-20T17:40:15Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7465/comments",
  "created_at": "2019-07-03T21:25:32Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7465/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/7465",
  "id": 463960150,
  "labels": [
    {
      "color": "bf7413",
      "default": false,
      "description": "",
      "id": 1110626960,
      "name": "area/quic",
      "node_id": "MDU6TGFiZWwxMTEwNjI2OTYw",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/quic"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "e2ce8a",
      "default": false,
      "description": "Disables stalebot from closing an issue",
      "id": 988830710,
      "name": "no stalebot",
      "node_id": "MDU6TGFiZWw5ODg4MzA3MTA=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/no%20stalebot"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7465/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-04-08T18:48:51Z",
    "closed_issues": 45,
    "created_at": "2019-12-05T23:44:41Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/13",
    "id": 4907478,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/13/labels",
    "node_id": "MDk6TWlsZXN0b25lNDkwNzQ3OA==",
    "number": 13,
    "open_issues": 0,
    "state": "closed",
    "title": "1.14.0",
    "updated_at": "2020-04-08T18:48:51Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/13"
  },
  "node_id": "MDU6SXNzdWU0NjM5NjAxNTA=",
  "number": 7465,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "network: UdpListener stops abruptly ",
  "updated_at": "2020-03-20T17:40:15Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/7465",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/19391170?v=4",
    "events_url": "https://api.github.com/users/danzh2010/events{/privacy}",
    "followers_url": "https://api.github.com/users/danzh2010/followers",
    "following_url": "https://api.github.com/users/danzh2010/following{/other_user}",
    "gists_url": "https://api.github.com/users/danzh2010/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/danzh2010",
    "id": 19391170,
    "login": "danzh2010",
    "node_id": "MDQ6VXNlcjE5MzkxMTcw",
    "organizations_url": "https://api.github.com/users/danzh2010/orgs",
    "received_events_url": "https://api.github.com/users/danzh2010/received_events",
    "repos_url": "https://api.github.com/users/danzh2010/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/danzh2010/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danzh2010/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/danzh2010"
  }
}
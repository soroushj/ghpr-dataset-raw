{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "*Title*: *Question about promoting RBAC filter API from v2alpha to v2*\r\n\r\n*Description*:\r\nThe [RBAC filter API](https://github.com/envoyproxy/envoy/blob/master/api/envoy/config/rbac/v2alpha/rbac.proto#L60) currently is at v2alpha which means it's considered experimental and has no restrictions on breaking changes according to the Envoy API guidelines, making it less likely for production adoption.\r\n\r\nThis issues is opened to ask about how can we promote it to v2 to make it stable for more production adoption.\r\n\r\n- Option 1: Keep the API as-is and just change the version from v2alpha to v2\r\n\r\n- Option 2: Make some improvements when changing from v2alpha to v2. For example,\r\n    - The [Permission](https://github.com/envoyproxy/envoy/blob/244f1d46a0b5965fc9614a5b4644579fe2a30cc3/api/envoy/config/rbac/v2alpha/rbac.proto#L89) and [Principal](https://github.com/envoyproxy/envoy/blob/244f1d46a0b5965fc9614a5b4644579fe2a30cc3/api/envoy/config/rbac/v2alpha/rbac.proto#L94) could be changed to use the same message considering there're a lot common fields in both of them (e.g. and/or/not/any/header/metadata), \r\n    - The [Action](https://github.com/envoyproxy/envoy/blob/244f1d46a0b5965fc9614a5b4644579fe2a30cc3/api/envoy/config/rbac/v2alpha/rbac.proto#L76) could be moved to inside policy so that allow/deny could be used at the same time for precedence policy\r\n\r\nOption 1 makes it easier for other people to migrate but it would be harder to make any changes once the API becomes stable.\r\n\r\nOption 2 makes some improvements but makes it harder for user to migrate from v2alpha to v2. we need to clarify if the RBAC filter API is being used by users directly and if they are okay for the change of API?\r\n\r\nWe're wondering how does Envoy generally promote alpha API to stable, and how do you think about the two options for RBAC. Is the RBAC filter API considered a user-facing API and should we optimize this to some extent? \r\nThank you!\r\n\r\n/cc @liminw @wenchenglu @mattklein123 @rodaine @lizan @htuch @rshriram \r\n",
  "closed_at": "2019-05-23T14:42:30Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7031/comments",
  "created_at": "2019-05-21T22:45:51Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7031/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/7031",
  "id": 446857511,
  "labels": [
    {
      "color": "c5def5",
      "default": false,
      "description": "Needs design doc/proposal before implementation",
      "id": 620444894,
      "name": "design proposal",
      "node_id": "MDU6TGFiZWw2MjA0NDQ4OTQ=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/design%20proposal"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7031/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-07-11T18:22:23Z",
    "closed_issues": 70,
    "created_at": "2019-03-01T23:01:48Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
      "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattklein123/followers",
      "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattklein123",
      "id": 6305260,
      "login": "mattklein123",
      "node_id": "MDQ6VXNlcjYzMDUyNjA=",
      "organizations_url": "https://api.github.com/users/mattklein123/orgs",
      "received_events_url": "https://api.github.com/users/mattklein123/received_events",
      "repos_url": "https://api.github.com/users/mattklein123/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattklein123"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/envoyproxy/envoy/milestone/10",
    "id": 4101146,
    "labels_url": "https://api.github.com/repos/envoyproxy/envoy/milestones/10/labels",
    "node_id": "MDk6TWlsZXN0b25lNDEwMTE0Ng==",
    "number": 10,
    "open_issues": 0,
    "state": "closed",
    "title": "1.11.0",
    "updated_at": "2020-04-17T15:48:02Z",
    "url": "https://api.github.com/repos/envoyproxy/envoy/milestones/10"
  },
  "node_id": "MDU6SXNzdWU0NDY4NTc1MTE=",
  "number": 7031,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Question: Promote RBAC filter API from v2alpha to v2",
  "updated_at": "2019-05-23T14:42:30Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/7031",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/2189160?v=4",
    "events_url": "https://api.github.com/users/yangminzhu/events{/privacy}",
    "followers_url": "https://api.github.com/users/yangminzhu/followers",
    "following_url": "https://api.github.com/users/yangminzhu/following{/other_user}",
    "gists_url": "https://api.github.com/users/yangminzhu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yangminzhu",
    "id": 2189160,
    "login": "yangminzhu",
    "node_id": "MDQ6VXNlcjIxODkxNjA=",
    "organizations_url": "https://api.github.com/users/yangminzhu/orgs",
    "received_events_url": "https://api.github.com/users/yangminzhu/received_events",
    "repos_url": "https://api.github.com/users/yangminzhu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yangminzhu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yangminzhu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yangminzhu"
  }
}
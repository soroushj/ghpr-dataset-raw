{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Building on windows, the boringssl library dependency is broken, because it attempts to build both a static and dynamic lib. The dynamic lib built is not desired, and actually not functional. The error is;\r\n\r\nERROR: C:/_eb/external/boringssl/BUILD:130:1: output 'external/boringssl/crypto.if.lib' was not created\r\nERROR: C:/_eb/external/boringssl/BUILD:130:1: not all outputs were created or valid\r\nERROR: C:/_eb/external/envoy/bazel/foreign_cc/BUILD:67:1 not all outputs were created or valid\r\n\r\nIn bazel-bin/external/boringssl/, the build generates;\r\n\r\n_objs\r\ncrypto.dll\r\ncrypto.dll-2.params\r\ncrypto.lib\r\ncrypto.lib-2.params\r\ncrypto.pdb\r\nssl.dll-2.params\r\nssl.lib\r\nssl.lib-2.params\r\n\r\nThe resulting crypto.dll has no export symbols, all of the boringssl externs are used only for static binding (in linux terms, these are non-pic objects.) As documented on msdn about link.exe, the /implib:crypto.if.lib will never be created when there are no exported symbols. The resulting (desired) crypto.lib is the complete, static library. ssl.dll cannot be created because it requires the missing crypto.if.lib to bind to crypto.dll, which was an invalid shared object library.\r\n\r\nWe should not be attempting to build dynamic libraries, emit .dll files or their corresponding .if.lib export binding libs, but it is not clear how to suppress this either within envoy's bazel/ logic or within boringssl itself.\r\n\r\n@irengrig or @lizan would you have any clues?\r\n",
  "closed_at": "2020-02-07T19:59:15Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8351/comments",
  "created_at": "2019-09-24T18:06:39Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8351/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/8351",
  "id": 497842884,
  "labels": [
    {
      "color": "5319e7",
      "default": false,
      "description": "",
      "id": 545563713,
      "name": "area/build",
      "node_id": "MDU6TGFiZWw1NDU1NjM3MTM=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/build"
    },
    {
      "color": "cc317c",
      "default": true,
      "description": "Questions that are neither investigations, bugs, nor enhancements",
      "id": 421403912,
      "name": "question",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MTI=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/question"
    },
    {
      "color": "bfd4f2",
      "default": false,
      "description": "stalebot believes this issue/PR has not been touched recently",
      "id": 867150379,
      "name": "stale",
      "node_id": "MDU6TGFiZWw4NjcxNTAzNzk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/stale"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8351/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0OTc4NDI4ODQ=",
  "number": 8351,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Externals boringssl target fails to build on Windows",
  "updated_at": "2020-02-07T20:29:02Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/8351",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/84146?v=4",
    "events_url": "https://api.github.com/users/wrowe/events{/privacy}",
    "followers_url": "https://api.github.com/users/wrowe/followers",
    "following_url": "https://api.github.com/users/wrowe/following{/other_user}",
    "gists_url": "https://api.github.com/users/wrowe/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wrowe",
    "id": 84146,
    "login": "wrowe",
    "node_id": "MDQ6VXNlcjg0MTQ2",
    "organizations_url": "https://api.github.com/users/wrowe/orgs",
    "received_events_url": "https://api.github.com/users/wrowe/received_events",
    "repos_url": "https://api.github.com/users/wrowe/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wrowe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wrowe/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wrowe"
  }
}
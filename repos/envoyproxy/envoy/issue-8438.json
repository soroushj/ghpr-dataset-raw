{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**Issue Template**\r\n\r\n*Title*: Coverage and missing tests check do not account for routes that have path/host redirects or a direct response (e.g. responding with code 2xx, 5xx, etc.)\r\n\r\n*Description*:\r\nThe way missing tests and covered routes are calculated uses the pointer to the RouteEntry. On a high level missing tests looks at the set of pointers of all routes and the set of pointers of covered routes and reports the difference. However, for redirects, the RouteEntry is nullptr: https://github.com/envoyproxy/envoy/blob/4b2dd0cba819c2b99dc865d752007a240fe06016/source/common/router/config_impl.h#L89 Similarly, RouteEntry is nullptr for direct responses. Coverage will need to take into account that a route for a request can be a route entry, direct response entry, or redirect entry: https://github.com/envoyproxy/envoy/blob/4b2dd0cba819c2b99dc865d752007a240fe06016/source/common/router/config_impl.cc#L600 It currently marks routes as covered only by checking the RouteEntry field: https://github.com/envoyproxy/envoy/blob/616347f40ea44f0bbc988cd2160e6be5b1178e77/test/tools/router_check/coverage.h#L41\r\n\r\n[optional *Relevant Links*:]\r\n>Any extra documentation required to understand the issue.",
  "closed_at": "2019-10-25T22:35:12Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/15948501?v=4",
    "events_url": "https://api.github.com/users/LisaLudique/events{/privacy}",
    "followers_url": "https://api.github.com/users/LisaLudique/followers",
    "following_url": "https://api.github.com/users/LisaLudique/following{/other_user}",
    "gists_url": "https://api.github.com/users/LisaLudique/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/LisaLudique",
    "id": 15948501,
    "login": "LisaLudique",
    "node_id": "MDQ6VXNlcjE1OTQ4NTAx",
    "organizations_url": "https://api.github.com/users/LisaLudique/orgs",
    "received_events_url": "https://api.github.com/users/LisaLudique/received_events",
    "repos_url": "https://api.github.com/users/LisaLudique/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/LisaLudique/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LisaLudique/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/LisaLudique"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8438/comments",
  "created_at": "2019-09-30T17:15:54Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8438/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/8438",
  "id": 500408515,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/8438/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MDA0MDg1MTU=",
  "number": 8438,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Coverage not calculated for routes with redirects or direct response",
  "updated_at": "2019-10-25T22:35:12Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/8438",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/15948501?v=4",
    "events_url": "https://api.github.com/users/LisaLudique/events{/privacy}",
    "followers_url": "https://api.github.com/users/LisaLudique/followers",
    "following_url": "https://api.github.com/users/LisaLudique/following{/other_user}",
    "gists_url": "https://api.github.com/users/LisaLudique/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/LisaLudique",
    "id": 15948501,
    "login": "LisaLudique",
    "node_id": "MDQ6VXNlcjE1OTQ4NTAx",
    "organizations_url": "https://api.github.com/users/LisaLudique/orgs",
    "received_events_url": "https://api.github.com/users/LisaLudique/received_events",
    "repos_url": "https://api.github.com/users/LisaLudique/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/LisaLudique/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LisaLudique/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/LisaLudique"
  }
}
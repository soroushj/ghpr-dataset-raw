{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
    "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
    "followers_url": "https://api.github.com/users/curiouserrandy/followers",
    "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
    "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/curiouserrandy",
    "id": 252255,
    "login": "curiouserrandy",
    "node_id": "MDQ6VXNlcjI1MjI1NQ==",
    "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
    "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
    "repos_url": "https://api.github.com/users/curiouserrandy/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/curiouserrandy"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
      "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
      "followers_url": "https://api.github.com/users/curiouserrandy/followers",
      "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
      "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/curiouserrandy",
      "id": 252255,
      "login": "curiouserrandy",
      "node_id": "MDQ6VXNlcjI1MjI1NQ==",
      "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
      "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
      "repos_url": "https://api.github.com/users/curiouserrandy/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/curiouserrandy"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "\r\n\r\n*Title*: Poor documentation (potential synchronization issue) around BaseIntegrationTest::pre_worker_start_test_steps_ variable\r\n\r\n*Description*:\r\nThe BaseIntegrationTest data member pre_worker_start_test_steps_ is described @ https://github.com/envoyproxy/envoy/blob/master/test/integration/integration.h#L224 as \"Steps that should be done prior to the workers starting. E.g., xDS pre-init.\"  However, looking at the actual execution of those steps @ https://github.com/envoyproxy/envoy/blob/master/test/integration/server.cc#L77, there is no synchronization that guarantees either that a) the steps are run before the workers are started, or b) the steps are run after the server is actually created.  \r\n\r\nI spoke with @htuch offline, and he believes that pre_worker_start_test_steps_ is generally used for what I'd call \"server initialization coroutines\"; i.e. things in the control plane that server startup is dependent on, but which also block on server initialization.  Such routines would need to be started after the server is created, but not blocking on server initialization being complete, with no other synchronization requirements.  That is exactly the context in which those routines are run in the current test framework.\r\n\r\nGiven the above analysis, I'm going to take the lack of synchronization around executing that routine as being a lack of documentation, and treat this issue as being to update the name and documentation of that data member.  But if anyone reading this issue thinks that pre_worker_start_test_steps_ has additional requirements for synchronization or is used for other work, they should comment and I'll expand the goals of this issue (and probably take it off my todo list :-}).\r\n\r\n@alyssawilk for her test deflake work, in case this is relevant.\r\n",
  "closed_at": "2019-02-07T19:01:37Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10914751?v=4",
    "events_url": "https://api.github.com/users/htuch/events{/privacy}",
    "followers_url": "https://api.github.com/users/htuch/followers",
    "following_url": "https://api.github.com/users/htuch/following{/other_user}",
    "gists_url": "https://api.github.com/users/htuch/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/htuch",
    "id": 10914751,
    "login": "htuch",
    "node_id": "MDQ6VXNlcjEwOTE0NzUx",
    "organizations_url": "https://api.github.com/users/htuch/orgs",
    "received_events_url": "https://api.github.com/users/htuch/received_events",
    "repos_url": "https://api.github.com/users/htuch/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/htuch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/htuch/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/htuch"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5686/comments",
  "created_at": "2019-01-22T21:26:55Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5686/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/5686",
  "id": 401961223,
  "labels": [
    {
      "color": "0e8a16",
      "default": false,
      "description": null,
      "id": 527497761,
      "name": "tech debt",
      "node_id": "MDU6TGFiZWw1Mjc0OTc3NjE=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/tech%20debt"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/5686/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MDE5NjEyMjM=",
  "number": 5686,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Poor documentation (potential synchronization issue) around BaseIntegrationTest::pre_worker_start_test_steps_ variable",
  "updated_at": "2019-02-07T19:01:37Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/5686",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/252255?v=4",
    "events_url": "https://api.github.com/users/curiouserrandy/events{/privacy}",
    "followers_url": "https://api.github.com/users/curiouserrandy/followers",
    "following_url": "https://api.github.com/users/curiouserrandy/following{/other_user}",
    "gists_url": "https://api.github.com/users/curiouserrandy/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/curiouserrandy",
    "id": 252255,
    "login": "curiouserrandy",
    "node_id": "MDQ6VXNlcjI1MjI1NQ==",
    "organizations_url": "https://api.github.com/users/curiouserrandy/orgs",
    "received_events_url": "https://api.github.com/users/curiouserrandy/received_events",
    "repos_url": "https://api.github.com/users/curiouserrandy/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/curiouserrandy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/curiouserrandy/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/curiouserrandy"
  }
}
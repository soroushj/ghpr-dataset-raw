{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "I'm working on the transparent udp proxy for envoy.\r\nBy my understanding, the udp filter system supports only one filter.\r\n\r\n> void ListenerImpl::createListenerFilterFactories(Network::Socket::Type socket_type) {\r\n  if (!config_.listener_filters().empty()) {\r\n    switch (socket_type) {\r\n    case Network::Socket::Type::Datagram:\r\n      if (config_.listener_filters().size() > 1) {\r\n        // Currently supports only 1 UDP listener filter.\r\n        throw EnvoyException(fmt::format(\r\n            \"error adding listener '{}': Only 1 UDP listener filter per listener supported\",\r\n            address_->asString()));\r\n      }\r\n\r\nAnd udp filter system cannot utilize the existing original_src filter because it is not compatible with udp filter system.\r\nSo, I thought that there is no way to extend the existing original_src filter or add a new filter for that.\r\nSo, if I add a new option to udp_proxy filter for transparent udp proxy, it is feasible.\r\n\r\nActually I add a new option to udp_proxy and it works fine now but it is better to discuss with you to contribute this feature.\r\nWhat do you think about this?\r\nYou can see the my WIP patch at https://github.com/chadr123/envoy/commit/aed05ad91bac70ef8e533890bb8ff9afc9fb111c",
  "closed_at": "2020-08-26T17:13:11Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/6305260?v=4",
    "events_url": "https://api.github.com/users/mattklein123/events{/privacy}",
    "followers_url": "https://api.github.com/users/mattklein123/followers",
    "following_url": "https://api.github.com/users/mattklein123/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattklein123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mattklein123",
    "id": 6305260,
    "login": "mattklein123",
    "node_id": "MDQ6VXNlcjYzMDUyNjA=",
    "organizations_url": "https://api.github.com/users/mattklein123/orgs",
    "received_events_url": "https://api.github.com/users/mattklein123/received_events",
    "repos_url": "https://api.github.com/users/mattklein123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mattklein123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattklein123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mattklein123"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12513/comments",
  "created_at": "2020-08-06T04:19:32Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12513/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/12513",
  "id": 674001910,
  "labels": [
    {
      "color": "c10faa",
      "default": false,
      "description": "",
      "id": 1848097866,
      "name": "area/udp",
      "node_id": "MDU6TGFiZWwxODQ4MDk3ODY2",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/area/udp"
    },
    {
      "color": "c5def5",
      "default": false,
      "description": "Needs design doc/proposal before implementation",
      "id": 620444894,
      "name": "design proposal",
      "node_id": "MDU6TGFiZWw2MjA0NDQ4OTQ=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/design%20proposal"
    },
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/12513/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2NzQwMDE5MTA=",
  "number": 12513,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Transparent udp proxy",
  "updated_at": "2020-08-26T17:13:11Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/12513",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/9675906?v=4",
    "events_url": "https://api.github.com/users/chadr123/events{/privacy}",
    "followers_url": "https://api.github.com/users/chadr123/followers",
    "following_url": "https://api.github.com/users/chadr123/following{/other_user}",
    "gists_url": "https://api.github.com/users/chadr123/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/chadr123",
    "id": 9675906,
    "login": "chadr123",
    "node_id": "MDQ6VXNlcjk2NzU5MDY=",
    "organizations_url": "https://api.github.com/users/chadr123/orgs",
    "received_events_url": "https://api.github.com/users/chadr123/received_events",
    "repos_url": "https://api.github.com/users/chadr123/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/chadr123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chadr123/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/chadr123"
  }
}
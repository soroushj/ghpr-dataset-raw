{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "*Title*: *Prometheus: allow opting out of automatic namespacing*\r\n\r\n*Description*:\r\nPR #2140 added automatic namspacing to all prometheus metrics emitted by envoy per prometheus best practices.\r\n\r\nA constant string `envoy_` is prepended to the prometheus metric names, with no way to override or opt out of the namespacing.\r\n\r\nAs filters add more metrics, they may be namespaced under a different prefix. For example istio would like some filter emitted metrics to be namespaced under `istio_` prefix.\r\n \r\nOptions\r\n1.  Add a convention: example: If a metrics name starts with `_` or some other marker, automatic namspacing will be disabled for that metric. \r\n2.  Add this option to admin config. \r\n    a. Add regex list to indicate metric names that would opt out of prometheus automatic namespacing.\r\n    b. Get this config to admin.cc. At present prometheus formatter receives no config.\r\n\r\n@ggreenway  @jmarantz \r\n\r\n  ",
  "closed_at": "2020-07-10T22:11:06Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8603643?v=4",
    "events_url": "https://api.github.com/users/ggreenway/events{/privacy}",
    "followers_url": "https://api.github.com/users/ggreenway/followers",
    "following_url": "https://api.github.com/users/ggreenway/following{/other_user}",
    "gists_url": "https://api.github.com/users/ggreenway/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/ggreenway",
    "id": 8603643,
    "login": "ggreenway",
    "node_id": "MDQ6VXNlcjg2MDM2NDM=",
    "organizations_url": "https://api.github.com/users/ggreenway/orgs",
    "received_events_url": "https://api.github.com/users/ggreenway/received_events",
    "repos_url": "https://api.github.com/users/ggreenway/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/ggreenway/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ggreenway/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/ggreenway"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7957/comments",
  "created_at": "2019-08-18T13:27:27Z",
  "events_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7957/events",
  "html_url": "https://github.com/envoyproxy/envoy/issues/7957",
  "id": 481993889,
  "labels": [
    {
      "color": "84b6eb",
      "default": true,
      "description": "Feature requests. Not bugs or questions.",
      "id": 421403909,
      "name": "enhancement",
      "node_id": "MDU6TGFiZWw0MjE0MDM5MDk=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/enhancement"
    },
    {
      "color": "fbca04",
      "default": true,
      "description": "Needs help!",
      "id": 645516726,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw2NDU1MTY3MjY=",
      "url": "https://api.github.com/repos/envoyproxy/envoy/labels/help%20wanted"
    }
  ],
  "labels_url": "https://api.github.com/repos/envoyproxy/envoy/issues/7957/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0ODE5OTM4ODk=",
  "number": 7957,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/envoyproxy/envoy",
  "state": "closed",
  "title": "Prometheus: allow opting out of automatic namspacing",
  "updated_at": "2020-07-10T22:11:06Z",
  "url": "https://api.github.com/repos/envoyproxy/envoy/issues/7957",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/800375?v=4",
    "events_url": "https://api.github.com/users/mandarjog/events{/privacy}",
    "followers_url": "https://api.github.com/users/mandarjog/followers",
    "following_url": "https://api.github.com/users/mandarjog/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandarjog/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mandarjog",
    "id": 800375,
    "login": "mandarjog",
    "node_id": "MDQ6VXNlcjgwMDM3NQ==",
    "organizations_url": "https://api.github.com/users/mandarjog/orgs",
    "received_events_url": "https://api.github.com/users/mandarjog/received_events",
    "repos_url": "https://api.github.com/users/mandarjog/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mandarjog/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandarjog/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mandarjog"
  }
}
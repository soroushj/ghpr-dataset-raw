{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5634205?v=4",
    "events_url": "https://api.github.com/users/heww/events{/privacy}",
    "followers_url": "https://api.github.com/users/heww/followers",
    "following_url": "https://api.github.com/users/heww/following{/other_user}",
    "gists_url": "https://api.github.com/users/heww/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/heww",
    "id": 5634205,
    "login": "heww",
    "node_id": "MDQ6VXNlcjU2MzQyMDU=",
    "organizations_url": "https://api.github.com/users/heww/orgs",
    "received_events_url": "https://api.github.com/users/heww/received_events",
    "repos_url": "https://api.github.com/users/heww/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/heww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/heww/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/heww"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/5634205?v=4",
      "events_url": "https://api.github.com/users/heww/events{/privacy}",
      "followers_url": "https://api.github.com/users/heww/followers",
      "following_url": "https://api.github.com/users/heww/following{/other_user}",
      "gists_url": "https://api.github.com/users/heww/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/heww",
      "id": 5634205,
      "login": "heww",
      "node_id": "MDQ6VXNlcjU2MzQyMDU=",
      "organizations_url": "https://api.github.com/users/heww/orgs",
      "received_events_url": "https://api.github.com/users/heww/received_events",
      "repos_url": "https://api.github.com/users/heww/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/heww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/heww/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/heww"
    }
  ],
  "author_association": "NONE",
  "body": "**Expected behavior and actual behavior:**\r\nExpected behavior: harbor-core pod running.\r\nActual behavior: Crashloop backoff on harbor-core pod.\r\n\r\nThis issue relates to https://github.com/goharbor/harbor-helm/issues/214\r\n\r\nA fix has been made on the helm chart regarding db passwords encoding as they may contain special characters and so on.\r\n\r\nIMHO Fixing this issue in the helm chart is not enough, or may not be the right place.\r\n\r\n**Steps to reproduce the problem:**\r\nThis was our db password: `@=?x6BDB32c4tuV%6?8E6g9mj3dkh6%b` and we had the following error in harbor core container:\r\n```\r\n$ kubectl logs harbor-devl-harbor-core-58bcb588b8-jxkkc -c core\r\n2019-05-31T10:11:03Z [INFO] [/replication/adapter/harbor/adapter.go:41]: the factory for adapter harbor registered\r\n2019-05-31T10:11:03Z [INFO] [/replication/adapter/dockerhub/adapter.go:24]: Factory for adapter docker-hub registered\r\n2019-05-31T10:11:03Z [INFO] [/replication/adapter/native/adapter.go:30]: the factory for adapter docker-registry registered\r\n2019-05-31T10:11:03Z [INFO] [/replication/adapter/huawei/huawei_adapter.go:25]: the factory of Huawei adapter was registered\r\n2019-05-31T10:11:03Z [DEBUG] [/core/auth/authenticator.go:126]: Registered authentication helper for auth mode: http_auth\r\n2019-05-31T10:11:03Z [DEBUG] [/core/auth/authenticator.go:126]: Registered authentication helper for auth mode: db_auth\r\n2019-05-31T10:11:03Z [DEBUG] [/core/auth/authenticator.go:126]: Registered authentication helper for auth mode: ldap_auth\r\n2019-05-31T10:11:03Z [DEBUG] [/core/auth/authenticator.go:126]: Registered authentication helper for auth mode: uaa_auth\r\n2019-05-31T10:11:03Z [INFO] [/core/controllers/base.go:288]: Config path: /etc/core/app.conf\r\n2019-05-31T10:11:03Z [INFO] [/core/main.go:92]: initializing configurations...\r\n2019-05-31T10:11:03Z [INFO] [/core/config/config.go:98]: key path: /etc/core/key\r\n2019-05-31T10:11:03Z [INFO] [/core/config/config.go:71]: init secret store\r\n2019-05-31T10:11:03Z [INFO] [/core/config/config.go:74]: init project manager based on deploy mode\r\n2019-05-31T10:11:03Z [INFO] [/core/config/config.go:143]: initializing the project manager based on local database...\r\n2019-05-31T10:11:03Z [INFO] [/core/main.go:96]: configurations initialization completed\r\n2019-05-31T10:11:03Z [INFO] [/common/dao/base.go:84]: Registering database: type-PostgreSQL host-localhost port-5432 databse-registry sslmode-\"disable\"\r\n2019-05-31T10:11:03Z [INFO] [/common/dao/base.go:89]: Register database completed\r\n2019-05-31T10:11:03Z [FATAL] [/core/main.go:103]: failed to initialize database: dial tcp: lookup =: no such host\r\n```\r\nOur guess is that, this is due to the `@` or maybe another character, which misconfigured the db host setting.\r\n\r\nTook us a while to find out that our password was the culprit here :smile: \r\n\r\nNote: harbor's core container was the only one failing, the notary server or other components in harbor's ecosystem appeared to be working fine with this password.\r\n\r\n**Versions:**\r\nPlease specify the versions of following systems.\r\n- harbor version: [1.8.0]\r\n- helm chart version: [v1.1.0]\r\n\r\nDo not hesitate to ask any further question,\r\n\r\nThank you for your help!\r\n",
  "closed_at": "2019-08-28T08:59:23Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5634205?v=4",
    "events_url": "https://api.github.com/users/heww/events{/privacy}",
    "followers_url": "https://api.github.com/users/heww/followers",
    "following_url": "https://api.github.com/users/heww/following{/other_user}",
    "gists_url": "https://api.github.com/users/heww/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/heww",
    "id": 5634205,
    "login": "heww",
    "node_id": "MDQ6VXNlcjU2MzQyMDU=",
    "organizations_url": "https://api.github.com/users/heww/orgs",
    "received_events_url": "https://api.github.com/users/heww/received_events",
    "repos_url": "https://api.github.com/users/heww/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/heww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/heww/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/heww"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/goharbor/harbor/issues/7948/comments",
  "created_at": "2019-05-31T14:44:45Z",
  "events_url": "https://api.github.com/repos/goharbor/harbor/issues/7948/events",
  "html_url": "https://github.com/goharbor/harbor/issues/7948",
  "id": 450834739,
  "labels": [
    {
      "color": "fc2929",
      "default": false,
      "description": null,
      "id": 318193281,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzMTgxOTMyODE=",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/kind/bug"
    },
    {
      "color": "5319e7",
      "default": false,
      "description": null,
      "id": 578657978,
      "name": "kind/debt",
      "node_id": "MDU6TGFiZWw1Nzg2NTc5Nzg=",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/kind/debt"
    },
    {
      "color": "d93f0b",
      "default": false,
      "description": "",
      "id": 1301885498,
      "name": "target/1.9.0",
      "node_id": "MDU6TGFiZWwxMzAxODg1NDk4",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/target/1.9.0"
    }
  ],
  "labels_url": "https://api.github.com/repos/goharbor/harbor/issues/7948/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NTA4MzQ3Mzk=",
  "number": 7948,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/goharbor/harbor",
  "state": "closed",
  "title": "Encode database passwords in harbor's core",
  "updated_at": "2019-08-28T08:59:23Z",
  "url": "https://api.github.com/repos/goharbor/harbor/issues/7948",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8408330?v=4",
    "events_url": "https://api.github.com/users/tcarmet/events{/privacy}",
    "followers_url": "https://api.github.com/users/tcarmet/followers",
    "following_url": "https://api.github.com/users/tcarmet/following{/other_user}",
    "gists_url": "https://api.github.com/users/tcarmet/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tcarmet",
    "id": 8408330,
    "login": "tcarmet",
    "node_id": "MDQ6VXNlcjg0MDgzMzA=",
    "organizations_url": "https://api.github.com/users/tcarmet/orgs",
    "received_events_url": "https://api.github.com/users/tcarmet/received_events",
    "repos_url": "https://api.github.com/users/tcarmet/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tcarmet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tcarmet/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tcarmet"
  }
}
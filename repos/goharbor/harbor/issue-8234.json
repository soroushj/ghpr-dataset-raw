{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5835782?v=4",
    "events_url": "https://api.github.com/users/ywk253100/events{/privacy}",
    "followers_url": "https://api.github.com/users/ywk253100/followers",
    "following_url": "https://api.github.com/users/ywk253100/following{/other_user}",
    "gists_url": "https://api.github.com/users/ywk253100/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/ywk253100",
    "id": 5835782,
    "login": "ywk253100",
    "node_id": "MDQ6VXNlcjU4MzU3ODI=",
    "organizations_url": "https://api.github.com/users/ywk253100/orgs",
    "received_events_url": "https://api.github.com/users/ywk253100/received_events",
    "repos_url": "https://api.github.com/users/ywk253100/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/ywk253100/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ywk253100/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/ywk253100"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/5835782?v=4",
      "events_url": "https://api.github.com/users/ywk253100/events{/privacy}",
      "followers_url": "https://api.github.com/users/ywk253100/followers",
      "following_url": "https://api.github.com/users/ywk253100/following{/other_user}",
      "gists_url": "https://api.github.com/users/ywk253100/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ywk253100",
      "id": 5835782,
      "login": "ywk253100",
      "node_id": "MDQ6VXNlcjU4MzU3ODI=",
      "organizations_url": "https://api.github.com/users/ywk253100/orgs",
      "received_events_url": "https://api.github.com/users/ywk253100/received_events",
      "repos_url": "https://api.github.com/users/ywk253100/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ywk253100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ywk253100/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ywk253100"
    }
  ],
  "author_association": "NONE",
  "body": "**Expected behavior and actual behavior:**\r\nThe pull fails with http 500 and this error happens\r\n```\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/filter/security.go:233]: OIDC CLI modifer only handles request by docker CLI or helm CLI\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/filter/security.go:491]: can not get user information from session\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/filter/security.go:560]: user information is nil\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/filter/security.go:574]: using local database project manager\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/filter/security.go:576]: creating local database security context...\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019-07-07T22:36:26Z [DEBUG] [/core/service/notifications/registry/handler.go:165]: receive an event: \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----ID: ceda470f-b858-433e-b884-9719c54f0935 \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----target: scalendar/api:staging \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----digest: sha256:3470729af704c00a0529467044687f47851b9b9c63ae3f5abebf8a8d8b2de359 \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----action: pull \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----mediatype: application/vnd.docker.distribution.manifest.v2+json \r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: ----user-agent: harbor-registry-client\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [D] [server.go:2619] |   10.244.1.214| 200 |   3.294114ms|   match| POST     /service/notifications   r:/service/notifications\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] the request url is  /v2/scalendar/api/manifests/staging\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] Handler crashed with error runtime error: invalid memory address or nil pointer dereference\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/asm_amd64.s:509\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/panic.go:491\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/panic.go:63\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/signal_unix.go:367\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/common/models/project.go:43\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:98\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:98\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:269\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:251\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:199\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:165\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/interceptors.go:180\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] <autogenerated>:1\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/proxy/proxy.go:47\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/core/controllers/proxy.go:17\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/asm_amd64.s:509\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/reflect/value.go:434\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/reflect/value.go:302\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /go/src/github.com/goharbor/harbor/src/vendor/github.com/astaxie/beego/router.go:815\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/net/http/server.go:2619\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/net/http/server.go:1801\r\nharbor/tim-harbor-core-6795686fcc-r4nrs[core]: 2019/07/07 22:36:26 [C] [asm_amd64.s:509] /usr/local/go/src/runtime/asm_amd64.s:2337\r\n```\r\n\r\n**Steps to reproduce the problem:**\r\nIt happens on pull of an image which is in the backend storage, but from a project that does not exist\r\n\r\n**Versions:**\r\nPlease specify the versions of following systems.\r\n- harbor version: `1.7.12`\r\n- docker engine version: `N/A` (AKS provided one)\r\n- docker-compose version: `N/A` (using kubernetes)\r\n\r\n**Additional context:**\r\n* **Harbor config files:** Using kubernetes (if needed I can look at extracting it)\r\n* **Log files:** Using kubernetes (if needed I can provide logs of any container)\r\n",
  "closed_at": "2019-10-14T03:27:35Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2841473?v=4",
    "events_url": "https://api.github.com/users/wy65701436/events{/privacy}",
    "followers_url": "https://api.github.com/users/wy65701436/followers",
    "following_url": "https://api.github.com/users/wy65701436/following{/other_user}",
    "gists_url": "https://api.github.com/users/wy65701436/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wy65701436",
    "id": 2841473,
    "login": "wy65701436",
    "node_id": "MDQ6VXNlcjI4NDE0NzM=",
    "organizations_url": "https://api.github.com/users/wy65701436/orgs",
    "received_events_url": "https://api.github.com/users/wy65701436/received_events",
    "repos_url": "https://api.github.com/users/wy65701436/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wy65701436/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wy65701436/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wy65701436"
  },
  "comments": 5,
  "comments_url": "https://api.github.com/repos/goharbor/harbor/issues/8234/comments",
  "created_at": "2019-07-07T23:00:02Z",
  "events_url": "https://api.github.com/repos/goharbor/harbor/issues/8234/events",
  "html_url": "https://github.com/goharbor/harbor/issues/8234",
  "id": 465002210,
  "labels": [
    {
      "color": "fc2929",
      "default": false,
      "description": null,
      "id": 318193281,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzMTgxOTMyODE=",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/kind/bug"
    },
    {
      "color": "d93f0b",
      "default": false,
      "description": "",
      "id": 1509510388,
      "name": "target/1.10.0",
      "node_id": "MDU6TGFiZWwxNTA5NTEwMzg4",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/target/1.10.0"
    }
  ],
  "labels_url": "https://api.github.com/repos/goharbor/harbor/issues/8234/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-11-26T05:52:43Z",
    "closed_issues": 32,
    "created_at": "2019-09-09T07:50:40Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/2390463?v=4",
      "events_url": "https://api.github.com/users/reasonerjt/events{/privacy}",
      "followers_url": "https://api.github.com/users/reasonerjt/followers",
      "following_url": "https://api.github.com/users/reasonerjt/following{/other_user}",
      "gists_url": "https://api.github.com/users/reasonerjt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/reasonerjt",
      "id": 2390463,
      "login": "reasonerjt",
      "node_id": "MDQ6VXNlcjIzOTA0NjM=",
      "organizations_url": "https://api.github.com/users/reasonerjt/orgs",
      "received_events_url": "https://api.github.com/users/reasonerjt/received_events",
      "repos_url": "https://api.github.com/users/reasonerjt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/reasonerjt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reasonerjt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/reasonerjt"
    },
    "description": "",
    "due_on": "2019-10-22T07:00:00Z",
    "html_url": "https://github.com/goharbor/harbor/milestone/72",
    "id": 4643238,
    "labels_url": "https://api.github.com/repos/goharbor/harbor/milestones/72/labels",
    "node_id": "MDk6TWlsZXN0b25lNDY0MzIzOA==",
    "number": 72,
    "open_issues": 0,
    "state": "closed",
    "title": "Sprint 71",
    "updated_at": "2019-11-26T05:52:43Z",
    "url": "https://api.github.com/repos/goharbor/harbor/milestones/72"
  },
  "node_id": "MDU6SXNzdWU0NjUwMDIyMTA=",
  "number": 8234,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/goharbor/harbor",
  "state": "closed",
  "title": "Handler crashed with error runtime error: invalid memory address or nil pointer dereference",
  "updated_at": "2019-10-14T03:27:35Z",
  "url": "https://api.github.com/repos/goharbor/harbor/issues/8234",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/26320625?v=4",
    "events_url": "https://api.github.com/users/cromefire/events{/privacy}",
    "followers_url": "https://api.github.com/users/cromefire/followers",
    "following_url": "https://api.github.com/users/cromefire/following{/other_user}",
    "gists_url": "https://api.github.com/users/cromefire/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/cromefire",
    "id": 26320625,
    "login": "cromefire",
    "node_id": "MDQ6VXNlcjI2MzIwNjI1",
    "organizations_url": "https://api.github.com/users/cromefire/orgs",
    "received_events_url": "https://api.github.com/users/cromefire/received_events",
    "repos_url": "https://api.github.com/users/cromefire/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/cromefire/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cromefire/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/cromefire"
  }
}
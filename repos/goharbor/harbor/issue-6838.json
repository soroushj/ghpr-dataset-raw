{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2841473?v=4",
    "events_url": "https://api.github.com/users/wy65701436/events{/privacy}",
    "followers_url": "https://api.github.com/users/wy65701436/followers",
    "following_url": "https://api.github.com/users/wy65701436/following{/other_user}",
    "gists_url": "https://api.github.com/users/wy65701436/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wy65701436",
    "id": 2841473,
    "login": "wy65701436",
    "node_id": "MDQ6VXNlcjI4NDE0NzM=",
    "organizations_url": "https://api.github.com/users/wy65701436/orgs",
    "received_events_url": "https://api.github.com/users/wy65701436/received_events",
    "repos_url": "https://api.github.com/users/wy65701436/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wy65701436/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wy65701436/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wy65701436"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/2841473?v=4",
      "events_url": "https://api.github.com/users/wy65701436/events{/privacy}",
      "followers_url": "https://api.github.com/users/wy65701436/followers",
      "following_url": "https://api.github.com/users/wy65701436/following{/other_user}",
      "gists_url": "https://api.github.com/users/wy65701436/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/wy65701436",
      "id": 2841473,
      "login": "wy65701436",
      "node_id": "MDQ6VXNlcjI4NDE0NzM=",
      "organizations_url": "https://api.github.com/users/wy65701436/orgs",
      "received_events_url": "https://api.github.com/users/wy65701436/received_events",
      "repos_url": "https://api.github.com/users/wy65701436/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/wy65701436/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wy65701436/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/wy65701436"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "It seems like there's a difference between calling `/api/users` and `/api/users/{id}` where the former will actually return the salted password hash as part of the call:\r\n```bash\r\ncurl -u admin:$password http://harbor.default.svc/api/users 2>/dev/null | jq\r\n[\r\n  {\r\n    \"user_id\": 3,\r\n    \"username\": \"test-user\",\r\n    \"email\": \"test@example.com\",\r\n    \"password\": \"5f0312458e714970e39b9a45a4eccc74\",\r\n    \"realname\": \"Test User\",\r\n    \"comment\": \"\",\r\n    \"deleted\": false,\r\n    \"role_name\": \"\",\r\n    \"role_id\": 0,\r\n    \"has_admin_role\": false,\r\n    \"reset_uuid\": \"\",\r\n    \"creation_time\": \"2019-01-28T22:51:35Z\",\r\n    \"update_time\": \"2019-01-28T22:51:35Z\"\r\n  }\r\n```\r\nvs.\r\n```bash\r\n/ # curl -u admin:$password http://harbor.default.svc/api/users/3 2>/dev/null | jq\r\n{\r\n  \"user_id\": 3,\r\n  \"username\": \"test-user\",\r\n  \"email\": \"test@example.com\",\r\n  \"password\": \"\",\r\n  \"realname\": \"Test User\",\r\n  \"comment\": \"\",\r\n  \"deleted\": false,\r\n  \"role_name\": \"\",\r\n  \"role_id\": 0,\r\n  \"has_admin_role\": false,\r\n  \"reset_uuid\": \"\",\r\n  \"creation_time\": \"2019-01-28T22:51:35Z\",\r\n  \"update_time\": \"2019-01-28T22:51:35Z\"\r\n}\r\n```\r\n\r\nNote how `password` in the first call is set to a value while it is empty in the second call.\r\n\r\nI would have expected these two calls to produce identical output to populate the user object. I'm assuming that the salted password hash is supposed to be removed from `UserAPI.List()` just like it is in `UserAPI.Get()`: https://github.com/goharbor/harbor/blob/master/src/core/api/user.go#L120.\r\n\r\nThe fix is fairly straightforward and I'm happy to contribute a fix, but I'd like to make sure that the password hashes aren't being exposed intentionally (for some reason!) before I do.\r\n\r\n**Steps to reproduce the problem:**\r\nSee above for curl commands to reproduce.\r\n\r\n**Versions:**\r\nPlease specify the versions of following systems.\r\n- harbor version: [1.7.1]\r\n",
  "closed_at": "2019-05-08T04:50:40Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/2390463?v=4",
    "events_url": "https://api.github.com/users/reasonerjt/events{/privacy}",
    "followers_url": "https://api.github.com/users/reasonerjt/followers",
    "following_url": "https://api.github.com/users/reasonerjt/following{/other_user}",
    "gists_url": "https://api.github.com/users/reasonerjt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/reasonerjt",
    "id": 2390463,
    "login": "reasonerjt",
    "node_id": "MDQ6VXNlcjIzOTA0NjM=",
    "organizations_url": "https://api.github.com/users/reasonerjt/orgs",
    "received_events_url": "https://api.github.com/users/reasonerjt/received_events",
    "repos_url": "https://api.github.com/users/reasonerjt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/reasonerjt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/reasonerjt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/reasonerjt"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/goharbor/harbor/issues/6838/comments",
  "created_at": "2019-01-28T23:40:56Z",
  "events_url": "https://api.github.com/repos/goharbor/harbor/issues/6838/events",
  "html_url": "https://github.com/goharbor/harbor/issues/6838",
  "id": 404056745,
  "labels": [
    {
      "color": "fc2929",
      "default": false,
      "description": null,
      "id": 318193281,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwzMTgxOTMyODE=",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/kind/bug"
    },
    {
      "color": "d93f0b",
      "default": false,
      "description": "The issues targeting 1.8.0 release.",
      "id": 1117471895,
      "name": "target/1.8.0",
      "node_id": "MDU6TGFiZWwxMTE3NDcxODk1",
      "url": "https://api.github.com/repos/goharbor/harbor/labels/target/1.8.0"
    }
  ],
  "labels_url": "https://api.github.com/repos/goharbor/harbor/issues/6838/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MDQwNTY3NDU=",
  "number": 6838,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/goharbor/harbor",
  "state": "closed",
  "title": "/api/users list exposes password hashes as part of output",
  "updated_at": "2019-05-08T04:50:40Z",
  "url": "https://api.github.com/repos/goharbor/harbor/issues/6838",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/308328?v=4",
    "events_url": "https://api.github.com/users/protochron/events{/privacy}",
    "followers_url": "https://api.github.com/users/protochron/followers",
    "following_url": "https://api.github.com/users/protochron/following{/other_user}",
    "gists_url": "https://api.github.com/users/protochron/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/protochron",
    "id": 308328,
    "login": "protochron",
    "node_id": "MDQ6VXNlcjMwODMyOA==",
    "organizations_url": "https://api.github.com/users/protochron/orgs",
    "received_events_url": "https://api.github.com/users/protochron/received_events",
    "repos_url": "https://api.github.com/users/protochron/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/protochron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/protochron/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/protochron"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1701473?v=4",
    "events_url": "https://api.github.com/users/BusyJay/events{/privacy}",
    "followers_url": "https://api.github.com/users/BusyJay/followers",
    "following_url": "https://api.github.com/users/BusyJay/following{/other_user}",
    "gists_url": "https://api.github.com/users/BusyJay/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/BusyJay",
    "id": 1701473,
    "login": "BusyJay",
    "node_id": "MDQ6VXNlcjE3MDE0NzM=",
    "organizations_url": "https://api.github.com/users/BusyJay/orgs",
    "received_events_url": "https://api.github.com/users/BusyJay/received_events",
    "repos_url": "https://api.github.com/users/BusyJay/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/BusyJay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BusyJay/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/BusyJay"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/1701473?v=4",
      "events_url": "https://api.github.com/users/BusyJay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BusyJay/followers",
      "following_url": "https://api.github.com/users/BusyJay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BusyJay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BusyJay",
      "id": 1701473,
      "login": "BusyJay",
      "node_id": "MDQ6VXNlcjE3MDE0NzM=",
      "organizations_url": "https://api.github.com/users/BusyJay/orgs",
      "received_events_url": "https://api.github.com/users/BusyJay/received_events",
      "repos_url": "https://api.github.com/users/BusyJay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BusyJay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BusyJay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BusyJay"
    }
  ],
  "author_association": "NONE",
  "body": "## Question\r\n\r\nI deployed a tikv cluster with binary files on centos for test env with 1 pd and 3 tikv nodes. After working for about 18 hours, one of the tikv nodes crushed down. I want to know whether is there anything wrong with my operation or configuration.\r\n\r\n**Key configuration**\r\n\r\n// pd\r\n[replication]\r\nmax-replicas = 1\r\n[schedule]\r\nmax-merge-region-size = 20\r\nmax-merge-region-keys = 200000\r\nsplit-merge-interval = \"1h\"\r\nmax-snapshot-count = 3\r\nmax-pending-peer-count = 16\r\nmax-store-down-time = \"30m\"\r\nleader-schedule-limit = 4\r\nregion-schedule-limit = 4\r\nreplica-schedule-limit = 8\r\nmerge-schedule-limit = 8\r\ntolerant-size-ratio = 5.0\r\n\r\n**log when crush down**\r\n```\r\n[2020/04/09 05:36:16.239 +08:00] [INFO] [peer.rs:1415] [\"notify pd with change peer region\"] [region=\"id: 21 start_key: 2D73746F72616765BC10B69CC1CEEEFE5B741E5A427247DE457AADF91B19634319D365DFEBB955824C3CD1DF104F941469E8C657C56FD5C26B2202F0 end_key: 2D73746F72616765BC10B69CC1CEEEFE5B741E5A427247DE457AADF91E89FC480698BC1C60905F1561F571667F71313E7DC4C1CD079D3335F9752D67 region_epoch { conf_ver: 10 version: 8 } peers { id: 107 store_id: 4 }\"] [peer_id=107] [region_id=21]\r\n[2020/04/09 05:36:28.218 +08:00] [INFO] [peer.rs:450] [\"deleting applied snap file\"] [snap_file=21_6_1793999] [peer_id=107] [region_id=21]\r\n[2020/04/09 05:36:28.225 +08:00] [INFO] [peer.rs:450] [\"deleting applied snap file\"] [snap_file=65_6_619110] [peer_id=106] [region_id=65]\r\n[2020/04/09 05:36:32.406 +08:00] [FATAL] [lib.rs:499] [\"assertion failed: `(left == right)`\\n  left: `[23, 72, 161, 100, 118, 81, 72, 150, 153, 116, 237, 163, 124, 47, 59, 220]`,\\n right: `[162, 136, 174, 153, 78, 10, 77, 97, 137, 178, 123, 129, 82, 88, 195, 182]`\"] [backtrace=\"stack backtrace:\\n   0:     0x7f472c1faa5d - backtrace::backtrace::libunwind::trace::h958f5f3eb75b2917\\n                        at /rust/registry/src/github.com-1ecc6299db9ec823/backtrace-0.2.3/src/backtrace/libunwind.rs:54\\n                         - backtrace::backtrace::trace::hdf994f7eb3c12b81\\n                        at /rust/registry/src/github.com-1ecc6299db9ec823/backtrace-0.2.3/src/backtrace/mod.rs:70\\n   1:     0x7f472c1f0730 - tikv_util::set_panic_hook::{{closure}}::hf6c0260b2e4aea39\\n                        at /home/jenkins/.target/release/build/backtrace-e20a32a05fd0b8fe/out/capture.rs:79\\n   2:     0x7f472c39a78f - std::panicking::rust_panic_with_hook::h8d2408723e9a2bd4\\n                        at src/libstd/panicking.rs:479\\n   3:     0x7f472c39a56d - std::panicking::continue_panic_fmt::hb2aaa9386c4e5e80\\n                        at src/libstd/panicking.rs:382\\n   4:     0x7f472c39a51b - std::panicking::begin_panic_fmt::h1c91fada5a982dcd\\n                        at src/libstd/panicking.rs:337\\n   5:     0x7f472b8a8231 - tikv::raftstore::store::peer::Peer::handle_raft_ready_apply::h7a466f270c836fdb\\n                        at src/raftstore/store/peer.rs:0\\n\r\n\r\n\u2026\u2026\u2026\u2026\r\n``` \r\n\r\n\r\n",
  "closed_at": null,
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/8407317?v=4",
    "events_url": "https://api.github.com/users/hicqu/events{/privacy}",
    "followers_url": "https://api.github.com/users/hicqu/followers",
    "following_url": "https://api.github.com/users/hicqu/following{/other_user}",
    "gists_url": "https://api.github.com/users/hicqu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/hicqu",
    "id": 8407317,
    "login": "hicqu",
    "node_id": "MDQ6VXNlcjg0MDczMTc=",
    "organizations_url": "https://api.github.com/users/hicqu/orgs",
    "received_events_url": "https://api.github.com/users/hicqu/received_events",
    "repos_url": "https://api.github.com/users/hicqu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/hicqu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hicqu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/hicqu"
  },
  "comments": 15,
  "comments_url": "https://api.github.com/repos/tikv/tikv/issues/7402/comments",
  "created_at": "2020-04-09T03:14:58Z",
  "events_url": "https://api.github.com/repos/tikv/tikv/issues/7402/events",
  "html_url": "https://github.com/tikv/tikv/issues/7402",
  "id": 596990138,
  "labels": [],
  "labels_url": "https://api.github.com/repos/tikv/tikv/issues/7402/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1OTY5OTAxMzg=",
  "number": 7402,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/tikv/tikv",
  "state": "open",
  "title": "one of tikv nodes crushed down during testing",
  "updated_at": "2020-05-26T12:51:39Z",
  "url": "https://api.github.com/repos/tikv/tikv/issues/7402",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/19535637?v=4",
    "events_url": "https://api.github.com/users/zjuwangcai/events{/privacy}",
    "followers_url": "https://api.github.com/users/zjuwangcai/followers",
    "following_url": "https://api.github.com/users/zjuwangcai/following{/other_user}",
    "gists_url": "https://api.github.com/users/zjuwangcai/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/zjuwangcai",
    "id": 19535637,
    "login": "zjuwangcai",
    "node_id": "MDQ6VXNlcjE5NTM1NjM3",
    "organizations_url": "https://api.github.com/users/zjuwangcai/orgs",
    "received_events_url": "https://api.github.com/users/zjuwangcai/received_events",
    "repos_url": "https://api.github.com/users/zjuwangcai/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/zjuwangcai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zjuwangcai/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/zjuwangcai"
  }
}
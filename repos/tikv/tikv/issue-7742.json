{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/16376959?v=4",
    "events_url": "https://api.github.com/users/Little-Wallace/events{/privacy}",
    "followers_url": "https://api.github.com/users/Little-Wallace/followers",
    "following_url": "https://api.github.com/users/Little-Wallace/following{/other_user}",
    "gists_url": "https://api.github.com/users/Little-Wallace/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Little-Wallace",
    "id": 16376959,
    "login": "Little-Wallace",
    "node_id": "MDQ6VXNlcjE2Mzc2OTU5",
    "organizations_url": "https://api.github.com/users/Little-Wallace/orgs",
    "received_events_url": "https://api.github.com/users/Little-Wallace/received_events",
    "repos_url": "https://api.github.com/users/Little-Wallace/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Little-Wallace/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Little-Wallace/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Little-Wallace"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/16376959?v=4",
      "events_url": "https://api.github.com/users/Little-Wallace/events{/privacy}",
      "followers_url": "https://api.github.com/users/Little-Wallace/followers",
      "following_url": "https://api.github.com/users/Little-Wallace/following{/other_user}",
      "gists_url": "https://api.github.com/users/Little-Wallace/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Little-Wallace",
      "id": 16376959,
      "login": "Little-Wallace",
      "node_id": "MDQ6VXNlcjE2Mzc2OTU5",
      "organizations_url": "https://api.github.com/users/Little-Wallace/orgs",
      "received_events_url": "https://api.github.com/users/Little-Wallace/received_events",
      "repos_url": "https://api.github.com/users/Little-Wallace/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Little-Wallace/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Little-Wallace/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Little-Wallace"
    }
  ],
  "author_association": "MEMBER",
  "body": "## Bug Report\r\n\r\n<!-- Thanks for your bug report! Don't worry if you can't fill out all the sections. -->\r\nWhen enable titan on tikv master. it can not work well\r\n\r\n### What version of TiKV are you using?\r\n<!-- You can run `tikv-server --version` -->\r\nmaster\r\n\r\n### What operating system and CPU are you using?\r\n<!-- If you're using Linux, you can run `cat /proc/cpuinfo` -->\r\nLinux/x86_64\r\n### Steps to reproduce\r\n<!-- If possible, provide a recipe for reproducing the error. A complete runnable program is good. -->\r\nJust enable titan like\r\n```\r\n[readpool]\r\n[storage]\r\n[rocksdb]\r\n  [rocksdb.titan]\r\n  enabled = true\r\n  [rocksdb.defaultcf]\r\n    [rocksdb.defaultcf.titan]\r\n    min-blob-size = \"0KB\"\r\n[raftdb]\r\n```\r\n\r\n### What did you expect?\r\nTiKV did not panic\r\n### What did happened?\r\n```\r\n[2020-05-01T01:03:01.146Z] [2020/05/01 09:01:48.331 +08:00] [WARN] [util.rs:194] [\"updating PD client done\"] [spend=1.413676ms]\r\n[2020-05-01T01:03:01.147Z] [2020/05/01 09:01:57.461 +08:00] [FATAL] [lib.rs:483] [\"failed to write to engine: Engine(\\\"Not implemented: \\\")\"] [backtrace=\"stack backtrace:\\n   0: tikv_util::set_panic_hook::{{closure}}\\n             at components/tikv_util/src/lib.rs:482\\n   1: std::panicking::rust_panic_with_hook\\n             at src/libstd/panicking.rs:475\\n   2: rust_begin_unwind\\n             at src/libstd/panicking.rs:375\\n   3: std::panicking::begin_panic_fmt\\n             at src/libstd/panicking.rs:326\\n   4: raftstore::store::fsm::apply::ApplyContext<E,W>::write_to_db::{{closure}}\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/<::std::macros::panic macros>:9\\n   5: core::result::Result<T,E>::unwrap_or_else\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libcore/result.rs:841\\n      raftstore::store::fsm::apply::ApplyContext<E,W>::write_to_db\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/components/raftstore/src/store/fsm/apply.rs:466\\n   6: raftstore::store::fsm::apply::ApplyContext<E,W>::flush\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/components/raftstore/src/store/fsm/apply.rs:549\\n   7: <raftstore::store::fsm::apply::ApplyPoller<E,W> as batch_system::batch::PollHandler<raftstore::store::fsm::apply::ApplyFsm<E>,raftstore::store::fsm::apply::ControlFsm>>::end\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/components/raftstore/src/store/fsm/apply.rs:3150\\n      batch_system::batch::Poller<N,C,Handler>::poll\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/components/batch-system/src/batch.rs:332\\n      batch_system::batch::BatchSystem<N,C>::spawn::{{closure}}\\n             at /home/jenkins/agent/workspace/build_tikv_multi_branch_master/tikv/components/batch-system/src/batch.rs:394\\n      std::sys_common::backtrace::__rust_begin_short_backtrace\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/sys_common/backtrace.rs:136\\n   8: std::thread::Builder::spawn_unchecked::{{closure}}::{{closure}}\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/thread/mod.rs:469\\n      <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/panic.rs:318\\n      std::panicking::try::do_call\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/panicking.rs:292\\n      std::panicking::try\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8//src/libpanic_unwind/lib.rs:78\\n      std::panic::catch_unwind\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/panic.rs:394\\n      std::thread::Builder::spawn_unchecked::{{closure}}\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libstd/thread/mod.rs:468\\n      core::ops::function::FnOnce::call_once{{vtable.shim}}\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/libcore/ops/function.rs:232\\n   9: <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once\\n             at /rustc/0de96d37fbcc54978458c18f5067cd9817669bc8/src/liballoc/boxed.rs:1022+ cat './ddltest/tidb_log_file_*'\r\n```\r\n",
  "closed_at": "2020-05-07T04:19:07Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/29268173?v=4",
    "events_url": "https://api.github.com/users/sre-bot/events{/privacy}",
    "followers_url": "https://api.github.com/users/sre-bot/followers",
    "following_url": "https://api.github.com/users/sre-bot/following{/other_user}",
    "gists_url": "https://api.github.com/users/sre-bot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/sre-bot",
    "id": 29268173,
    "login": "sre-bot",
    "node_id": "MDQ6VXNlcjI5MjY4MTcz",
    "organizations_url": "https://api.github.com/users/sre-bot/orgs",
    "received_events_url": "https://api.github.com/users/sre-bot/received_events",
    "repos_url": "https://api.github.com/users/sre-bot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/sre-bot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sre-bot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/sre-bot"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/tikv/tikv/issues/7742/comments",
  "created_at": "2020-05-06T10:17:40Z",
  "events_url": "https://api.github.com/repos/tikv/tikv/issues/7742/events",
  "html_url": "https://github.com/tikv/tikv/issues/7742",
  "id": 613207270,
  "labels": [],
  "labels_url": "https://api.github.com/repos/tikv/tikv/issues/7742/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2MTMyMDcyNzA=",
  "number": 7742,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/tikv/tikv",
  "state": "closed",
  "title": "Failed to write to engine: Engine(\\\"Not implemented: \\\") when enable titan on tikv master",
  "updated_at": "2020-05-07T04:19:07Z",
  "url": "https://api.github.com/repos/tikv/tikv/issues/7742",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/23521459?v=4",
    "events_url": "https://api.github.com/users/zhouqiang-cl/events{/privacy}",
    "followers_url": "https://api.github.com/users/zhouqiang-cl/followers",
    "following_url": "https://api.github.com/users/zhouqiang-cl/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhouqiang-cl/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/zhouqiang-cl",
    "id": 23521459,
    "login": "zhouqiang-cl",
    "node_id": "MDQ6VXNlcjIzNTIxNDU5",
    "organizations_url": "https://api.github.com/users/zhouqiang-cl/orgs",
    "received_events_url": "https://api.github.com/users/zhouqiang-cl/received_events",
    "repos_url": "https://api.github.com/users/zhouqiang-cl/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/zhouqiang-cl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhouqiang-cl/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/zhouqiang-cl"
  }
}
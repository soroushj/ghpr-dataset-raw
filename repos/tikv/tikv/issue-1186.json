{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "pd1 is a standalone cluster(a), pd2 and pd3 is the other cluster(b). We have many TiKVs, when the TiKV bootstraps, it randomly selects a PD to connect, so we may have two TiKVs which have same store ID (1) but belong to different clusters (a and b). We use 1a and 1b to distinguish them. \nWhen 1b is down and 1a restarts, it may connect to cluster b because it chooses the PD in PD list randomly. Badly, 1a can join the cluster b, can communicate with other TiKVs in the cluster b too and we will meet data corruption here. \n\nWhen we start tikv with a pd list like `pd1:2379,pd2:2379,pd3:2379`, we must check these PDs are all in the same cluster. E,g, we can use `members` API to get all PD members. If we get pd1 and pd2 only in the response, we can think PD3 is not a valid PD. But here we should also consider the condition that PD3 has already been removed. \n\n/cc @huachaohuang \n",
  "closed_at": "2016-12-01T07:19:33Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/2150711?v=4",
    "events_url": "https://api.github.com/users/overvenus/events{/privacy}",
    "followers_url": "https://api.github.com/users/overvenus/followers",
    "following_url": "https://api.github.com/users/overvenus/following{/other_user}",
    "gists_url": "https://api.github.com/users/overvenus/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/overvenus",
    "id": 2150711,
    "login": "overvenus",
    "node_id": "MDQ6VXNlcjIxNTA3MTE=",
    "organizations_url": "https://api.github.com/users/overvenus/orgs",
    "received_events_url": "https://api.github.com/users/overvenus/received_events",
    "repos_url": "https://api.github.com/users/overvenus/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/overvenus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/overvenus/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/overvenus"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/tikv/tikv/issues/1186/comments",
  "created_at": "2016-10-18T12:39:06Z",
  "events_url": "https://api.github.com/repos/tikv/tikv/issues/1186/events",
  "html_url": "https://github.com/tikv/tikv/issues/1186",
  "id": 183674569,
  "labels": [],
  "labels_url": "https://api.github.com/repos/tikv/tikv/issues/1186/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2017-08-17T04:27:37Z",
    "closed_issues": 16,
    "created_at": "2016-10-31T09:16:05Z",
    "creator": {
      "avatar_url": "https://avatars2.githubusercontent.com/u/1080370?v=4",
      "events_url": "https://api.github.com/users/siddontang/events{/privacy}",
      "followers_url": "https://api.github.com/users/siddontang/followers",
      "following_url": "https://api.github.com/users/siddontang/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddontang/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/siddontang",
      "id": 1080370,
      "login": "siddontang",
      "node_id": "MDQ6VXNlcjEwODAzNzA=",
      "organizations_url": "https://api.github.com/users/siddontang/orgs",
      "received_events_url": "https://api.github.com/users/siddontang/received_events",
      "repos_url": "https://api.github.com/users/siddontang/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/siddontang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddontang/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/siddontang"
    },
    "description": "",
    "due_on": "2016-11-30T08:00:00Z",
    "html_url": "https://github.com/tikv/tikv/milestone/5",
    "id": 2103653,
    "labels_url": "https://api.github.com/repos/tikv/tikv/milestones/5/labels",
    "node_id": "MDk6TWlsZXN0b25lMjEwMzY1Mw==",
    "number": 5,
    "open_issues": 0,
    "state": "closed",
    "title": "RC1",
    "updated_at": "2017-08-17T04:27:37Z",
    "url": "https://api.github.com/repos/tikv/tikv/milestones/5"
  },
  "node_id": "MDU6SXNzdWUxODM2NzQ1Njk=",
  "number": 1186,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/tikv/tikv",
  "state": "closed",
  "title": "check PD list validation ",
  "updated_at": "2018-08-07T00:46:13Z",
  "url": "https://api.github.com/repos/tikv/tikv/issues/1186",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/1080370?v=4",
    "events_url": "https://api.github.com/users/siddontang/events{/privacy}",
    "followers_url": "https://api.github.com/users/siddontang/followers",
    "following_url": "https://api.github.com/users/siddontang/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddontang/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/siddontang",
    "id": 1080370,
    "login": "siddontang",
    "node_id": "MDQ6VXNlcjEwODAzNzA=",
    "organizations_url": "https://api.github.com/users/siddontang/orgs",
    "received_events_url": "https://api.github.com/users/siddontang/received_events",
    "repos_url": "https://api.github.com/users/siddontang/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/siddontang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddontang/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/siddontang"
  }
}
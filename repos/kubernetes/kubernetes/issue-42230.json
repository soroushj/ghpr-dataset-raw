{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "When selinux is enforced and building cni package through docker run, it is failing with permission issues like below:\r\n```\r\n[root@localhost cni]# make\r\nmkdir -p /root/my_ws/src/k8s.io/kubernetes/build/cni/output\r\ndocker run -it -v /root/my_ws/src/k8s.io/kubernetes/build/cni/output:/output golang:1.7.5 /bin/bash -c \"\\\r\ngit clone https://github.com/containernetworking/cni\\\r\n&& cd cni \\\r\n&& git checkout 07a8a28637e97b22eb8dfe710eeae1344f69d16e \\\r\n&& CGO_ENABLED=0 GOOS=linux GOARCH=amd64 ./build \\\r\n&& tar -zcvf cni-amd64-07a8a28637e97b22eb8dfe710eeae1344f69d16e.tar.gz bin/ \\\r\n&& mv cni-amd64-07a8a28637e97b22eb8dfe710eeae1344f69d16e.tar.gz /output/\"\r\nCloning into 'cni'...\r\nremote: Counting objects: 3464, done.\r\nremote: Compressing objects: 100% (99/99), done.\r\nremote: Total 3464 (delta 24), reused 0 (delta 0), pack-reused 3363\r\nReceiving objects: 100% (3464/3464), 1.61 MiB | 0 bytes/s, done.\r\nResolving deltas: 100% (1626/1626), done.\r\nChecking connectivity... done.\r\nNote: checking out '07a8a28637e97b22eb8dfe710eeae1344f69d16e'.\r\n\r\nYou are in 'detached HEAD' state. You can look around, make experimental\r\nchanges and commit them, and you can discard any commits you make in this\r\nstate without impacting any branches by performing another checkout.\r\n\r\nIf you want to create a new branch to retain commits you create, you may\r\ndo so (now or later) by using -b with the checkout command again. Example:\r\n\r\n  git checkout -b new_branch_name\r\n\r\nHEAD is now at 07a8a28... Merge pull request #294 from dcbw/host-local-ranges\r\nBuilding API\r\nBuilding reference CLI\r\nBuilding plugins\r\n   flannel\r\n   tuning\r\n   bridge\r\n   ipvlan\r\n   loopback\r\n   macvlan\r\n   ptp\r\n   dhcp\r\n   host-local\r\n   noop\r\nbin/\r\nbin/cnitool\r\nbin/flannel\r\nbin/tuning\r\nbin/bridge\r\nbin/ipvlan\r\nbin/loopback\r\nbin/macvlan\r\nbin/ptp\r\nbin/dhcp\r\nbin/host-local\r\nbin/noop\r\nmv: cannot create regular file '/output/cni-amd64-07a8a28637e97b22eb8dfe710eeae1344f69d16e.tar.gz': Permission denied\r\nmake: *** [build] Error 1\r\n\r\n```\r\nselinux status:\r\n\r\n```\r\n[root@localhost cni]# sestatus\r\nSELinux status:                 enabled\r\nSELinuxfs mount:                /sys/fs/selinux\r\nSELinux root directory:         /etc/selinux\r\nLoaded policy name:             targeted\r\nCurrent mode:                   enforcing\r\nMode from config file:          enforcing\r\nPolicy MLS status:              enabled\r\nPolicy deny_unknown status:     allowed\r\nMax kernel policy version:      28\r\n[root@localhost cni]# \r\n```\r\n\r\ndocker version:\r\n\r\n```\r\n[root@localhost cni]# docker version\r\nClient:\r\n Version:         1.12.5\r\n API version:     1.24\r\n Package version: docker-common-1.12.5-14.el7.x86_64\r\n Go version:      go1.7.4\r\n Git commit:      047e51b/1.12.5\r\n Built:           Wed Jan 11 17:53:20 2017\r\n OS/Arch:         linux/amd64\r\n\r\nServer:\r\n Version:         1.12.5\r\n API version:     1.24\r\n Package version: docker-common-1.12.5-14.el7.x86_64\r\n Go version:      go1.7.4\r\n Git commit:      047e51b/1.12.5\r\n Built:           Wed Jan 11 17:53:20 2017\r\n OS/Arch:         linux/amd64\r\n[root@localhost cni]# \r\n```\r\n\r\n",
  "closed_at": "2017-03-27T18:54:28Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42230/comments",
  "created_at": "2017-02-28T07:22:52Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42230/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/42230",
  "id": 210707003,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42230/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMTA3MDcwMDM=",
  "number": 42230,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Failed to build cni package",
  "updated_at": "2017-03-27T18:54:28Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42230",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/12646029?v=4",
    "events_url": "https://api.github.com/users/mkumatag/events{/privacy}",
    "followers_url": "https://api.github.com/users/mkumatag/followers",
    "following_url": "https://api.github.com/users/mkumatag/following{/other_user}",
    "gists_url": "https://api.github.com/users/mkumatag/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mkumatag",
    "id": 12646029,
    "login": "mkumatag",
    "node_id": "MDQ6VXNlcjEyNjQ2MDI5",
    "organizations_url": "https://api.github.com/users/mkumatag/orgs",
    "received_events_url": "https://api.github.com/users/mkumatag/received_events",
    "repos_url": "https://api.github.com/users/mkumatag/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mkumatag/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mkumatag/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mkumatag"
  }
}
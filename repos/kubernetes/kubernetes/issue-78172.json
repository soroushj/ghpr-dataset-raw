{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/4178417?v=4",
    "events_url": "https://api.github.com/users/andyzhangx/events{/privacy}",
    "followers_url": "https://api.github.com/users/andyzhangx/followers",
    "following_url": "https://api.github.com/users/andyzhangx/following{/other_user}",
    "gists_url": "https://api.github.com/users/andyzhangx/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/andyzhangx",
    "id": 4178417,
    "login": "andyzhangx",
    "node_id": "MDQ6VXNlcjQxNzg0MTc=",
    "organizations_url": "https://api.github.com/users/andyzhangx/orgs",
    "received_events_url": "https://api.github.com/users/andyzhangx/received_events",
    "repos_url": "https://api.github.com/users/andyzhangx/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/andyzhangx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andyzhangx/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/andyzhangx"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/4178417?v=4",
      "events_url": "https://api.github.com/users/andyzhangx/events{/privacy}",
      "followers_url": "https://api.github.com/users/andyzhangx/followers",
      "following_url": "https://api.github.com/users/andyzhangx/following{/other_user}",
      "gists_url": "https://api.github.com/users/andyzhangx/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andyzhangx",
      "id": 4178417,
      "login": "andyzhangx",
      "node_id": "MDQ6VXNlcjQxNzg0MTc=",
      "organizations_url": "https://api.github.com/users/andyzhangx/orgs",
      "received_events_url": "https://api.github.com/users/andyzhangx/received_events",
      "repos_url": "https://api.github.com/users/andyzhangx/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andyzhangx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andyzhangx/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andyzhangx"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**What happened**:\r\n\r\nIn a StatefulSet where each Pod has its own persistent volume provisioned by `kubernetes.io/azure-disk`, it occasionally takes up to 30 min to detach and re-attach those disks to their node during a rollout.\r\n\r\nThe following Pod events repeat:\r\n```\r\nEvents:\r\n  Type     Reason                  Age                From                                           Message\r\n  ----     ------                  ----               ----                                           -------\r\n  Normal   Scheduled               16m                default-scheduler                              Successfully assigned default/solr-0 to k8s-cbc6kqzcb6ko-32745377-vmss00007v\r\n  Warning  FailedAttachVolume      16m (x2 over 16m)  attachdetach-controller                        AttachVolume.Attach failed for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" : Attach volume \"k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" to instance \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/283\" failed with compute.VirtualMachineScaleSetVMsClient#Update: Failure sending request: StatusCode=0 -- Original Error: autorest/azure: Service returned an error. Status=<nil> Code=\"ConflictingUserInput\" Message=\"Disk '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a' cannot be attached as the disk is already owned by VM '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/k8s-cbc6kqzcb6ko-32745377-vmss_276'.\"\r\n  Warning  FailedMount             46s (x7 over 14m)  kubelet, k8s-cbc6kqzcb6ko-32745377-vmss00007v  Unable to mount volumes for pod \"solr-0_default(c1b3af96-7bc4-11e9-9a38-000d3a46fd3c)\": timeout expired waiting for volumes to attach or mount for pod \"default\"/\"solr-0\". list of unmounted volumes=[solrhome]. list of unattached volumes=[solrhome]\r\n```\r\n\r\nA subset of the controller-manager's logs (full logs on demand):\r\n```\r\nI0521 12:34:10.278536       1 reconciler.go:230] attacherDetacher.DetachVolume started for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" (UniqueName: \"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\") on node \"k8s-cbc6kqzcb6ko-32745377-vmss00007o\" \r\nI0521 12:34:10.282306       1 operation_generator.go:1256] Verified volume is safe to detach for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" (UniqueName: \"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\") on node \"k8s-cbc6kqzcb6ko-32745377-vmss00007o\" \r\nI0521 12:34:10.282515       1 attacher.go:294] detach /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a from node \"k8s-cbc6kqzcb6ko-32745377-vmss00007o\"\r\nI0521 12:34:10.282674       1 azure_controller_vmss.go:128] azureDisk - detach disk: name \"\" uri \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\"\r\nI0521 12:34:10.282710       1 azure_controller_vmss.go:158] azureDisk - update(<resource-group>): vm(k8s-cbc6kqzcb6ko-32745377-vmss00007o) - detach disk(, /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a)\r\nI0521 12:34:10.532211       1 azure_controller_vmss.go:171] azureDisk - detach disk(, /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a) succeeded\r\nI0521 12:34:10.532255       1 attacher.go:309] azureDisk - disk:/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a was detached from node:k8s-cbc6kqzcb6ko-32745377-vmss00007o\r\nI0521 12:34:10.532424       1 operation_generator.go:420] DetachVolume.Detach succeeded for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" (UniqueName: \"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\") on node \"k8s-cbc6kqzcb6ko-32745377-vmss00007o\" \r\nI0521 12:34:20.635335       1 reconciler.go:289] attacherDetacher.AttachVolume started for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" (UniqueName: \"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\") from node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\" \r\nI0521 12:34:20.752284       1 attacher.go:92] GetDiskLun returned: Cannot find Lun for disk k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a. Initiating attaching volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" to node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\".\r\nI0521 12:34:20.752342       1 attacher.go:101] Trying to attach volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" lun 0 to node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\".\r\nI0521 12:34:20.752542       1 azure_controller_vmss.go:89] azureDisk - update(<resource-group>): vm(k8s-cbc6kqzcb6ko-32745377-vmss00007v) - attach disk(k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a, /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a)\r\nI0521 12:34:21.059063       1 attacher.go:107] Attach volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" to instance \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/283\" failed with compute.VirtualMachineScaleSetVMsClient#Update: Failure sending request: StatusCode=0 -- Original Error: autorest/azure: Service returned an error. Status=<nil> Code=\"ConflictingUserInput\" Message=\"Disk '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a' cannot be attached as the disk is already owned by VM '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/k8s-cbc6kqzcb6ko-32745377-vmss_276'.\"\r\nE0521 12:34:21.059375       1 nestedpendingoperations.go:267] Operation for \"\\\"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\\\"\" failed. No retries permitted until 2019-05-21 12:34:21.559301769 +0000 UTC m=+487478.974495562 (durationBeforeRetry 500ms). Error: \"AttachVolume.Attach failed for volume \\\"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\\\" (UniqueName: \\\"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\\\") from node \\\"k8s-cbc6kqzcb6ko-32745377-vmss00007v\\\" : Attach volume \\\"k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\\\" to instance \\\"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/283\\\" failed with compute.VirtualMachineScaleSetVMsClient#Update: Failure sending request: StatusCode=0 -- Original Error: autorest/azure: Service returned an error. Status=<nil> Code=\\\"ConflictingUserInput\\\" Message=\\\"Disk '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a' cannot be attached as the disk is already owned by VM '/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/virtualMachineScaleSets/k8s-cbc6kqzcb6ko-32745377-vmss/virtualMachines/k8s-cbc6kqzcb6ko-32745377-vmss_276'.\\\"\"\r\n```\r\n\r\nState of the disk few minutes before the attach operation succeeds, returned by the Azure API:\r\n```javascript\r\n  {\r\n    \"creationData\": {\r\n      \"createOption\": \"Empty\",\r\n      \"imageReference\": null,\r\n      \"sourceResourceId\": null,\r\n      \"sourceUri\": null,\r\n      \"storageAccountId\": null\r\n    },\r\n    \"diskIopsReadWrite\": 500,\r\n    \"diskMbpsReadWrite\": 60,\r\n    \"diskSizeGb\": 5,\r\n    \"diskState\": \"Unattached\",\r\n    \"encryptionSettingsCollection\": null,\r\n    \"hyperVgeneration\": null,\r\n    \"id\": \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\",\r\n    \"location\": \"westeurope\",\r\n    \"managedBy\": null,\r\n    \"name\": \"k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\",\r\n    \"osType\": null,\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGroup\": \"<resource-group>\",\r\n    \"sku\": {\r\n      \"name\": \"Standard_LRS\",\r\n      \"tier\": \"Standard\"\r\n    },\r\n    \"tags\": {\r\n      \"created-by\": \"kubernetes-azure-dd\",\r\n      \"kubernetes.io-created-for-pv-name\": \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\",\r\n      \"kubernetes.io-created-for-pvc-name\": \"solrhome-solr-0\",\r\n      \"kubernetes.io-created-for-pvc-namespace\": \"default\"\r\n    },\r\n    \"timeCreated\": \"2018-09-03T08:44:57.287522+00:00\",\r\n    \"type\": \"Microsoft.Compute/disks\",\r\n    \"zones\": null\r\n  }\r\n```\r\n\r\nIn this particular VMSS, each instance has at most 2 disks attached. In busy clusters, a node can have up to 5 disks attached.\r\n\r\nThe operation eventually succeeds, ~20m later in this case:\r\n```\r\nI0521 12:49:23.480621       1 attacher.go:92] GetDiskLun returned: Cannot find Lun for disk k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a. Initiating attaching volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" to node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\".\r\nI0521 12:49:23.480685       1 attacher.go:101] Trying to attach volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" lun 0 to node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\".\r\nI0521 12:49:23.480720       1 azure_controller_vmss.go:89] azureDisk - update(<resource-group>): vm(k8s-cbc6kqzcb6ko-32745377-vmss00007v) - attach disk(k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a, /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a)\r\nI0521 12:49:44.251047       1 azure_controller_vmss.go:99] azureDisk - attach disk(k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a, /subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a) succeeded\r\nI0521 12:49:44.251089       1 attacher.go:105] Attach operation successful: volume \"/subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" attached to node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\".\r\nI0521 12:49:44.251168       1 operation_generator.go:336] AttachVolume.Attach succeeded for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" (UniqueName: \"kubernetes.io/azure-disk//subscriptions/<subscription>/resourceGroups/<resource-group>/providers/Microsoft.Compute/disks/k8s-mstr-<resource-group>--pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\") from node \"k8s-cbc6kqzcb6ko-32745377-vmss00007v\" \r\nI0521 12:49:44.251385       1 event.go:221] Event(v1.ObjectReference{Kind:\"Pod\", Namespace:\"default\", Name:\"solr-0\", UID:\"c1b3af96-7bc4-11e9-9a38-000d3a46fd3c\", APIVersion:\"v1\", ResourceVersion:\"51861781\", FieldPath:\"\"}): type: 'Normal' reason: 'SuccessfulAttachVolume' AttachVolume.Attach succeeded for volume \"pvc-a28dc201-af55-11e8-9190-000d3a2e7c6a\" \r\n```\r\n\r\n**What you expected to happen**:\r\n\r\nDisks take no longer than 3 min to re-attach (the typical time it takes in our customers' environments).\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\nHere is a copy of the manifest of the affected StatefulSet:\r\n\r\n<details>\r\n<summary>solr-sts.yaml</summary>\r\n\r\n```yaml\r\napiVersion: apps/v1\r\nkind: StatefulSet\r\nmetadata:\r\n  creationTimestamp: \"2018-09-03T08:44:56Z\"\r\n  generation: 175\r\n  labels:\r\n    app.kubernetes.io/component: search\r\n    app.kubernetes.io/managed-by: hybris-operator\r\n    app.kubernetes.io/name: solr\r\n    app.kubernetes.io/part-of: hybris\r\n  name: solr\r\n  namespace: default\r\n  ownerReferences:\r\n  - apiVersion: ccv2.cx.sap.com/v1alpha1\r\n    blockOwnerDeletion: true\r\n    controller: true\r\n    kind: Hybris\r\n    name: b2c\r\n    uid: a26be078-af55-11e8-9190-000d3a2e7c6a\r\n  resourceVersion: \"51868849\"\r\n  selfLink: /apis/apps/v1/namespaces/default/statefulsets/solr\r\n  uid: a27806ab-af55-11e8-9190-000d3a2e7c6a\r\nspec:\r\n  podManagementPolicy: Parallel\r\n  replicas: 2\r\n  revisionHistoryLimit: 10\r\n  selector:\r\n    matchLabels:\r\n      app.kubernetes.io/name: solr\r\n      app.kubernetes.io/component: data\r\n  serviceName: solr\r\n  template:\r\n    metadata:\r\n      annotations:\r\n        fluentbit.io/parser: mt-solr\r\n      creationTimestamp: null\r\n      labels:\r\n        app.kubernetes.io/component: search\r\n        app.kubernetes.io/managed-by: hybris-operator\r\n        app.kubernetes.io/name: solr\r\n        app.kubernetes.io/part-of: hybris\r\n    spec:\r\n      containers:\r\n      - env:\r\n        - name: SOLR_MODE\r\n          value: slave\r\n        - name: SOLR_HEAP\r\n          value: \"1073741824\"\r\n        image: cbc6kqzcb6somecustomerz1p.azurecr.io/somecustomer/solr:20190521.2\r\n        imagePullPolicy: IfNotPresent\r\n        livenessProbe:\r\n          failureThreshold: 3\r\n          httpGet:\r\n            path: /api\r\n            port: http\r\n            scheme: HTTP\r\n          initialDelaySeconds: 720\r\n          periodSeconds: 30\r\n          successThreshold: 1\r\n          timeoutSeconds: 2\r\n        name: solr\r\n        ports:\r\n        - containerPort: 8983\r\n          name: http\r\n          protocol: TCP\r\n        readinessProbe:\r\n          failureThreshold: 1\r\n          httpGet:\r\n            path: /api\r\n            port: http\r\n            scheme: HTTP\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 30\r\n          successThreshold: 1\r\n          timeoutSeconds: 2\r\n        resources:\r\n          requests:\r\n            cpu: \"1\"\r\n            memory: 1Gi\r\n        terminationMessagePath: /dev/termination-log\r\n        terminationMessagePolicy: File\r\n        volumeMounts:\r\n        - mountPath: /var/solr\r\n          name: solrhome\r\n      dnsPolicy: ClusterFirst\r\n      restartPolicy: Always\r\n      schedulerName: default-scheduler\r\n      securityContext:\r\n        fsGroup: 20002\r\n      serviceAccount: b2c\r\n      serviceAccountName: b2c\r\n      terminationGracePeriodSeconds: 30\r\n  updateStrategy:\r\n    type: RollingUpdate\r\n  volumeClaimTemplates:\r\n  - metadata:\r\n      creationTimestamp: null\r\n      name: solrhome\r\n    spec:\r\n      accessModes:\r\n      - ReadWriteOnce\r\n      dataSource: null\r\n      resources:\r\n        requests:\r\n          storage: 5Gi\r\n    status:\r\n      phase: Pending\r\nstatus:\r\n  collisionCount: 0\r\n  currentReplicas: 2\r\n  currentRevision: solr-6c6655774b\r\n  observedGeneration: 175\r\n  readyReplicas: 2\r\n  replicas: 2\r\n  updateRevision: solr-6c6655774b\r\n  updatedReplicas: 2\r\n```\r\n\r\n</details></br>\r\n\r\nStorage class\r\n<details>\r\n<summary>default-sc.yaml</summary>\r\n\r\n```yaml\r\napiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  annotations:\r\n    kubectl.kubernetes.io/last-applied-configuration: |\r\n      {\"apiVersion\":\"storage.k8s.io/v1beta1\",\"kind\":\"StorageClass\",\"metadata\":{\"annotations\":{\"storageclass.beta.kubernetes.io/is-default-class\":\"true\"},\"labels\":{\"kubernetes.io/cluster-service\":\"true\"},\"name\":\"default\",\"namespace\":\"\"},\"parameters\":{\"cachingmode\":\"None\",\"kind\":\"Managed\",\"storageaccounttype\":\"Standard_LRS\"},\"provisioner\":\"kubernetes.io/azure-disk\"}\r\n    storageclass.beta.kubernetes.io/is-default-class: \"true\"\r\n  creationTimestamp: \"2018-09-02T08:19:03Z\"\r\n  labels:\r\n    kubernetes.io/cluster-service: \"true\"\r\n  name: default\r\n  resourceVersion: \"266\"\r\n  selfLink: /apis/storage.k8s.io/v1/storageclasses/default\r\n  uid: da416a43-ae88-11e8-b78c-000d3a2e7c6a\r\nparameters:\r\n  cachingmode: None\r\n  kind: Managed\r\n  storageaccounttype: Standard_LRS\r\nprovisioner: kubernetes.io/azure-disk\r\nreclaimPolicy: Delete\r\nvolumeBindingMode: Immediate\r\n```\r\n\r\n</details></br>\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version: v1.12.7\r\n- Cloud provider: Azure (via AKS-Engine)\r\n- OS (e.g: `cat /etc/os-release`): Ubuntu 16.04.6 LTS\r\n- Kernel: 4.15.0-1042-azure\r\n- Install tools: [aks-engine](https://github.com/Azure/aks-engine)\r\n- Network plugin and version:\r\n- Others: observed in westeurope and eastus regions\r\n\r\npaging @andyzhangx, @feiskyer\r\n\r\n/sig azure",
  "closed_at": "2019-05-28T08:02:30Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/78172/comments",
  "created_at": "2019-05-21T13:30:11Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/78172/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/78172",
  "id": 446620632,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/78172/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NDY2MjA2MzI=",
  "number": 78172,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Detached Azure Disks never re-attach ",
  "updated_at": "2019-06-03T18:12:16Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/78172",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/3299086?v=4",
    "events_url": "https://api.github.com/users/antoineco/events{/privacy}",
    "followers_url": "https://api.github.com/users/antoineco/followers",
    "following_url": "https://api.github.com/users/antoineco/following{/other_user}",
    "gists_url": "https://api.github.com/users/antoineco/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/antoineco",
    "id": 3299086,
    "login": "antoineco",
    "node_id": "MDQ6VXNlcjMyOTkwODY=",
    "organizations_url": "https://api.github.com/users/antoineco/orgs",
    "received_events_url": "https://api.github.com/users/antoineco/received_events",
    "repos_url": "https://api.github.com/users/antoineco/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/antoineco/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/antoineco/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/antoineco"
  }
}
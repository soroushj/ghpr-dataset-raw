{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20855209?v=4",
    "events_url": "https://api.github.com/users/CaoShuFeng/events{/privacy}",
    "followers_url": "https://api.github.com/users/CaoShuFeng/followers",
    "following_url": "https://api.github.com/users/CaoShuFeng/following{/other_user}",
    "gists_url": "https://api.github.com/users/CaoShuFeng/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/CaoShuFeng",
    "id": 20855209,
    "login": "CaoShuFeng",
    "node_id": "MDQ6VXNlcjIwODU1MjA5",
    "organizations_url": "https://api.github.com/users/CaoShuFeng/orgs",
    "received_events_url": "https://api.github.com/users/CaoShuFeng/received_events",
    "repos_url": "https://api.github.com/users/CaoShuFeng/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/CaoShuFeng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CaoShuFeng/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/CaoShuFeng"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/20855209?v=4",
      "events_url": "https://api.github.com/users/CaoShuFeng/events{/privacy}",
      "followers_url": "https://api.github.com/users/CaoShuFeng/followers",
      "following_url": "https://api.github.com/users/CaoShuFeng/following{/other_user}",
      "gists_url": "https://api.github.com/users/CaoShuFeng/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/CaoShuFeng",
      "id": 20855209,
      "login": "CaoShuFeng",
      "node_id": "MDQ6VXNlcjIwODU1MjA5",
      "organizations_url": "https://api.github.com/users/CaoShuFeng/orgs",
      "received_events_url": "https://api.github.com/users/CaoShuFeng/received_events",
      "repos_url": "https://api.github.com/users/CaoShuFeng/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/CaoShuFeng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CaoShuFeng/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/CaoShuFeng"
    }
  ],
  "author_association": "NONE",
  "body": "Ref https://github.com/kubernetes/kubernetes/issues/48561\r\n\r\nCurrently, there's a [`Timestamp`](https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/pkg/apis/audit/types.go#L88) field in the `audit.Event` object, which represents `Time the request reached the apiserver.`. There're several problems with it:\r\n\r\n1. Since auditing process has several stages, each one generating a separate event object in the sink, name can be confusing: a person can understand it as a timestamp of the last auditing process stage.\r\n1. There's another field in the Event, inherited from the ObjectMeta: `CreationTimestamps`. It's also confusing what it means: either the same what `Timestamp` currently means or the stage timestmap.\r\n1. CreationTimestamp has seconds precision.\r\n1. Currently CreationTimestamp is not populated and left as nil in the serialized object.\r\n1. Currently there's no stage timestamp in the object, so it's not possible to understand from the last audit object, how much time the request took: you have to correlate events by the `AuditId` (which can be spoofed).\r\n\r\nWe agreed that the @soltysh's PR (https://github.com/kubernetes/kubernetes/pull/52030) will addressed the latter two points by populating the `CreationTimestamp` field with the stage timestamp, exposing this information and making `CreationTimestamp` field useful. However, that doesn't solve the problem of ambiguous names or `CreationTimestamp` precision. There are three options:\r\n\r\n1. Leave it as it is.\r\n1. Rename `Timestamp` field e.g. to `RequestStartTimestamp`\r\n1. Remove `Timestamp` field, introduce two new fields `RequestStartTimestamp` and `StageTimestamp` and remove `ObjectMeta`. This is the only option that will allow to use timestamps to make an accurate estimation of how much time the request took, since `CreationTimestamp` has only seconds precision.\r\n\r\nRenaming/removing field ofc will happen in the backward-compatible way, by creating a new field that will hold the same value and then actually removing the field in the next API release.\r\n\r\nBecause of the precision problem, the last options seems like the best approach.\r\n\r\n/cc @sttts @soltysh @ericchiang @CaoShuFeng",
  "closed_at": "2017-10-12T15:28:44Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52160/comments",
  "created_at": "2017-09-08T10:11:52Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52160/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/52160",
  "id": 256206047,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 680704582,
      "name": "area/audit",
      "node_id": "MDU6TGFiZWw2ODA3MDQ1ODI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/audit"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to cleaning up code, process, or technical debt.",
      "id": 122775691,
      "name": "kind/cleanup",
      "node_id": "MDU6TGFiZWwxMjI3NzU2OTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/cleanup"
    },
    {
      "color": "ededed",
      "default": false,
      "description": null,
      "id": 687345274,
      "name": "milestone/removed",
      "node_id": "MDU6TGFiZWw2ODczNDUyNzQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/milestone/removed"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Important over the long term, but may not be staffed and/or may need multiple releases to complete.",
      "id": 496752236,
      "name": "priority/important-longterm",
      "node_id": "MDU6TGFiZWw0OTY3NTIyMzY=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-longterm"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Auth.",
      "id": 357119284,
      "name": "sig/auth",
      "node_id": "MDU6TGFiZWwzNTcxMTkyODQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/auth"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52160/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNTYyMDYwNDc=",
  "number": 52160,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "[audit] Figure out timestamps in event objects",
  "updated_at": "2017-10-12T15:28:44Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52160",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1756505?v=4",
    "events_url": "https://api.github.com/users/crassirostris/events{/privacy}",
    "followers_url": "https://api.github.com/users/crassirostris/followers",
    "following_url": "https://api.github.com/users/crassirostris/following{/other_user}",
    "gists_url": "https://api.github.com/users/crassirostris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/crassirostris",
    "id": 1756505,
    "login": "crassirostris",
    "node_id": "MDQ6VXNlcjE3NTY1MDU=",
    "organizations_url": "https://api.github.com/users/crassirostris/orgs",
    "received_events_url": "https://api.github.com/users/crassirostris/received_events",
    "repos_url": "https://api.github.com/users/crassirostris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/crassirostris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/crassirostris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/crassirostris"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- This form is for bug reports and feature requests ONLY! \r\n\r\nIf you're looking for help check [Stack Overflow](https://stackoverflow.com/questions/tagged/kubernetes) and the [troubleshooting guide](https://kubernetes.io/docs/tasks/debug-application-cluster/troubleshooting/).\r\n-->\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n\r\n> Uncomment only one, leave it on its own line: \r\n>\r\n /kind bug\r\n> /kind feature\r\n\r\n\r\n**What happened**:\r\nDeployment condition doesn't indicate that its replicas are not being ready\r\n\r\n**What you expected to happen**:\r\n\r\nCondition to reflect that replicas are not ready\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n* Create a deployment with invalid image; used `kubectl run test --image=nginx123`\r\n* Pod gets stuck in ImagePullBackOff loop\r\n* Deployment status is controversial - status.Conditions[MinimumReplicasAvailable]=true while \"unavailableReplicas\": 1\r\n\r\n\r\n```\r\n \"status\": {\r\n        \"conditions\": [\r\n            {\r\n                \"lastTransitionTime\": \"2018-03-14T22:59:11Z\",\r\n                \"lastUpdateTime\": \"2018-03-14T22:59:11Z\",\r\n                \"message\": \"Deployment has minimum availability.\",\r\n                \"reason\": \"MinimumReplicasAvailable\",\r\n                \"status\": \"True\",\r\n                \"type\": \"Available\"\r\n            }\r\n        ],\r\n        \"observedGeneration\": 1,\r\n        \"replicas\": 1,\r\n        \"unavailableReplicas\": 1,\r\n        \"updatedReplicas\": 1\r\n    }\r\n```\r\n\r\n\r\n**Anything else we need to know?**:\r\n\r\nWe do a lot of integration work with k8s, and rely on conditions to reflect the object state, in somewhat generic manner. It doesn't work for this particular use case as the condition says the deployment is ready, while it is not quite true.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`): v1.9.2-gke.1\r\n- Cloud provider or hardware configuration: GKE\r\n- OS (e.g. from /etc/os-release):\r\n- Kernel (e.g. `uname -a`):\r\n- Install tools:\r\n- Others:\r\n\r\n/sig apps",
  "closed_at": "2018-04-12T11:13:57Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/61205/comments",
  "created_at": "2018-03-14T23:35:28Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/61205/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/61205",
  "id": 305365843,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Apps.",
      "id": 404091735,
      "name": "sig/apps",
      "node_id": "MDU6TGFiZWw0MDQwOTE3MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/apps"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/61205/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMDUzNjU4NDM=",
  "number": 61205,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Deployment \"MinimumReplicasAvailable\" is True when \"unavailableReplicas\" > 0",
  "updated_at": "2018-04-12T11:13:57Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/61205",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1562176?v=4",
    "events_url": "https://api.github.com/users/alena1108/events{/privacy}",
    "followers_url": "https://api.github.com/users/alena1108/followers",
    "following_url": "https://api.github.com/users/alena1108/following{/other_user}",
    "gists_url": "https://api.github.com/users/alena1108/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/alena1108",
    "id": 1562176,
    "login": "alena1108",
    "node_id": "MDQ6VXNlcjE1NjIxNzY=",
    "organizations_url": "https://api.github.com/users/alena1108/orgs",
    "received_events_url": "https://api.github.com/users/alena1108/received_events",
    "repos_url": "https://api.github.com/users/alena1108/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/alena1108/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alena1108/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/alena1108"
  }
}
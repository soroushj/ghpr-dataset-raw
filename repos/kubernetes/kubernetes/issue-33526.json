{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "[kubelet.makeMounts](https://github.com/kubernetes/kubernetes/blob/v1.5.0-alpha.0/pkg/kubelet/kubelet.go#L1207) is a help function that runs during each container creation.\nIt takes a **pod spec**, and a **container spec** to generate **kubecontainer.Mount (name, container-path, host-path, readonly, selinux_relabel)** by matching the container spec's [volume mount](https://github.com/kubernetes/kubernetes/blob/v1.5.0-alpha.0/pkg/api/types.go#L882-L893) to the pod spec's [volumes](https://github.com/kubernetes/kubernetes/blob/v1.5.0-alpha.0/pkg/api/types.go#L172-L181).\n\nBut meanwhile, it's also generating arbitrary **kubecontainer.Mount** that has no corresponding volumes in the pod spec, such as [mounting host machine's /etc/hosts](https://github.com/kubernetes/kubernetes/blob/v1.5.0-alpha.0/pkg/kubelet/kubelet.go#L1247-L1252).\n\nThus when runtime tries to look for the volumes by the volume name in the [interface](https://github.com/kubernetes/kubernetes/blob/v1.5.0-alpha.0/pkg/kubelet/api/v1alpha1/runtime/api.proto#L104), it cannot find any volumes.\n\nAnother issue is if container spec defines a `subPath` in the volume mount, then we will end up with two **kubecontainer.Mount** that have same names, same container paths, but different host paths. This is not supported by rkt as one volume name should map to one host path.\n\nSo the action required here is:\n**Option 1**: Generate correct volumes for these arbitrary mounts and subpath mounts, and pass them through `PodSandboxConfig` during the creation of the sandbox. Later it passes the runtime the mounts object (volume_name, container_path), and runtime is able to do the correct mounts by finding the volumes through names.\n\nThis implies the mounts for each apps within the sand box must have a pre-established volumes.\n\n**Option 2**: Remove the mount name, or at least change that to not be the volume name. Require runtime to support mounting any **container-path:host-path** pairs, basically requires runtime to **know nothing about volumes**\n\ncc @yujuhong @feiskyer @euank @alban @lucab @jonboulle\n",
  "closed_at": "2016-10-05T00:08:21Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33526/comments",
  "created_at": "2016-09-27T02:08:42Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33526/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/33526",
  "id": 179380862,
  "labels": [
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33526/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNzkzODA4NjI=",
  "number": 33526,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "kubelet.makeMounts() is mixing the usage of the kubecontainer.Mount.Name",
  "updated_at": "2016-10-05T00:08:21Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33526",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/3278588?v=4",
    "events_url": "https://api.github.com/users/yifan-gu/events{/privacy}",
    "followers_url": "https://api.github.com/users/yifan-gu/followers",
    "following_url": "https://api.github.com/users/yifan-gu/following{/other_user}",
    "gists_url": "https://api.github.com/users/yifan-gu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yifan-gu",
    "id": 3278588,
    "login": "yifan-gu",
    "node_id": "MDQ6VXNlcjMyNzg1ODg=",
    "organizations_url": "https://api.github.com/users/yifan-gu/orgs",
    "received_events_url": "https://api.github.com/users/yifan-gu/received_events",
    "repos_url": "https://api.github.com/users/yifan-gu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yifan-gu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yifan-gu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yifan-gu"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
    "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
    "followers_url": "https://api.github.com/users/bsalamat/followers",
    "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bsalamat",
    "id": 14308438,
    "login": "bsalamat",
    "node_id": "MDQ6VXNlcjE0MzA4NDM4",
    "organizations_url": "https://api.github.com/users/bsalamat/orgs",
    "received_events_url": "https://api.github.com/users/bsalamat/received_events",
    "repos_url": "https://api.github.com/users/bsalamat/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bsalamat"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/1701782?v=4",
      "events_url": "https://api.github.com/users/resouer/events{/privacy}",
      "followers_url": "https://api.github.com/users/resouer/followers",
      "following_url": "https://api.github.com/users/resouer/following{/other_user}",
      "gists_url": "https://api.github.com/users/resouer/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/resouer",
      "id": 1701782,
      "login": "resouer",
      "node_id": "MDQ6VXNlcjE3MDE3ODI=",
      "organizations_url": "https://api.github.com/users/resouer/orgs",
      "received_events_url": "https://api.github.com/users/resouer/received_events",
      "repos_url": "https://api.github.com/users/resouer/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/resouer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/resouer/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/resouer"
    },
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/1796778?v=4",
      "events_url": "https://api.github.com/users/misterikkit/events{/privacy}",
      "followers_url": "https://api.github.com/users/misterikkit/followers",
      "following_url": "https://api.github.com/users/misterikkit/following{/other_user}",
      "gists_url": "https://api.github.com/users/misterikkit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/misterikkit",
      "id": 1796778,
      "login": "misterikkit",
      "node_id": "MDQ6VXNlcjE3OTY3Nzg=",
      "organizations_url": "https://api.github.com/users/misterikkit/orgs",
      "received_events_url": "https://api.github.com/users/misterikkit/received_events",
      "repos_url": "https://api.github.com/users/misterikkit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/misterikkit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/misterikkit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/misterikkit"
    },
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
      "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
      "followers_url": "https://api.github.com/users/bsalamat/followers",
      "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
      "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bsalamat",
      "id": 14308438,
      "login": "bsalamat",
      "node_id": "MDQ6VXNlcjE0MzA4NDM4",
      "organizations_url": "https://api.github.com/users/bsalamat/orgs",
      "received_events_url": "https://api.github.com/users/bsalamat/received_events",
      "repos_url": "https://api.github.com/users/bsalamat/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bsalamat"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- This form is for bug reports and feature requests ONLY!\r\n\r\nIf you're looking for help check [Stack Overflow](https://stackoverflow.com/questions/tagged/kubernetes) and the [troubleshooting guide](https://kubernetes.io/docs/tasks/debug-application-cluster/troubleshooting/).\r\n\r\nIf this may be security issue, please disclose it privately via https://kubernetes.io/security/.\r\n-->\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n\r\n**What happened**:\r\n\r\n When enable the equivalence cache feature which make the pod scheduling performance decline.\r\n\r\n**What you expected to happen**:\r\n\r\nWhat i think is that when i enable the cache, it should enhance the performance of kube-scheduler.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n- Got a physical machine which is 32 CPUs  and 64 GB Memory\r\n\r\n- Enable equivalence cache feature\r\n\r\n- Schedule 3000 Pods On 3000 Nodes\r\n\r\n- Use schduler_perf to run an integration test\r\n\r\n**Anything else we need to know?**:\r\n\r\nEnable cache: 60+/s\r\nDisable cache: 100+/s\r\n\r\nDefaults predicates do not cost too much time than ecache.Get right now.\r\n\r\nPodFitsOnNodes which is a hot spot function, we use mutex.Lock in the this function will make it slow, especially parallel processing. \r\n\r\nWhat's the plan of equivalence cache feature? At least now\uff0cif we enable ecache which is really make the performance decline.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`): v1.9.3\r\n- Cloud provider or hardware configuration: linux 32cpus and 64gb mem \r\n- OS (e.g. from /etc/os-release):\r\n- Kernel (e.g. `uname -a`): Linux dev 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n- Install tools:\r\n- Others:\r\n\r\n/sig scheduling\r\n\r\n/assign @bsalamat \r\n/assign @resouer \r\n/assign @misterikkit\r\n",
  "closed_at": "2018-07-19T23:16:02Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 23,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/63784/comments",
  "created_at": "2018-05-14T10:47:50Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/63784/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/63784",
  "id": 322764364,
  "labels": [
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/63784/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMjI3NjQzNjQ=",
  "number": 63784,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": " When enable the equivalence cache feature which makes the pod scheduling performance decline",
  "updated_at": "2018-07-20T09:07:47Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/63784",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/10972761?v=4",
    "events_url": "https://api.github.com/users/godliness/events{/privacy}",
    "followers_url": "https://api.github.com/users/godliness/followers",
    "following_url": "https://api.github.com/users/godliness/following{/other_user}",
    "gists_url": "https://api.github.com/users/godliness/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/godliness",
    "id": 10972761,
    "login": "godliness",
    "node_id": "MDQ6VXNlcjEwOTcyNzYx",
    "organizations_url": "https://api.github.com/users/godliness/orgs",
    "received_events_url": "https://api.github.com/users/godliness/received_events",
    "repos_url": "https://api.github.com/users/godliness/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/godliness/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/godliness/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/godliness"
  }
}
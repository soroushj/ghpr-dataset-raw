{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n/kind feature\r\n\r\n**What happened**:\r\nThe scheduler currently does not have a priority function to properly spread out pods that request PVCs. In the absence of such a priority function, scheduling of pods with PVCs could be skewed resulting in:\r\n - some nodes exhaust their allocatable PVC limits, while still having enough schedulable cpu/memory resources\r\n - some nodes have enough available PVC mount points, but have exhausted their schedulable cpu/memory resources\r\n\r\nIf the above happens, we get into a state of inefficient node utilization.\r\n\r\n**What you expected to happen**:\r\nPVCs should be considered as a resource within the balanced resource utilization (BRU) priority function. Instead of the current algorithm in place within the BRU priority function, we could consider using standard deviation to allow more than 2 resources to be balanced across nodes. Input values for the standard deviation calculation could be the fractions/ratios of the scheduled->capacity for the resources (memory, cpu, and pvc).\r\n\r\nAlternately, a separate priority function could be considered for just PVCs - whatever makes more sense.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n**Anything else we need to know?**:\r\nThe PVC resource should also be considered in the \"least requested\" priority function.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):  Any\r\n- Cloud provider or hardware configuration: AWS/Azure/GCP\r\n- OS (e.g. from /etc/os-release): Any\r\n- Kernel (e.g. `uname -a`): Any\r\n- Install tools: N/A\r\n- Others:\r\n",
  "closed_at": "2018-03-31T03:13:15Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 14,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/58232/comments",
  "created_at": "2018-01-12T23:55:46Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/58232/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/58232",
  "id": 288279789,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Storage.",
      "id": 169428334,
      "name": "sig/storage",
      "node_id": "MDU6TGFiZWwxNjk0MjgzMzQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/storage"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/58232/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyODgyNzk3ODk=",
  "number": 58232,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Considering PVC as a resource for balanced resource utilization in the scheduler",
  "updated_at": "2018-03-31T03:13:15Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/58232",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1211613?v=4",
    "events_url": "https://api.github.com/users/abhgupta/events{/privacy}",
    "followers_url": "https://api.github.com/users/abhgupta/followers",
    "following_url": "https://api.github.com/users/abhgupta/following{/other_user}",
    "gists_url": "https://api.github.com/users/abhgupta/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/abhgupta",
    "id": 1211613,
    "login": "abhgupta",
    "node_id": "MDQ6VXNlcjEyMTE2MTM=",
    "organizations_url": "https://api.github.com/users/abhgupta/orgs",
    "received_events_url": "https://api.github.com/users/abhgupta/received_events",
    "repos_url": "https://api.github.com/users/abhgupta/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/abhgupta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abhgupta/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/abhgupta"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "We have been running a Kube cluster on 1.2-alpha.7 for quite a while with no problems.\nNow trying to upgrade to Kube 1.2-beta.1 the pods end up in a restart loop and never come online.\nThe upgrade is done via a complete reinstall of OS and Kubernetes and the issue has been recreated several times by upgrading and downgrading between alpha.7 and beta-1\n\nOS: Centos 7.2\nDocker: 1.9.1\nKube version: 1.2-beta.1\nCNI Provider: calico cni 1.1.0 / calicoctl: 0.17.0\n\nkubectl --namespace=kube-system get pod -o wide\n\n```\nNAME                     READY     STATUS    RESTARTS   AGE       NODE\nkube-dns-v10-0nh1i       3/4       Running   68         20m       srv07\nkube-dns-v10-vfj6d       3/4       Running   60         20m       srv05\nkube-registry-v0-m0or6   1/1       Running   44         20m       srv05\nkube-ui-v5-gxs27         1/1       Running   197        20m       srv04\n```\n\nkubectl get events for one pod\n\n```\n FirstSeen  LastSeen    Count   From            SubobjectPath           Type        Reason          Message\n  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500    \u2500\u2500\u2500\u2500\u2500 \u2500\u2500\u2500\u2500            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500         \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500    \u2500\u2500\u2500\u2500\u2500\u2500          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  11m       10m     5   {default-scheduler }                    Warning     FailedScheduling    no nodes available to schedule pods\n  10m       10m     1   {default-scheduler }                    Normal      Scheduled       Successfully assigned kube-dns-v10-0nh1i to srv07\n  10m       10m     1   {kubelet srv07}     spec.containers{etcd}       Normal      Pulling         pulling image \"gcr.io/google_containers/etcd:2.0.9\"\n  10m       10m     1   {kubelet srv07}     spec.containers{etcd}       Normal      Pulled          Successfully pulled image \"gcr.io/google_containers/etcd:2.0.9\"\n  10m       10m     1   {kubelet srv07}     spec.containers{etcd}       Normal      Created         Created container with docker id 3efd24477ee2\n  10m       10m     1   {kubelet srv07}     spec.containers{etcd}       Normal      Started         Started container with docker id 3efd24477ee2\n  10m       10m     1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Pulling         pulling image \"gcr.io/google_containers/kube2sky:1.12\"\n  10m       10m     1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Pulled          Successfully pulled image \"gcr.io/google_containers/kube2sky:1.12\"\n  10m       10m     1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Created         Created container with docker id f6ce0663c34b\n  10m       10m     1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Started         Started container with docker id f6ce0663c34b\n  10m       10m     1   {kubelet srv07}     spec.containers{skydns}     Normal      Pulling         pulling image \"gcr.io/google_containers/skydns:2015-10-13-8c72f8c\"\n  9m        9m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Pulled          Successfully pulled image \"gcr.io/google_containers/skydns:2015-10-13-8c72f8c\"\n  9m        9m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Created         Created container with docker id bf3ecc042ffd\n  9m        9m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Started         Started container with docker id bf3ecc042ffd\n  9m        9m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Pulling         pulling image \"gcr.io/google_containers/exechealthz:1.0\"\n  9m        9m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Pulled          Successfully pulled image \"gcr.io/google_containers/exechealthz:1.0\"\n  9m        9m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Created         Created container with docker id 28a0783cf48f\n  8m        8m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Started         Started container with docker id 28a0783cf48f\n  8m        8m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Killing         Killing container with docker id bf3ecc042ffd: Need to kill pod.\n  8m        8m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Killing         Killing container with docker id f6ce0663c34b: Need to kill pod.\n  8m        8m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Killing         Killing container with docker id 28a0783cf48f: Need to kill pod.\n  8m        8m      1   {kubelet srv07}     spec.containers{etcd}       Normal      Killing         Killing container with docker id 3efd24477ee2: Need to kill pod.\n  8m        8m      1   {kubelet srv07}     spec.containers{etcd}       Normal      Created         Created container with docker id f37dd5c64348\n  8m        8m      1   {kubelet srv07}     spec.containers{etcd}       Normal      Started         Started container with docker id f37dd5c64348\n  8m        8m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Created         Created container with docker id bf2c1a408754\n  8m        8m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Started         Started container with docker id bf2c1a408754\n  8m        8m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Created         Created container with docker id 0668fa66b8f7\n  8m        8m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Started         Started container with docker id 0668fa66b8f7\n  8m        8m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Created         Created container with docker id 739e3f9c828d\n  7m        7m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Started         Started container with docker id 739e3f9c828d\n  7m        7m      1   {kubelet srv07}     spec.containers{etcd}       Normal      Killing         Killing container with docker id f37dd5c64348: Need to kill pod.\n  7m        7m      1   {kubelet srv07}     spec.containers{healthz}    Normal      Killing         Killing container with docker id 739e3f9c828d: Need to kill pod.\n  7m        7m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Killing         Killing container with docker id bf2c1a408754: Need to kill pod.\n  7m        7m      1   {kubelet srv07}     spec.containers{skydns}     Normal      Killing         Killing container with docker id 0668fa66b8f7: Need to kill pod.\n  7m        7m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Created         Created container with docker id b208af539d35\n  7m        7m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Started         Started container with docker id b208af539d35\n  6m        6m      1   {kubelet srv07}     spec.containers{kube2sky}   Normal      Killing         Killing container with docker id b208af539d35: Need to kill pod.\n```\n\njournalctl -xn 200 -u kubelet  (kubelet running with -v=5)\n\nI can't see anything weird in the logs for the API Server, Scheduler or Controller Manager\n",
  "closed_at": "2016-03-16T16:23:52Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/8093535?v=4",
    "events_url": "https://api.github.com/users/eparis/events{/privacy}",
    "followers_url": "https://api.github.com/users/eparis/followers",
    "following_url": "https://api.github.com/users/eparis/following{/other_user}",
    "gists_url": "https://api.github.com/users/eparis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/eparis",
    "id": 8093535,
    "login": "eparis",
    "node_id": "MDQ6VXNlcjgwOTM1MzU=",
    "organizations_url": "https://api.github.com/users/eparis/orgs",
    "received_events_url": "https://api.github.com/users/eparis/received_events",
    "repos_url": "https://api.github.com/users/eparis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/eparis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eparis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/eparis"
  },
  "comments": 60,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22932/comments",
  "created_at": "2016-03-14T08:48:38Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22932/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/22932",
  "id": 140611705,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Highest priority. Must be actively worked on as someone's top priority right now.",
      "id": 114528068,
      "name": "priority/critical-urgent",
      "node_id": "MDU6TGFiZWwxMTQ1MjgwNjg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/critical-urgent"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22932/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2016-06-13T20:32:18Z",
    "closed_issues": 1052,
    "created_at": "2015-08-29T03:54:16Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7725777?v=4",
      "events_url": "https://api.github.com/users/bgrant0607/events{/privacy}",
      "followers_url": "https://api.github.com/users/bgrant0607/followers",
      "following_url": "https://api.github.com/users/bgrant0607/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgrant0607/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bgrant0607",
      "id": 7725777,
      "login": "bgrant0607",
      "node_id": "MDQ6VXNlcjc3MjU3Nzc=",
      "organizations_url": "https://api.github.com/users/bgrant0607/orgs",
      "received_events_url": "https://api.github.com/users/bgrant0607/received_events",
      "repos_url": "https://api.github.com/users/bgrant0607/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bgrant0607/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgrant0607/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bgrant0607"
    },
    "description": "https://github.com/kubernetes/kubernetes/wiki/Release-1.2",
    "due_on": "2016-03-16T07:00:00Z",
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/15",
    "id": 1278499,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/15/labels",
    "node_id": "MDk6TWlsZXN0b25lMTI3ODQ5OQ==",
    "number": 15,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.2",
    "updated_at": "2019-02-01T18:23:53Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/15"
  },
  "node_id": "MDU6SXNzdWUxNDA2MTE3MDU=",
  "number": 22932,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Pods not starting on Kubernetes 1.2-beta.1 with CNI",
  "updated_at": "2016-07-04T16:55:02Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22932",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/608607?v=4",
    "events_url": "https://api.github.com/users/tobad357/events{/privacy}",
    "followers_url": "https://api.github.com/users/tobad357/followers",
    "following_url": "https://api.github.com/users/tobad357/following{/other_user}",
    "gists_url": "https://api.github.com/users/tobad357/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/tobad357",
    "id": 608607,
    "login": "tobad357",
    "node_id": "MDQ6VXNlcjYwODYwNw==",
    "organizations_url": "https://api.github.com/users/tobad357/orgs",
    "received_events_url": "https://api.github.com/users/tobad357/received_events",
    "repos_url": "https://api.github.com/users/tobad357/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/tobad357/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tobad357/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/tobad357"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1756505?v=4",
    "events_url": "https://api.github.com/users/crassirostris/events{/privacy}",
    "followers_url": "https://api.github.com/users/crassirostris/followers",
    "following_url": "https://api.github.com/users/crassirostris/following{/other_user}",
    "gists_url": "https://api.github.com/users/crassirostris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/crassirostris",
    "id": 1756505,
    "login": "crassirostris",
    "node_id": "MDQ6VXNlcjE3NTY1MDU=",
    "organizations_url": "https://api.github.com/users/crassirostris/orgs",
    "received_events_url": "https://api.github.com/users/crassirostris/received_events",
    "repos_url": "https://api.github.com/users/crassirostris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/crassirostris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/crassirostris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/crassirostris"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756505?v=4",
      "events_url": "https://api.github.com/users/crassirostris/events{/privacy}",
      "followers_url": "https://api.github.com/users/crassirostris/followers",
      "following_url": "https://api.github.com/users/crassirostris/following{/other_user}",
      "gists_url": "https://api.github.com/users/crassirostris/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/crassirostris",
      "id": 1756505,
      "login": "crassirostris",
      "node_id": "MDQ6VXNlcjE3NTY1MDU=",
      "organizations_url": "https://api.github.com/users/crassirostris/orgs",
      "received_events_url": "https://api.github.com/users/crassirostris/received_events",
      "repos_url": "https://api.github.com/users/crassirostris/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/crassirostris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/crassirostris/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/crassirostris"
    }
  ],
  "author_association": "NONE",
  "body": "When e2e test es_cluster_logging runs with default configuration in gce, everything works.\n\nIf you set nodes os to gci, test becomes flaky if works at all (#32804)\n\nElasticsearch logs shows that after that change initialization time grows significantly, which can be reason behind flakiness\n\nThe question is why gci as a host os influences elasticsearch.\n## With debian as node os\n### How to reproduce on GCE\n\n```\nKUBE_NODE_OS_DISTRIBUTION=\ngo run hack/e2e.go -v --build && go run hack/e2e.go -v --up && go run hack/e2e.go -v --test --test_args=\"--ginkgo.focus=\\[Feature:Elasticsearch\\]\"\n```\n### Elasticsearch master\n\n```\n[2016-09-20 16:23:13,071][INFO ][node                     ] [War Machine] version[1.5.2], pid[12], build[62ff986/2015-04-27T09:21:06Z]\n[2016-09-20 16:23:13,072][INFO ][node                     ] [War Machine] initializing ...\n[2016-09-20 16:23:13,079][INFO ][plugins                  ] [War Machine] loaded [], sites []\n[2016-09-20 16:23:17,920][INFO ][node                     ] [War Machine] initialized\n[2016-09-20 16:23:17,921][INFO ][node                     ] [War Machine] starting ...\n[2016-09-20 16:23:18,199][INFO ][transport                ] [War Machine] bound_address {inet[/0:0:0:0:0:0:0:0:9300]}, publish_address {inet[/10.180.1.4:9300]}\n[2016-09-20 16:23:18,218][INFO ][discovery                ] [War Machine] kubernetes-logging/SlNHnbplQqCC41zSfcZHvg\n[2016-09-20 16:23:21,343][INFO ][cluster.service          ] [War Machine] new_master [War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true}, reason: zen-disco-join (elected_as_master)\n[2016-09-20 16:23:21,387][INFO ][http                     ] [War Machine] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/10.180.1.4:9200]}\n[2016-09-20 16:23:21,387][INFO ][node                     ] [War Machine] started\n[2016-09-20 16:23:23,405][INFO ][cluster.service          ] [War Machine] added {[Gravity][oDQ1pUwDSpOTQye0RPsdqA][elasticsearch-logging-v1-7ivli][inet[/10.180.2.4:9300]]{master=true},}, reason: zen-disco-receive(join from node[[Gravity][oDQ1pUwDSpOTQye0RPsdqA][elasticsearch-logging-v1-7ivli][inet[/10.180.2.4:9300]]{master=true}])\n```\n\n~00:10 to start\n### Elasticsearch non-master\n\n```\n[2016-09-20 16:23:05,620][INFO ][node                     ] [Gravity] version[1.5.2], pid[11], build[62ff986/2015-04-27T09:21:06Z]\n[2016-09-20 16:23:05,644][INFO ][node                     ] [Gravity] initializing ...\n[2016-09-20 16:23:05,657][INFO ][plugins                  ] [Gravity] loaded [], sites []\n[2016-09-20 16:23:10,413][INFO ][node                     ] [Gravity] initialized\n[2016-09-20 16:23:10,414][INFO ][node                     ] [Gravity] starting ...\n[2016-09-20 16:23:10,738][INFO ][transport                ] [Gravity] bound_address {inet[/0:0:0:0:0:0:0:0:9300]}, publish_address {inet[/10.180.2.4:9300]}\n[2016-09-20 16:23:10,761][INFO ][discovery                ] [Gravity] kubernetes-logging/oDQ1pUwDSpOTQye0RPsdqA\n[2016-09-20 16:23:20,371][INFO ][discovery.zen            ] [Gravity] failed to send join request to master [[War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true}], reason [RemoteTransportException[[War Machine][inet[/10.180.1.4:9300]][internal:discovery/zen/join]]; nested: ElasticsearchIllegalStateException[Node [[War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true}] not master for join request from [[Gravity][oDQ1pUwDSpOTQye0RPsdqA][elasticsearch-logging-v1-7ivli][inet[/10.180.2.4:9300]]{master=true}]]; ], tried [3] times\n[2016-09-20 16:23:23,446][INFO ][cluster.service          ] [Gravity] detected_master [War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true}, added {[War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true},}, reason: zen-disco-receive(from master [[War Machine][SlNHnbplQqCC41zSfcZHvg][elasticsearch-logging-v1-7v3sy][inet[/10.180.1.4:9300]]{master=true}])\n[2016-09-20 16:23:23,489][INFO ][http                     ] [Gravity] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/10.180.2.4:9200]}\n[2016-09-20 16:23:23,516][INFO ][node                     ] [Gravity] started\n```\n\n~00:18 to start\n## With gci as node os\n### How to reproduce on GCE\n\n```\nKUBE_NODE_OS_DISTRIBUTION=gci\ngo run hack/e2e.go -v --build && go run hack/e2e.go -v --up && go run hack/e2e.go -v --test --test_args=\"--ginkgo.focus=\\[Feature:Elasticsearch\\]\"\n```\n### Elasticsearch master\n\n```\n[2016-09-20 14:12:46,659][INFO ][node                     ] [Lorelei Travis] version[1.5.2], pid[13], build[62ff986/2015-04-27T09:21:06Z]\n[2016-09-20 14:12:46,660][INFO ][node                     ] [Lorelei Travis] initializing ...\n[2016-09-20 14:12:46,757][INFO ][plugins                  ] [Lorelei Travis] loaded [], sites []\n[2016-09-20 14:13:13,555][INFO ][node                     ] [Lorelei Travis] initialized\n[2016-09-20 14:13:13,556][INFO ][node                     ] [Lorelei Travis] starting ...\n[2016-09-20 14:13:15,558][INFO ][transport                ] [Lorelei Travis] bound_address {inet[/0:0:0:0:0:0:0:0:9300]}, publish_address {inet[/10.180.3.5:9300]}\n[2016-09-20 14:13:15,757][INFO ][discovery                ] [Lorelei Travis] kubernetes-logging/kzRDsOVNRs2OQNj2dmgglA\n[2016-09-20 14:13:19,758][INFO ][cluster.service          ] [Lorelei Travis] new_master [Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true}, reason: zen-disco-join (elected_as_master)\n[2016-09-20 14:13:19,955][INFO ][http                     ] [Lorelei Travis] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/10.180.3.5:9200]}\n[2016-09-20 14:13:19,956][INFO ][node                     ] [Lorelei Travis] started\n[2016-09-20 14:13:21,458][INFO ][cluster.service          ] [Lorelei Travis] added {[Scarlet Beetle][uYNurSZUT8C__456XTokYA][elasticsearch-logging-v1-vrdnk][inet[/10.180.0.5:9300]]{master=true},}, reason: zen-disco-receive(join from node[[Scarlet Beetle][uYNurSZUT8C__456XTokYA][elasticsearch-logging-v1-vrdnk][inet[/10.180.0.5:9300]]{master=true}])\n```\n\n~00:35 to start\n### Elasticsearch non-master\n\n```\n[2016-09-20 14:12:15,291][INFO ][node                     ] [Scarlet Beetle] version[1.5.2], pid[13], build[62ff986/2015-04-27T09:21:06Z]\n[2016-09-20 14:12:15,387][INFO ][node                     ] [Scarlet Beetle] initializing ...\n[2016-09-20 14:12:15,392][INFO ][plugins                  ] [Scarlet Beetle] loaded [], sites []\n[2016-09-20 14:12:43,987][INFO ][node                     ] [Scarlet Beetle] initialized\n[2016-09-20 14:12:43,988][INFO ][node                     ] [Scarlet Beetle] starting ...\n[2016-09-20 14:12:45,795][INFO ][transport                ] [Scarlet Beetle] bound_address {inet[/0:0:0:0:0:0:0:0:9300]}, publish_address {inet[/10.180.0.5:9300]}\n[2016-09-20 14:12:45,987][INFO ][discovery                ] [Scarlet Beetle] kubernetes-logging/uYNurSZUT8C__456XTokYA\n[2016-09-20 14:13:15,987][WARN ][discovery                ] [Scarlet Beetle] waited for 30s and no initial state was set by the discovery\n[2016-09-20 14:13:16,092][INFO ][http                     ] [Scarlet Beetle] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/10.180.0.5:9200]}\n[2016-09-20 14:13:16,092][INFO ][node                     ] [Scarlet Beetle] started\n[2016-09-20 14:13:18,295][INFO ][discovery.zen            ] [Scarlet Beetle] failed to send join request to master [[Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true}], reason [RemoteTransportException[[Lorelei Travis][inet[/10.180.3.5:9300]][internal:discovery/zen/join]]; nested: ElasticsearchIllegalStateException[Node [[Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true}] not master for join request from [[Scarlet Beetle][uYNurSZUT8C__456XTokYA][elasticsearch-logging-v1-vrdnk][inet[/10.180.0.5:9300]]{master=true}]]; ], tried [3] times\n[2016-09-20 14:13:21,587][INFO ][cluster.service          ] [Scarlet Beetle] detected_master [Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true}, added {[Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true},}, reason: zen-disco-receive(from master [[Lorelei Travis][kzRDsOVNRs2OQNj2dmgglA][elasticsearch-logging-v1-v222w][inet[/10.180.3.5:9300]]{master=true}])\n```\n\n~01:05 to start\n",
  "closed_at": "2016-09-21T17:50:57Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33126/comments",
  "created_at": "2016-09-20T21:34:45Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33126/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/33126",
  "id": 178186496,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 148734819,
      "name": "area/logging",
      "node_id": "MDU6TGFiZWwxNDg3MzQ4MTk=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/logging"
    },
    {
      "color": "fbca04",
      "default": false,
      "description": "Higher priority than priority/awaiting-more-evidence.",
      "id": 114528273,
      "name": "priority/backlog",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyNzM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/backlog"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33126/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNzgxODY0OTY=",
  "number": 33126,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Elasticsearch works slowly on GCI",
  "updated_at": "2016-09-21T17:50:57Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/33126",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1756505?v=4",
    "events_url": "https://api.github.com/users/crassirostris/events{/privacy}",
    "followers_url": "https://api.github.com/users/crassirostris/followers",
    "following_url": "https://api.github.com/users/crassirostris/following{/other_user}",
    "gists_url": "https://api.github.com/users/crassirostris/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/crassirostris",
    "id": 1756505,
    "login": "crassirostris",
    "node_id": "MDQ6VXNlcjE3NTY1MDU=",
    "organizations_url": "https://api.github.com/users/crassirostris/orgs",
    "received_events_url": "https://api.github.com/users/crassirostris/received_events",
    "repos_url": "https://api.github.com/users/crassirostris/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/crassirostris/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/crassirostris/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/crassirostris"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "This caused scalability jenkins suite to fail:\n\nhttp://kubekins.dls.corp.google.com/view/Critical%20Builds/job/kubernetes-e2e-gce-scalability/4615/consoleFull\n\nScenario is the following:\n1. Kubelet reports node to be ready even though docker is not working (`GenericPLEG: Unable to retrieve pods: cannot connect to Docker endpoint`)\n2. Scheduler assigns pods to node\n3. Pods are being reported by kubelet as pending (as it can't connect to docker)\n4. Kubelet for some reason realizes that docker is not working and changes state to `NodeNotReady`\n5. Node controller removes pods\n6. Replication controller recreates removed pods\n7. Scheduler schedules them\n8. Test fails as the new pods are still pending\n\nkubelet logs:\n\n```\nE0215 08:48:57.291410    3986 generic.go:164] GenericPLEG: Unable to retrieve pods: cannot connect to Docker endpoint\nE0215 08:48:57.529953    3986 kubelet.go:2847] Error getting image list: cannot connect to Docker endpoint\nI0215 08:48:57.530120    3986 kubelet.go:2665] Recording NodeReady event message for node e2e-scalability-minion-zwiy\nI0215 08:48:57.530339    3986 server.go:586] Event(api.ObjectReference{Kind:\"Node\", Namespace:\"\", Name:\"e2e-scalability-minion-zwiy\", UID:\"e2e-scalability-minion-zwiy\", APIVersion:\"\", ResourceVersion:\"\", FieldPath:\"\"}): type: 'Normal' reason: 'NodeReady' Node e2e-scalability-minion-zwiy status is now: NodeReady\n```\n\nhttps://pantheon.corp.google.com/m/cloudstorage/b/kubernetes-jenkins/o/logs/kubernetes-e2e-gce-scalability/4615/artifacts/104.154.28.112%3A22-kubelet.log?debugUI=DEVELOPERS\n\nOther logs:\nhttps://pantheon.corp.google.com/storage/browser/kubernetes-jenkins/logs/kubernetes-e2e-gce-scalability/4615/artifacts/?debugUI=DEVELOPERS\n\n@wojtek-t @gmarek @kubernetes/goog-node \n",
  "closed_at": "2016-02-17T13:00:25Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/21252/comments",
  "created_at": "2016-02-15T09:52:21Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/21252/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/21252",
  "id": 133668892,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 116719829,
      "name": "area/kubelet",
      "node_id": "MDU6TGFiZWwxMTY3MTk4Mjk=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/kubelet"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/21252/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxMzM2Njg4OTI=",
  "number": 21252,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Kubelet reports node being ready when docker is not working",
  "updated_at": "2016-02-17T13:00:25Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/21252",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/10820726?v=4",
    "events_url": "https://api.github.com/users/fgrzadkowski/events{/privacy}",
    "followers_url": "https://api.github.com/users/fgrzadkowski/followers",
    "following_url": "https://api.github.com/users/fgrzadkowski/following{/other_user}",
    "gists_url": "https://api.github.com/users/fgrzadkowski/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/fgrzadkowski",
    "id": 10820726,
    "login": "fgrzadkowski",
    "node_id": "MDQ6VXNlcjEwODIwNzI2",
    "organizations_url": "https://api.github.com/users/fgrzadkowski/orgs",
    "received_events_url": "https://api.github.com/users/fgrzadkowski/received_events",
    "repos_url": "https://api.github.com/users/fgrzadkowski/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/fgrzadkowski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fgrzadkowski/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/fgrzadkowski"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "<!-- This form is for bug reports and feature requests ONLY! \r\n\r\nIf you're looking for help check [Stack Overflow](https://stackoverflow.com/questions/tagged/kubernetes) and the [troubleshooting guide](https://kubernetes.io/docs/tasks/debug-application-cluster/troubleshooting/).\r\n-->\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n/kind bug\r\n\r\n\r\n\r\n**What happened**:\r\nSee in : https://k8s-gubernator.appspot.com/build/kubernetes-jenkins/pr-logs/pull/55293/pull-kubernetes-e2e-kops-aws/57963/nodelog?junit=junit_08.xml&wrap=on\r\n\r\n```\r\nW1108 05:06:09.221535       5 retry_handler.go:54] Inserting delay before AWS request (ec2::DescribeVolumes) to avoid RequestLimitExceeded: 6s\r\nI1108 05:06:09.221638       5 trace.go:76] Trace[1776548750]: \"Create /api/v1/persistentvolumes\" (started: 2017-11-08 05:06:06.768300566 +0000 UTC m=+680.863858872) (total time: 2.453315887s):\r\nTrace[1776548750]: [2.453315887s] [2.452639812s] END\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x1abd33a]\r\n\r\ngoroutine 915349 [running]:\r\nk8s.io/kubernetes/pkg/cloudprovider/providers/aws.(*CrossRequestRetryDelay).BeforeSign(0xc425fbc300, 0xc42d9b9000)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/cloudprovider/providers/aws/retry_handler.go:56 +0x20a\r\nk8s.io/kubernetes/pkg/cloudprovider/providers/aws.(*CrossRequestRetryDelay).BeforeSign-fm(0xc42d9b9000)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/cloudprovider/providers/aws/aws.go:490 +0x34\r\nk8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request.(*HandlerList).Run(0xc42d9b9170, 0xc42d9b9000)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request/handlers.go:195 +0x9d\r\nk8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request.(*Request).Sign(0xc42d9b9000, 0x0, 0x0)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request/request.go:343 +0xb0\r\nk8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request.(*Request).Send(0xc42d9b9000, 0x0, 0x0)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/aws/request/request.go:479 +0x149\r\nk8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/service/ec2.(*EC2).DescribeVolumes(0xc4245ac758, 0xc42aa80e10, 0x8866b40, 0x4e8581, 0x200334167f1)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/aws/aws-sdk-go/service/ec2/api.go:12848 +0x4d\r\nk8s.io/kubernetes/pkg/cloudprovider/providers/aws.(*awsSdkEC2).DescribeVolumes(0xc4245ac760, 0xc42aa80e10, 0x0, 0x42ad38, 0xc42031bc00, 0x7f16b711b000, 0x0)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/cloudprovider/providers/aws/aws.go:689 +0xc5\r\nk8s.io/kubernetes/pkg/cloudprovider/providers/aws.(*awsDisk).describeVolume(0xc434f59650, 0xc4334167e0, 0x26, 0xc434f59650)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/cloudprovider/providers/aws/aws.go:1515 +0x115\r\nk8s.io/kubernetes/pkg/cloudprovider/providers/aws.(*Cloud).GetVolumeLabels(0xc426679c70, 0xc4334167e0, 0x26, 0x0, 0x0, 0xc425dec188)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/cloudprovider/providers/aws/aws.go:2020 +0x70\r\nk8s.io/kubernetes/plugin/pkg/admission/persistentvolume/label.(*persistentVolumeLabel).findAWSEBSLabels(0xc420b7a6c0, 0xc428371440, 0xc428371440, 0x11, 0x1)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/plugin/pkg/admission/persistentvolume/label/admission.go:136 +0x95\r\nk8s.io/kubernetes/plugin/pkg/admission/persistentvolume/label.(*persistentVolumeLabel).Admit(0xc420b7a6c0, 0x86c8720, 0xc4312236c0, 0x7f16b6b822f8, 0xc420b7a6c0)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/plugin/pkg/admission/persistentvolume/label/admission.go:91 +0x5c4\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/admission.chainAdmissionHandler.Admit(0xc42013c600, 0xa, 0x10, 0x86c8720, 0xc4312236c0, 0x6, 0x7f16b6b77c01)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/admission/chain.go:34 +0xf5\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/admission.(*chainAdmissionHandler).Admit(0xc42037e9a0, 0x86c8720, 0xc4312236c0, 0x7f16b6b77c01, 0xc42037e9a0)\r\n\t<autogenerated>:1 +0x62\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/handlers.createHandler.func1(0x86b9960, 0xc436a15c68, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/handlers/create.go:99 +0x15f0\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints.restfulCreateResource.func1(0xc434f58480, 0xc42d52d680)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/installer.go:1080 +0xd5\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/metrics.InstrumentRouteFunc.func1(0xc434f58480, 0xc42d52d680)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/metrics/metrics.go:168 +0x208\r\nk8s.io/kubernetes/vendor/github.com/emicklei/go-restful.(*Container).dispatch(0xc420715170, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/emicklei/go-restful/container.go:277 +0xb18\r\nk8s.io/kubernetes/vendor/github.com/emicklei/go-restful.(*Container).Dispatch(0xc420715170, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/emicklei/go-restful/container.go:199 +0x57\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server.director.ServeHTTP(0x392ac81, 0xe, 0xc420715170, 0xc420479260, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/handler.go:153 +0x4e0\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server.(*director).ServeHTTP(0xc4204d30e0, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t<autogenerated>:1 +0x75\r\nk8s.io/kubernetes/vendor/k8s.io/kube-aggregator/pkg/apiserver.(*proxyHandler).ServeHTTP(0xc42aca1b80, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/kube-aggregator/pkg/apiserver/handler_proxy.go:91 +0x15f\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/mux.(*pathHandler).ServeHTTP(0xc4347d5d40, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/mux/pathrecorder.go:248 +0x26d\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/mux.(*PathRecorderMux).ServeHTTP(0xc4222b19d0, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/mux/pathrecorder.go:234 +0xa1\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server.director.ServeHTTP(0x392d844, 0xf, 0xc421c4d560, 0xc4222b19d0, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/handler.go:161 +0x6ad\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server.(*director).ServeHTTP(0xc425538180, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t<autogenerated>:1 +0x75\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters.WithAuthorization.func1(0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters/authorization.go:51 +0x37d\r\nnet/http.HandlerFunc.ServeHTTP(0xc42525a5f0, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/usr/local/go/src/net/http/server.go:1918 +0x44\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters.WithMaxInFlightLimit.func1(0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters/maxinflight.go:96 +0x318\r\nnet/http.HandlerFunc.ServeHTTP(0xc42138ff80, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/usr/local/go/src/net/http/server.go:1918 +0x44\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters.WithImpersonation.func1(0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters/impersonation.go:49 +0x203a\r\nnet/http.HandlerFunc.ServeHTTP(0xc42525a690, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/usr/local/go/src/net/http/server.go:1918 +0x44\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters.WithAuthentication.func1(0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/filters/authentication.go:79 +0x2b1\r\nnet/http.HandlerFunc.ServeHTTP(0xc42525a730, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/usr/local/go/src/net/http/server.go:1918 +0x44\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/request.WithRequestContext.func1(0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/request/requestcontext.go:110 +0xcb\r\nnet/http.HandlerFunc.ServeHTTP(0xc4255381c0, 0x7f16b6b71e90, 0xc436a15c58, 0xc430de1500)\r\n\t/usr/local/go/src/net/http/server.go:1918 +0x44\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters.(*timeoutHandler).ServeHTTP.func1(0xc425538280, 0x86bd6a0, 0xc436a15c58, 0xc430de1500, 0xc42f6cfaa0)\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters/timeout.go:93 +0x8d\r\ncreated by k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters.(*timeoutHandler).ServeHTTP\r\n\t/go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/server/filters/timeout.go:92 +0x1ab\r\n```\r\n/cc @justinsb \r\n\r\nFixed in #55307",
  "closed_at": "2017-11-21T14:47:30Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55309/comments",
  "created_at": "2017-11-08T09:15:10Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55309/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/55309",
  "id": 272125777,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "ededed",
      "default": false,
      "description": null,
      "id": 711852621,
      "name": "milestone/needs-approval",
      "node_id": "MDU6TGFiZWw3MTE4NTI2MjE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/milestone/needs-approval"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Highest priority. Must be actively worked on as someone's top priority right now.",
      "id": 114528068,
      "name": "priority/critical-urgent",
      "node_id": "MDU6TGFiZWwxMTQ1MjgwNjg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/critical-urgent"
    },
    {
      "color": "d93f0b",
      "default": false,
      "description": null,
      "id": 435667038,
      "name": "release-blocker",
      "node_id": "MDU6TGFiZWw0MzU2NjcwMzg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/release-blocker"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55309/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-08-26T17:23:22Z",
    "closed_issues": 632,
    "created_at": "2017-03-30T14:12:39Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/903617?v=4",
      "events_url": "https://api.github.com/users/mtaufen/events{/privacy}",
      "followers_url": "https://api.github.com/users/mtaufen/followers",
      "following_url": "https://api.github.com/users/mtaufen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtaufen/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mtaufen",
      "id": 903617,
      "login": "mtaufen",
      "node_id": "MDQ6VXNlcjkwMzYxNw==",
      "organizations_url": "https://api.github.com/users/mtaufen/orgs",
      "received_events_url": "https://api.github.com/users/mtaufen/received_events",
      "repos_url": "https://api.github.com/users/mtaufen/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mtaufen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtaufen/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mtaufen"
    },
    "description": "",
    "due_on": "2017-12-13T08:00:00Z",
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/35",
    "id": 2422217,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/35/labels",
    "node_id": "MDk6TWlsZXN0b25lMjQyMjIxNw==",
    "number": 35,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.9",
    "updated_at": "2019-08-26T17:23:22Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/35"
  },
  "node_id": "MDU6SXNzdWUyNzIxMjU3Nzc=",
  "number": 55309,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Panic when running pull-kubernetes-e2e-kops-aws",
  "updated_at": "2017-11-21T14:47:30Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55309",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/15881573?v=4",
    "events_url": "https://api.github.com/users/xiangpengzhao/events{/privacy}",
    "followers_url": "https://api.github.com/users/xiangpengzhao/followers",
    "following_url": "https://api.github.com/users/xiangpengzhao/following{/other_user}",
    "gists_url": "https://api.github.com/users/xiangpengzhao/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/xiangpengzhao",
    "id": 15881573,
    "login": "xiangpengzhao",
    "node_id": "MDQ6VXNlcjE1ODgxNTcz",
    "organizations_url": "https://api.github.com/users/xiangpengzhao/orgs",
    "received_events_url": "https://api.github.com/users/xiangpengzhao/received_events",
    "repos_url": "https://api.github.com/users/xiangpengzhao/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/xiangpengzhao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xiangpengzhao/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/xiangpengzhao"
  }
}
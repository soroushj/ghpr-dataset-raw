{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/2928188?v=4",
    "events_url": "https://api.github.com/users/monopole/events{/privacy}",
    "followers_url": "https://api.github.com/users/monopole/followers",
    "following_url": "https://api.github.com/users/monopole/following{/other_user}",
    "gists_url": "https://api.github.com/users/monopole/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/monopole",
    "id": 2928188,
    "login": "monopole",
    "node_id": "MDQ6VXNlcjI5MjgxODg=",
    "organizations_url": "https://api.github.com/users/monopole/orgs",
    "received_events_url": "https://api.github.com/users/monopole/received_events",
    "repos_url": "https://api.github.com/users/monopole/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/monopole/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/monopole/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/monopole"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/2928188?v=4",
      "events_url": "https://api.github.com/users/monopole/events{/privacy}",
      "followers_url": "https://api.github.com/users/monopole/followers",
      "following_url": "https://api.github.com/users/monopole/following{/other_user}",
      "gists_url": "https://api.github.com/users/monopole/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/monopole",
      "id": 2928188,
      "login": "monopole",
      "node_id": "MDQ6VXNlcjI5MjgxODg=",
      "organizations_url": "https://api.github.com/users/monopole/orgs",
      "received_events_url": "https://api.github.com/users/monopole/received_events",
      "repos_url": "https://api.github.com/users/monopole/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/monopole/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/monopole/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/monopole"
    }
  ],
  "author_association": "NONE",
  "body": "I accidentally included a duplicate `volumeMounts:` line below, and validation did not fail. I expected this to fail:\r\n\r\n```\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: bugtest\r\nspec:\r\n  restartPolicy: Never\r\n  containers:\r\n    - image: debian:stretch\r\n      name: rbd-rw\r\n      command: [\"bash\", \"-c\", \"cat /proc/mounts | grep /mnt\"]\r\n      volumeMounts:\r\n      - name: foo\r\n        mountPath: /mnt/foo\r\n      volumeMounts:\r\n      - name: bar\r\n        mountPath: /mnt/bar\r\n  volumes:\r\n    - name: foo\r\n      emptyDir: {}\r\n    - name: bar\r\n      emptyDir: {}\r\n```\r\n\r\nBut nope, no error on apply, and only one of the volumes shows up:\r\n\r\n```\r\ndev:~ $ kubectl apply -f test.yaml\r\npod/bugtest created\r\ndev:~ $ kubectl logs bugtest\r\n/dev/mapper/debvg-root /mnt/bar ext4 rw,relatime,errors=remount-ro,data=ordered 0 0\r\n```\r\n\r\nReproduced with client+server Kubernetes 1.11.2, and also with the kubectl client at git tip (cffa2aed0e4f3a3723d1cf977e3386dbeb1aa046):\r\n\r\n```\r\ndev:~ $ kubectl version\r\nClient Version: version.Info{Major:\"\", Minor:\"\", GitVersion:\"v0.0.0-master+$Format:%h$\", GitCommit:\"$Format:%H$\", GitTreeState:\"\", BuildDate:\"1970-01-01T00:00:00Z\", GoVersion:\"devel +015873c153 Mon Aug 13 04:48:19 2018 +0000\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"11\", GitVersion:\"v1.11.2\", GitCommit:\"bb9ffb1654d4a729bb4cec18ff088eacc153c239\", GitTreeState:\"clean\", BuildDate:\"2018-08-07T23:08:19Z\", GoVersion:\"go1.10.3\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n\r\nDo we just need to set the YAML package's [Decoder.SetStrict](https://godoc.org/gopkg.in/yaml.v2#Decoder.SetStrict) to true?\r\n\r\nI see no references to SetStrict in the git repo.\r\n\r\nWill investigate later. Filing before I forget.\r\n\r\n/cc @lavalamp ",
  "closed_at": "2018-10-12T21:48:26Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 11,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/67477/comments",
  "created_at": "2018-08-16T05:39:17Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/67477/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/67477",
  "id": 351062176,
  "labels": [
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG API Machinery.",
      "id": 173493835,
      "name": "sig/api-machinery",
      "node_id": "MDU6TGFiZWwxNzM0OTM4MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/api-machinery"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG CLI.",
      "id": 450823910,
      "name": "sig/cli",
      "node_id": "MDU6TGFiZWw0NTA4MjM5MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cli"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/67477/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzNTEwNjIxNzY=",
  "number": 67477,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "duplicate container volumeMounts not validated",
  "updated_at": "2018-10-12T21:48:26Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/67477",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/2621?v=4",
    "events_url": "https://api.github.com/users/bradfitz/events{/privacy}",
    "followers_url": "https://api.github.com/users/bradfitz/followers",
    "following_url": "https://api.github.com/users/bradfitz/following{/other_user}",
    "gists_url": "https://api.github.com/users/bradfitz/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bradfitz",
    "id": 2621,
    "login": "bradfitz",
    "node_id": "MDQ6VXNlcjI2MjE=",
    "organizations_url": "https://api.github.com/users/bradfitz/orgs",
    "received_events_url": "https://api.github.com/users/bradfitz/received_events",
    "repos_url": "https://api.github.com/users/bradfitz/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bradfitz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bradfitz/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bradfitz"
  }
}
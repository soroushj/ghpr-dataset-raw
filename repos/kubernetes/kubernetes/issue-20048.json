{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8264113?v=4",
    "events_url": "https://api.github.com/users/davidopp/events{/privacy}",
    "followers_url": "https://api.github.com/users/davidopp/followers",
    "following_url": "https://api.github.com/users/davidopp/following{/other_user}",
    "gists_url": "https://api.github.com/users/davidopp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/davidopp",
    "id": 8264113,
    "login": "davidopp",
    "node_id": "MDQ6VXNlcjgyNjQxMTM=",
    "organizations_url": "https://api.github.com/users/davidopp/orgs",
    "received_events_url": "https://api.github.com/users/davidopp/received_events",
    "repos_url": "https://api.github.com/users/davidopp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/davidopp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/davidopp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/davidopp"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/8264113?v=4",
      "events_url": "https://api.github.com/users/davidopp/events{/privacy}",
      "followers_url": "https://api.github.com/users/davidopp/followers",
      "following_url": "https://api.github.com/users/davidopp/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidopp/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/davidopp",
      "id": 8264113,
      "login": "davidopp",
      "node_id": "MDQ6VXNlcjgyNjQxMTM=",
      "organizations_url": "https://api.github.com/users/davidopp/orgs",
      "received_events_url": "https://api.github.com/users/davidopp/received_events",
      "repos_url": "https://api.github.com/users/davidopp/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/davidopp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidopp/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/davidopp"
    }
  ],
  "author_association": "NONE",
  "body": "If the node controller ever restarts (like we do periodically in the daemon restart test, https://github.com/kubernetes/kubernetes/issues/19023) it will reassign the CIDR of the first node. This can cause all sorts of problems like docker and container restart, pod phase changing etc. \n\nThis code seems to be at fault:\nhttps://github.com/kubernetes/kubernetes/blob/master/pkg/controller/node/nodecontroller.go#L545\n\nI feel like I'm missing some context here, which is why I haven't uploaded a pr. \nWe don't generate available cidrs before checking that the first node is in the set (https://github.com/kubernetes/kubernetes/blob/master/pkg/controller/node/nodecontroller.go#L550). But then break out of the loop to generate cidrs a little later, saving the other nodes (https://github.com/kubernetes/kubernetes/blob/master/pkg/controller/node/nodecontroller.go#L568). \n\nDo we only need to generate available cidrs once on startup? that sounds like the sensible thing unless there's a GKE subnet requirement I'm missing.\n@kubernetes/goog-control-plane @cjcullen \n",
  "closed_at": "2016-01-26T19:56:17Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/5751682?v=4",
    "events_url": "https://api.github.com/users/brendandburns/events{/privacy}",
    "followers_url": "https://api.github.com/users/brendandburns/followers",
    "following_url": "https://api.github.com/users/brendandburns/following{/other_user}",
    "gists_url": "https://api.github.com/users/brendandburns/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/brendandburns",
    "id": 5751682,
    "login": "brendandburns",
    "node_id": "MDQ6VXNlcjU3NTE2ODI=",
    "organizations_url": "https://api.github.com/users/brendandburns/orgs",
    "received_events_url": "https://api.github.com/users/brendandburns/received_events",
    "repos_url": "https://api.github.com/users/brendandburns/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/brendandburns/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brendandburns/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/brendandburns"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/20048/comments",
  "created_at": "2016-01-23T01:24:23Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/20048/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/20048",
  "id": 128281678,
  "labels": [
    {
      "color": "f7c6c7",
      "default": false,
      "description": "Categorizes issue or PR as related to a flaky test.",
      "id": 264749912,
      "name": "kind/flake",
      "node_id": "MDU6TGFiZWwyNjQ3NDk5MTI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/flake"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/20048/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxMjgyODE2Nzg=",
  "number": 20048,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Nodecontroller reassigns CIDR of first node on restart",
  "updated_at": "2016-01-26T19:56:17Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/20048",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/10927820?v=4",
    "events_url": "https://api.github.com/users/bprashanth/events{/privacy}",
    "followers_url": "https://api.github.com/users/bprashanth/followers",
    "following_url": "https://api.github.com/users/bprashanth/following{/other_user}",
    "gists_url": "https://api.github.com/users/bprashanth/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bprashanth",
    "id": 10927820,
    "login": "bprashanth",
    "node_id": "MDQ6VXNlcjEwOTI3ODIw",
    "organizations_url": "https://api.github.com/users/bprashanth/orgs",
    "received_events_url": "https://api.github.com/users/bprashanth/received_events",
    "repos_url": "https://api.github.com/users/bprashanth/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bprashanth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bprashanth/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bprashanth"
  }
}
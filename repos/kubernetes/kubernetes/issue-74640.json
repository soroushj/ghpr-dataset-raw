{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1328908?v=4",
    "events_url": "https://api.github.com/users/bswartz/events{/privacy}",
    "followers_url": "https://api.github.com/users/bswartz/followers",
    "following_url": "https://api.github.com/users/bswartz/following{/other_user}",
    "gists_url": "https://api.github.com/users/bswartz/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bswartz",
    "id": 1328908,
    "login": "bswartz",
    "node_id": "MDQ6VXNlcjEzMjg5MDg=",
    "organizations_url": "https://api.github.com/users/bswartz/orgs",
    "received_events_url": "https://api.github.com/users/bswartz/received_events",
    "repos_url": "https://api.github.com/users/bswartz/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bswartz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bswartz/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bswartz"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/1328908?v=4",
      "events_url": "https://api.github.com/users/bswartz/events{/privacy}",
      "followers_url": "https://api.github.com/users/bswartz/followers",
      "following_url": "https://api.github.com/users/bswartz/following{/other_user}",
      "gists_url": "https://api.github.com/users/bswartz/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bswartz",
      "id": 1328908,
      "login": "bswartz",
      "node_id": "MDQ6VXNlcjEzMjg5MDg=",
      "organizations_url": "https://api.github.com/users/bswartz/orgs",
      "received_events_url": "https://api.github.com/users/bswartz/received_events",
      "repos_url": "https://api.github.com/users/bswartz/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bswartz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bswartz/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bswartz"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\ni use the standalone-cinder-provisioner and the backend storage is iscsi,the pv and volume can dynamic created,but the device can not attached the k8s minion\r\n\r\nthe standalone-cinder-provisioner pod yaml use the web :https://github.com/kubernetes/cloud-provider-openstack/blob/master/manifests/provisioner/deployment.yaml\r\n\r\nand the pod running:\r\nkube-system standalone-cinder-provisioner-7c4649c886-5x6x6 1/1 Running 7 5d5h\r\n\r\n[root@hpa-vm:/home/ubuntu/jlx]$ kubectl get pv\r\nNAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE\r\npvc-1dff02aa-3140-11e9-bde3-002dc92800b3 1Gi RWO Delete Bound kube-system/keystone-sc-pvc standard 6d4h\r\n\r\nthe pv infomation:\r\n[root@hpa-vm:/home/ubuntu/jlx]$ kubectl get pv pvc-1dff02aa-3140-11e9-bde3-002dc92800b3 -o yaml\r\napiVersion: v1\r\nkind: PersistentVolume\r\nmetadata:\r\nannotations:\r\ncinderVolumeId: c6daa97f-0bc7-4e8a-879d-1800ba51264a\r\npv.kubernetes.io/provisioned-by: openstack.org/standalone-cinder\r\nstandaloneCinderProvisionerIdentity: openstack.org/standalone-cinder\r\ncreationTimestamp: \"2019-02-15T16:38:33Z\"\r\nfinalizers:\r\n\r\n    external-provisioner.volume.kubernetes.io/finalizer\r\n    kubernetes.io/pv-protection\r\n    name: pvc-1dff02aa-3140-11e9-bde3-002dc92800b3\r\n    resourceVersion: \"5776760\"\r\n    selfLink: /api/v1/persistentvolumes/pvc-1dff02aa-3140-11e9-bde3-002dc92800b3\r\n    uid: 225064bd-3140-11e9-bde3-002dc92800b3\r\n    spec:\r\n    accessModes:\r\n    ReadWriteOnce\r\n    capacity:\r\n    storage: 1Gi\r\n    claimRef:\r\n    apiVersion: v1\r\n    kind: PersistentVolumeClaim\r\n    name: keystone-sc-pvc\r\n    namespace: kube-system\r\n    resourceVersion: \"5776739\"\r\n    uid: 1dff02aa-3140-11e9-bde3-002dc92800b3\r\n    iscsi:\r\n    initiatorName: iqn.2018-01.io.k8s:a13fc3d1cc22\r\n    iqn: iqn.2099-01.cn.com.zte:usp.spr11-74:4a:a4:01:fd:54\r\n    iscsiInterface: default\r\n    lun: 1\r\n    targetPortal: 19.19.19.252:3260\r\n    persistentVolumeReclaimPolicy: Delete\r\n    storageClassName: standard\r\n    volumeMode: Filesystem\r\n    status:\r\n    phase: Bound\r\n\r\n[root@host-12-12-12-30 standalone]# kubectl get po --all-namespaces -w \r\nNAMESPACE     NAME                                             READY   STATUS              RESTARTS   AGE\r\ndefault       iscsi-standalone                                 0/1     ContainerCreating   0          2s\r\n\r\n[root@host-12-12-12-30 standalone]# kubectl describe pod iscsi-standalone \r\nName:               iscsi-standalone\r\nNamespace:          default\r\nPriority:           0\r\nPriorityClassName:  <none>\r\nNode:               12.12.12.30/12.12.12.30\r\nStart Time:         Tue, 26 Feb 2019 17:15:19 +0800\r\nLabels:             <none>\r\nAnnotations:        <none>\r\nStatus:             Pending\r\nIP:                 \r\nContainers:\r\n  iscsi:\r\n    Container ID:   \r\n    Image:          gcr.io/google_containers/nginx:1.7.9\r\n    Image ID:       \r\n    Port:           <none>\r\n    Host Port:      <none>\r\n    State:          Waiting\r\n      Reason:       ContainerCreating\r\n    Ready:          False\r\n    Restart Count:  0\r\n    Environment:    <none>\r\n    Mounts:\r\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-frzl8 (ro)\r\n      /var/www/html from mypd (rw)\r\nConditions:\r\n  Type              Status\r\n  Initialized       True \r\n  Ready             False \r\n  ContainersReady   False \r\n  PodScheduled      True \r\nVolumes:\r\n  mypd:\r\n    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)\r\n    ClaimName:  keystone-sc-pvc-storage13\r\n    ReadOnly:   false\r\n  default-token-frzl8:\r\n    Type:        Secret (a volume populated by a Secret)\r\n    SecretName:  default-token-frzl8\r\n    Optional:    false\r\nQoS Class:       BestEffort\r\nNode-Selectors:  <none>\r\nTolerations:     node.kubernetes.io/not-ready:NoExecute for 300s\r\n                 node.kubernetes.io/unreachable:NoExecute for 300s\r\nEvents:\r\n  Type     Reason                  Age                   From                     Message\r\n  ----     ------                  ----                  ----                     -------\r\n  Normal   Scheduled               4m48s                 default-scheduler        Successfully assigned default/iscsi-standalone to 12.12.12.30\r\n  Normal   SuccessfulAttachVolume  4m48s                 attachdetach-controller  AttachVolume.Attach succeeded for volume \"pvc-9121a7b1-39a5-11e9-b3a9-fa163e2d9049\"\r\n  Warning  FailedMount             30s (x10 over 4m40s)  kubelet, 12.12.12.30     MountVolume.WaitForAttach failed for volume \"pvc-9121a7b1-39a5-11e9-b3a9-fa163e2d9049\" : open /sys/class/iscsi_host: no such file or directory\r\n  Warning  FailedMount             29s (x2 over 2m45s)   kubelet, 12.12.12.30     Unable to mount volumes for pod \"iscsi-standalone_default(096dfc21-39a7-11e9-bb03-fa163e2d9049)\": timeout expired waiting for volumes to attach or mount for pod \"default\"/\"iscsi-standalone\". list of unmounted volumes=[mypd]. list of unattached volumes=[mypd default-token-frzl8]\r\n\r\n**What you expected to happen**:\r\nthe pod can running\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:k8s v1.13\r\n- Kubernetes version (use `kubectl version`):\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g: `cat /etc/os-release`):\r\n- Kernel (e.g. `uname -a`):\r\n- Install tools:\r\n- Others:\r\n",
  "closed_at": "2019-03-06T17:50:52Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/74640/comments",
  "created_at": "2019-02-27T02:31:41Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/74640/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/74640",
  "id": 414915461,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Storage.",
      "id": 169428334,
      "name": "sig/storage",
      "node_id": "MDU6TGFiZWwxNjk0MjgzMzQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/storage"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/74640/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTQ5MTU0NjE=",
  "number": 74640,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "standalone cinder provisioner use iscsi raw pv can not attach the k8s minion",
  "updated_at": "2019-03-06T17:50:52Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/74640",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/25783555?v=4",
    "events_url": "https://api.github.com/users/jianglingxia/events{/privacy}",
    "followers_url": "https://api.github.com/users/jianglingxia/followers",
    "following_url": "https://api.github.com/users/jianglingxia/following{/other_user}",
    "gists_url": "https://api.github.com/users/jianglingxia/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jianglingxia",
    "id": 25783555,
    "login": "jianglingxia",
    "node_id": "MDQ6VXNlcjI1NzgzNTU1",
    "organizations_url": "https://api.github.com/users/jianglingxia/orgs",
    "received_events_url": "https://api.github.com/users/jianglingxia/received_events",
    "repos_url": "https://api.github.com/users/jianglingxia/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jianglingxia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jianglingxia/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jianglingxia"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/929377?v=4",
    "events_url": "https://api.github.com/users/fraenkel/events{/privacy}",
    "followers_url": "https://api.github.com/users/fraenkel/followers",
    "following_url": "https://api.github.com/users/fraenkel/following{/other_user}",
    "gists_url": "https://api.github.com/users/fraenkel/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/fraenkel",
    "id": 929377,
    "login": "fraenkel",
    "node_id": "MDQ6VXNlcjkyOTM3Nw==",
    "organizations_url": "https://api.github.com/users/fraenkel/orgs",
    "received_events_url": "https://api.github.com/users/fraenkel/received_events",
    "repos_url": "https://api.github.com/users/fraenkel/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/fraenkel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fraenkel/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/fraenkel"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/929377?v=4",
      "events_url": "https://api.github.com/users/fraenkel/events{/privacy}",
      "followers_url": "https://api.github.com/users/fraenkel/followers",
      "following_url": "https://api.github.com/users/fraenkel/following{/other_user}",
      "gists_url": "https://api.github.com/users/fraenkel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fraenkel",
      "id": 929377,
      "login": "fraenkel",
      "node_id": "MDQ6VXNlcjkyOTM3Nw==",
      "organizations_url": "https://api.github.com/users/fraenkel/orgs",
      "received_events_url": "https://api.github.com/users/fraenkel/received_events",
      "repos_url": "https://api.github.com/users/fraenkel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fraenkel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fraenkel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fraenkel"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a BUG REPORT or FEATURE REQUEST?** (choose one):\r\nBUG\r\n\r\n**Kubernetes version** (use `kubectl version`):\r\nv1.7.0-alpha.0.161+56841e84f66746-dirty\r\n\r\n**What happened**:\r\nWhen create pod with invalid envFrom.configMapRef.name, should valid it not until start the container\r\n\r\n**What you expected to happen**:\r\n\r\n\r\n**How to reproduce it** (as minimally and precisely as possible):\r\n```\r\n[root@dhcp-140-98 dma]# cat pod1.yaml \r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: config-env-example\r\nspec:\r\n  containers:\r\n  - name: hello-pod\r\n    image: docker.io/ocpqe/hello-pod:latest\r\n    ports:\r\n    - containerPort: 8080\r\n      protocol: TCP\r\n    env:\r\n    - name: duplicate_key\r\n      value: FROM_ENV\r\n    - name: expansion\r\n      value: $(REPLACE_ME)\r\n    envFrom:\r\n    - configMapRef:\r\n        name: $%^&*#\r\n[root@dhcp-140-98 dma]# kubectl create -f pod1.yaml \r\npod \"config-env-example\" created\r\n[root@dhcp-140-98 dma]# kubectl describe pod config-env-example\r\nName:\t\tconfig-env-example\r\nNamespace:\tdefault\r\nNode:\t\t127.0.0.1/127.0.0.1\r\nStart Time:\tFri, 24 Feb 2017 15:13:09 +0800\r\nLabels:\t\t<none>\r\nStatus:\t\tPending\r\nIP:\t\t\r\nControllers:\t<none>\r\nContainers:\r\n  hello-pod:\r\n    Container ID:\t\r\n    Image:\t\tdocker.io/ocpqe/hello-pod:latest\r\n    Image ID:\t\t\r\n    Port:\t\t8080/TCP\r\n    State:\t\tWaiting\r\n      Reason:\t\tContainerCreating\r\n    Ready:\t\tFalse\r\n    Restart Count:\t0\r\n    Volume Mounts:\r\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-sc3zr (ro)\r\n    Environment Variables from:\r\n      $%^&*#\tConfigMap\tOptional: false\r\n    Environment Variables:\r\n      duplicate_key:\tFROM_ENV\r\n      expansion:\t$(REPLACE_ME)\r\nConditions:\r\n  Type\t\tStatus\r\n  Initialized \tTrue \r\n  Ready \tFalse \r\n  PodScheduled \tTrue \r\nVolumes:\r\n  default-token-sc3zr:\r\n    Type:\tSecret (a volume populated by a Secret)\r\n    SecretName:\tdefault-token-sc3zr\r\n    Optional:\tfalse\r\nQoS Class:\tBestEffort\r\nNode-Selectors:\t<none>\r\nTolerations:\t<none>\r\nEvents:\r\n  FirstSeen\tLastSeen\tCount\tFrom\t\t\tSubObjectPath\tType\t\tReason\t\tMessage\r\n  ---------\t--------\t-----\t----\t\t\t-------------\t--------\t------\t\t-------\r\n  11s\t\t11s\t\t1\tdefault-scheduler\t\t\tNormal\t\tScheduled\tSuccessfully assigned config-env-example to 127.0.0.1\r\n  11s\t\t11s\t\t1\tkubelet, 127.0.0.1\t\t\tNormal\t\tSandboxReceived\tPod sandbox received, it will be created.\r\n  11s\t\t11s\t\t1\tkubelet, 127.0.0.1\t\t\tWarning\t\tFailedSync\tError syncing pod, skipping: failed to \"CreatePodSandbox\" for \"config-env-example_default(b21e80e0-fa60-11e6-b0ae-68f7281d8004)\" with CreatePodSandboxError: \"GeneratePodSandboxConfig for pod \\\"config-env-example_default(b21e80e0-fa60-11e6-b0ae-68f7281d8004)\\\" failed: invalid resource name \\\"$%^&*#\\\": [may not contain '%']\"\r\n\r\n```\r\n\r\n**Anything else we need to know**:\r\n\r\n",
  "closed_at": "2017-04-03T11:07:21Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42037/comments",
  "created_at": "2017-02-24T07:18:29Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42037/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/42037",
  "id": 209976956,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42037/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMDk5NzY5NTY=",
  "number": 42037,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "name of envFrom.configMapRef need validate when create pod",
  "updated_at": "2017-04-03T11:07:21Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42037",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/8870577?v=4",
    "events_url": "https://api.github.com/users/mdshuai/events{/privacy}",
    "followers_url": "https://api.github.com/users/mdshuai/followers",
    "following_url": "https://api.github.com/users/mdshuai/following{/other_user}",
    "gists_url": "https://api.github.com/users/mdshuai/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mdshuai",
    "id": 8870577,
    "login": "mdshuai",
    "node_id": "MDQ6VXNlcjg4NzA1Nzc=",
    "organizations_url": "https://api.github.com/users/mdshuai/orgs",
    "received_events_url": "https://api.github.com/users/mdshuai/received_events",
    "repos_url": "https://api.github.com/users/mdshuai/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mdshuai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mdshuai/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mdshuai"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
    "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
    "followers_url": "https://api.github.com/users/dchen1107/followers",
    "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
    "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dchen1107",
    "id": 7740897,
    "login": "dchen1107",
    "node_id": "MDQ6VXNlcjc3NDA4OTc=",
    "organizations_url": "https://api.github.com/users/dchen1107/orgs",
    "received_events_url": "https://api.github.com/users/dchen1107/received_events",
    "repos_url": "https://api.github.com/users/dchen1107/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dchen1107"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
      "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
      "followers_url": "https://api.github.com/users/dchen1107/followers",
      "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
      "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dchen1107",
      "id": 7740897,
      "login": "dchen1107",
      "node_id": "MDQ6VXNlcjc3NDA4OTc=",
      "organizations_url": "https://api.github.com/users/dchen1107/orgs",
      "received_events_url": "https://api.github.com/users/dchen1107/received_events",
      "repos_url": "https://api.github.com/users/dchen1107/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dchen1107"
    }
  ],
  "author_association": "MEMBER",
  "body": "AWS broke in the last few days; we can no longer bring up a cluster with master.  I am reasonably sure it is due to #12499; the failures seem to match in the logs and when I revert this commit I can bring up a cluster.\n\nThis is on a systemd system (Ubuntu 15.04 Vivid); I had trouble getting this running in the first place due to some systemd/libcontainer bugs (I had to set cgroup_root to a value other than \"/\"); it seems that these libcontainer problems are back.\n\nBelow is an extract from the logs from the master kubelet; it is unable to launch containers because it can't find the cgroups directories for the containers.  This set of errors repeats every ~ 10 seconds.\n\n```\nAug 15 23:01:17 ip-172-20-0-9 kubelet[12520]: I0815 23:01:17.617332   12520 manager.go:1430] Need to restart pod infra container for \"kube-scheduler-ip-172-20-0-9.us-west-2.compute.internal_kube-system\" because it is not found\nAug 15 23:01:17 ip-172-20-0-9 kubelet[12520]: I0815 23:01:17.618353   12520 manager.go:1430] Need to restart pod infra container for \"etcd-server-ip-172-20-0-9.us-west-2.compute.internal_kube-system\" because it is not found\nAug 15 23:01:17 ip-172-20-0-9 kubelet[12520]: I0815 23:01:17.619327   12520 manager.go:1430] Need to restart pod infra container for \"fluentd-elasticsearch-ip-172-20-0-9.us-west-2.compute.internal_kube-system\" because it is not found\nAug 15 23:01:17 ip-172-20-0-9 kubelet[12520]: I0815 23:01:17.629572   12520 manager.go:1430] Need to restart pod infra container for \"kube-apiserver-ip-172-20-0-9.us-west-2.compute.internal_kube-system\" because it is not found\nAug 15 23:01:17 ip-172-20-0-9 kubelet[12520]: I0815 23:01:17.632930   12520 manager.go:1430] Need to restart pod infra container for \"kube-controller-manager-ip-172-20-0-9.us-west-2.compute.internal_kube-system\" because it is not found\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.105315   12520 manager.go:1579] Failed to create pod infra container: API error (404): Cannot start container d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: ; Skipping pod \"etcd-server-ip-172-20-0-9.us-west-2.compute.internal_kube-system\"\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.105342   12520 pod_workers.go:111] Error syncing pod eb1505ea87a13c2f0a2669ed8ba7053f, skipping: API error (404): Cannot start container d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.129173   12520 manager.go:1579] Failed to create pod infra container: API error (404): Cannot start container b3d4f8dba336ac79c479cacc03e03c0164b7257dfb2bf28f87af419da6faf4a7: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-b3d4f8dba336ac79c479cacc03e03c0164b7257dfb2bf28f87af419da6faf4a7.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: ; Skipping pod \"kube-scheduler-ip-172-20-0-9.us-west-2.compute.internal_kube-system\"\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.129195   12520 pod_workers.go:111] Error syncing pod 7784ad9e8c2ed5fa99cfd663cf50c738, skipping: API error (404): Cannot start container b3d4f8dba336ac79c479cacc03e03c0164b7257dfb2bf28f87af419da6faf4a7: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-b3d4f8dba336ac79c479cacc03e03c0164b7257dfb2bf28f87af419da6faf4a7.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.149934   12520 container.go:326] Failed to create summary reader for \"/system/system.slice/docker-b3d4f8dba336ac79c479cacc03e03c0164b7257dfb2bf28f87af419da6faf4a7.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.150989   12520 manager.go:1579] Failed to create pod infra container: API error (404): Cannot start container 8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: ; Skipping pod \"fluentd-elasticsearch-ip-172-20-0-9.us-west-2.compute.internal_kube-system\"\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.151010   12520 pod_workers.go:111] Error syncing pod 99e1f16fd746b6837f185db064ec84f3, skipping: API error (404): Cannot start container 8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.154236   12520 container.go:326] Failed to create summary reader for \"/system.slice/docker-d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.194623   12520 container.go:326] Failed to create summary reader for \"/system/system.slice/docker-d49797f77e691cbc52d414f8597777db3d9e967279ca4163d78ca9c950187bc4.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.196479   12520 container.go:326] Failed to create summary reader for \"/system.slice/docker-8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.208831   12520 manager.go:1579] Failed to create pod infra container: API error (404): Cannot start container 4a8505db93a75343b87fd0f76c7d806f61904d80e94c2d8b996f5e4dfaeb4548: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-4a8505db93a75343b87fd0f76c7d806f61904d80e94c2d8b996f5e4dfaeb4548.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: ; Skipping pod \"kube-apiserver-ip-172-20-0-9.us-west-2.compute.internal_kube-system\"\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.209428   12520 pod_workers.go:111] Error syncing pod fa7184b39d971a2342785447f6f916bd, skipping: API error (404): Cannot start container 4a8505db93a75343b87fd0f76c7d806f61904d80e94c2d8b996f5e4dfaeb4548: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-4a8505db93a75343b87fd0f76c7d806f61904d80e94c2d8b996f5e4dfaeb4548.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.213648   12520 manager.go:1579] Failed to create pod infra container: API error (404): Cannot start container 30e536e53c1cb029de73e645f44da7fa43e08e208c41d16ba891745681d866fb: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-30e536e53c1cb029de73e645f44da7fa43e08e208c41d16ba891745681d866fb.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: ; Skipping pod \"kube-controller-manager-ip-172-20-0-9.us-west-2.compute.internal_kube-system\"\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: E0815 23:01:18.213665   12520 pod_workers.go:111] Error syncing pod add03b089852a03f3e67331bb559d181, skipping: API error (404): Cannot start container 30e536e53c1cb029de73e645f44da7fa43e08e208c41d16ba891745681d866fb: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/system/system.slice/docker-30e536e53c1cb029de73e645f44da7fa43e08e208c41d16ba891745681d866fb.scope/cpu.shares: no such file or directory\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.232932   12520 container.go:326] Failed to create summary reader for \"/system/system.slice/docker-8af0fbdb55f79b055c1f61dae370f400bd311a5983bd365e9eb1476fbe379622.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.235618   12520 container.go:326] Failed to create summary reader for \"/system/system.slice/docker-4a8505db93a75343b87fd0f76c7d806f61904d80e94c2d8b996f5e4dfaeb4548.scope\": none of the resources are being tracked.\nAug 15 23:01:18 ip-172-20-0-9 kubelet[12520]: W0815 23:01:18.237185   12520 container.go:326] Failed to create summary reader for \"/system/system.slice/docker-30e536e53c1cb029de73e645f44da7fa43e08e208c41d16ba891745681d866fb.scope\": none of the resources are being tracked.\n```\n",
  "closed_at": "2015-08-19T21:56:52Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10052848?v=4",
    "events_url": "https://api.github.com/users/saad-ali/events{/privacy}",
    "followers_url": "https://api.github.com/users/saad-ali/followers",
    "following_url": "https://api.github.com/users/saad-ali/following{/other_user}",
    "gists_url": "https://api.github.com/users/saad-ali/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/saad-ali",
    "id": 10052848,
    "login": "saad-ali",
    "node_id": "MDQ6VXNlcjEwMDUyODQ4",
    "organizations_url": "https://api.github.com/users/saad-ali/orgs",
    "received_events_url": "https://api.github.com/users/saad-ali/received_events",
    "repos_url": "https://api.github.com/users/saad-ali/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/saad-ali/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/saad-ali/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/saad-ali"
  },
  "comments": 12,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/12789/comments",
  "created_at": "2015-08-17T11:58:15Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/12789/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/12789",
  "id": 101405203,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Highest priority. Must be actively worked on as someone's top priority right now.",
      "id": 114528068,
      "name": "priority/critical-urgent",
      "node_id": "MDU6TGFiZWwxMTQ1MjgwNjg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/critical-urgent"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Cluster Lifecycle.",
      "id": 173494222,
      "name": "sig/cluster-lifecycle",
      "node_id": "MDU6TGFiZWwxNzM0OTQyMjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cluster-lifecycle"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/12789/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2016-02-08T17:58:55Z",
    "closed_issues": 334,
    "created_at": "2015-07-22T19:17:12Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7725777?v=4",
      "events_url": "https://api.github.com/users/bgrant0607/events{/privacy}",
      "followers_url": "https://api.github.com/users/bgrant0607/followers",
      "following_url": "https://api.github.com/users/bgrant0607/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgrant0607/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bgrant0607",
      "id": 7725777,
      "login": "bgrant0607",
      "node_id": "MDQ6VXNlcjc3MjU3Nzc=",
      "organizations_url": "https://api.github.com/users/bgrant0607/orgs",
      "received_events_url": "https://api.github.com/users/bgrant0607/received_events",
      "repos_url": "https://api.github.com/users/bgrant0607/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bgrant0607/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgrant0607/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bgrant0607"
    },
    "description": "Release 1.1.\r\n\r\nP1 features:\r\n* 250+ nodes, at our published SLO\r\n* kube-proxy perf. improvements (via IPTables)\r\n* Docker 1.8.x\r\n* Horizontal pod auto-scaling\r\n* Job\r\n* Ingress\r\n* Schema validation in kubectl\r\n* Experimental API and API groups\r\n* Graceful pod termination\r\n",
    "due_on": "2015-09-21T07:00:00Z",
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/13",
    "id": 1220916,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/13/labels",
    "node_id": "MDk6TWlsZXN0b25lMTIyMDkxNg==",
    "number": 13,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.1",
    "updated_at": "2016-07-14T20:15:09Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/13"
  },
  "node_id": "MDU6SXNzdWUxMDE0MDUyMDM=",
  "number": 12789,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "AWS appears to be broken by Docker 1.7.1 (#12499)",
  "updated_at": "2015-08-19T21:56:52Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/12789",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/100893?v=4",
    "events_url": "https://api.github.com/users/justinsb/events{/privacy}",
    "followers_url": "https://api.github.com/users/justinsb/followers",
    "following_url": "https://api.github.com/users/justinsb/following{/other_user}",
    "gists_url": "https://api.github.com/users/justinsb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/justinsb",
    "id": 100893,
    "login": "justinsb",
    "node_id": "MDQ6VXNlcjEwMDg5Mw==",
    "organizations_url": "https://api.github.com/users/justinsb/orgs",
    "received_events_url": "https://api.github.com/users/justinsb/received_events",
    "repos_url": "https://api.github.com/users/justinsb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/justinsb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/justinsb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/justinsb"
  }
}
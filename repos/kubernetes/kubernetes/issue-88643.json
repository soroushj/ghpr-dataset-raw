{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5001742?v=4",
    "events_url": "https://api.github.com/users/humblec/events{/privacy}",
    "followers_url": "https://api.github.com/users/humblec/followers",
    "following_url": "https://api.github.com/users/humblec/following{/other_user}",
    "gists_url": "https://api.github.com/users/humblec/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/humblec",
    "id": 5001742,
    "login": "humblec",
    "node_id": "MDQ6VXNlcjUwMDE3NDI=",
    "organizations_url": "https://api.github.com/users/humblec/orgs",
    "received_events_url": "https://api.github.com/users/humblec/received_events",
    "repos_url": "https://api.github.com/users/humblec/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/humblec/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/humblec/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/humblec"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/5001742?v=4",
      "events_url": "https://api.github.com/users/humblec/events{/privacy}",
      "followers_url": "https://api.github.com/users/humblec/followers",
      "following_url": "https://api.github.com/users/humblec/following{/other_user}",
      "gists_url": "https://api.github.com/users/humblec/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/humblec",
      "id": 5001742,
      "login": "humblec",
      "node_id": "MDQ6VXNlcjUwMDE3NDI=",
      "organizations_url": "https://api.github.com/users/humblec/orgs",
      "received_events_url": "https://api.github.com/users/humblec/received_events",
      "repos_url": "https://api.github.com/users/humblec/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/humblec/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/humblec/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/humblec"
    }
  ],
  "author_association": "NONE",
  "body": "<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\n\r\nWhen I use intree-rbd to expand a pvc from 20Gi to 30Gi, it has been in the Resizing state for a long time.\r\n\r\n```\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  annotations:\r\n    pv.kubernetes.io/bind-completed: \"yes\"\r\n    pv.kubernetes.io/bound-by-controller: \"yes\"\r\n    volume.beta.kubernetes.io/storage-provisioner: kubernetes.io/rbd\r\n  creationTimestamp: \"2020-02-28T02:36:26Z\"\r\n  finalizers:\r\n  - kubernetes.io/pvc-protection\r\n  name: intree-rbd-pvc\r\n  namespace: default\r\n  resourceVersion: \"113553071\"\r\n  selfLink: /api/v1/namespaces/default/persistentvolumeclaims/intree-rbd-pvc\r\n  uid: 1e3887cd-59d3-11ea-b7ad-eeeeeeeeeeee\r\nspec:\r\n  accessModes:\r\n  - ReadWriteOnce\r\n  resources:\r\n    requests:\r\n      storage: 30Gi\r\n  storageClassName: intree-rbd-sc\r\n  volumeMode: Filesystem\r\n  volumeName: pvc-1e3887cd-59d3-11ea-b7ad-eeeeeeeeeeee\r\nstatus:\r\n  accessModes:\r\n  - ReadWriteOnce\r\n  capacity:\r\n    storage: 20Gi\r\n  conditions:\r\n  - lastProbeTime: null\r\n    lastTransitionTime: \"2020-02-28T02:47:59Z\"\r\n    status: \"True\"\r\n    type: Resizing\r\n  phase: Bound\r\n```\r\n\r\nAnd kube-controller-manager reported this error\uff1a\r\n\r\n```\r\nE0228 02:48:02.557189       1 nestedpendingoperations.go:267] Operation for \"\\\"1e3887cd-59d3-11ea-b7ad-eeeeeeeeeeee\\\"\" failed. No retries permitted until 2020-02-28 02:48:03.05705946 +0000 UTC m=+327.117830161 (durationBeforeRetry 500ms). Error: \"error expanding volume \\\"default/intree-rbd-pvc\\\" of plugin \\\"kubernetes.io/rbd\\\": rbd info failed, error: parse rbd info output failed: 2020-02-28 02:47:59.305808 7f769ab000 -1 did not load config file, using default settings.\\n2020-02-28 02:47:59.320080 7f769ab000 -1 auth: unable to find a keyring on /etc/ceph/ceph.client.admin.keyring,/etc/ceph/ceph.keyring,/etc/ceph/keyring,/etc/ceph/keyring.bin: (2) No such file or directory\\n2020-02-28 02:47:59.321712 7f747ee850  0 -- :/243049777 >> 172.16.2.105:6789/0 pipe(0x1213c9fa0 sd=3 :0 s=1 pgs=0 cs=0 l=1 c=0x1213c7e00).fault\\n{\\\"name\\\":\\\"kubernetes-dynamic-pvc-11614948-59d4-11ea-a0dd-eeeeeeeeeeee\\\",\\\"size\\\":21474836480,\\\"objects\\\":5120,\\\"order\\\":22,\\\"object_size\\\":4194304,\\\"block_name_prefix\\\":\\\"rbd_data.b372176b8b4567\\\",\\\"format\\\":2,\\\"features\\\":[\\\"layering\\\"],\\\"flags\\\":[]}, invalid character '-' after top-level value\"\r\nI0228 02:48:02.557190       1 event.go:209] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"default\", Name:\"intree-rbd-pvc\", UID:\"1e3887cd-59d3-11ea-b7ad-eeeeeeeeeeee\", APIVersion:\"v1\", ResourceVersion:\"113553071\", FieldPath:\"\"}): type: 'Warning' reason: 'VolumeResizeFailed' error expanding volume \"default/intree-rbd-pvc\" of plugin \"kubernetes.io/rbd\": rbd info failed, error: parse rbd info output failed: 2020-02-28 02:47:59.305808 7f769ab000 -1 did not load config file, using default settings.\r\n2020-02-28 02:47:59.320080 7f769ab000 -1 auth: unable to find a keyring on /etc/ceph/ceph.client.admin.keyring,/etc/ceph/ceph.keyring,/etc/ceph/keyring,/etc/ceph/keyring.bin: (2) No such file or directory\r\n2020-02-28 02:47:59.321712 7f747ee850  0 -- :/243049777 >> 172.16.2.105:6789/0 pipe(0x1213c9fa0 sd=3 :0 s=1 pgs=0 cs=0 l=1 c=0x1213c7e00).fault\r\n{\"name\":\"kubernetes-dynamic-pvc-11614948-59d4-11ea-a0dd-eeeeeeeeeeee\",\"size\":21474836480,\"objects\":5120,\"order\":22,\"object_size\":4194304,\"block_name_prefix\":\"rbd_data.b372176b8b4567\",\"format\":2,\"features\":[\"layering\"],\"flags\":[]}, invalid character '-' after top-level value\r\n```\r\n\r\nThe most important msg is:\r\n\r\n```\r\nrbd info failed, error: parse rbd info output failed\r\n```\r\n\r\nI found this err:\r\nhttps://github.com/kubernetes/kubernetes/blob/79377454e8dfa4c9c96f786c2f34e2a6230f7139/pkg/volume/rbd/rbd_util.go#L735\r\n\r\nAfter I read this part of the code, I realized that the output of command \"rbd info\" is not a struct.\r\n\r\n**What you expected to happen**:\r\n\r\nPvc expand successful.\r\n",
  "closed_at": "2020-06-11T07:37:16Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/50908370?v=4",
    "events_url": "https://api.github.com/users/huchengze/events{/privacy}",
    "followers_url": "https://api.github.com/users/huchengze/followers",
    "following_url": "https://api.github.com/users/huchengze/following{/other_user}",
    "gists_url": "https://api.github.com/users/huchengze/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/huchengze",
    "id": 50908370,
    "login": "huchengze",
    "node_id": "MDQ6VXNlcjUwOTA4Mzcw",
    "organizations_url": "https://api.github.com/users/huchengze/orgs",
    "received_events_url": "https://api.github.com/users/huchengze/received_events",
    "repos_url": "https://api.github.com/users/huchengze/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/huchengze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huchengze/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/huchengze"
  },
  "comments": 11,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/88643/comments",
  "created_at": "2020-02-28T03:50:45Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/88643/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/88643",
  "id": 572502683,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Storage.",
      "id": 169428334,
      "name": "sig/storage",
      "node_id": "MDU6TGFiZWwxNjk0MjgzMzQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/storage"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/88643/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NzI1MDI2ODM=",
  "number": 88643,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Use intree-rbd to expand pvc failed",
  "updated_at": "2020-06-11T07:37:16Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/88643",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/50908370?v=4",
    "events_url": "https://api.github.com/users/huchengze/events{/privacy}",
    "followers_url": "https://api.github.com/users/huchengze/followers",
    "following_url": "https://api.github.com/users/huchengze/following{/other_user}",
    "gists_url": "https://api.github.com/users/huchengze/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/huchengze",
    "id": 50908370,
    "login": "huchengze",
    "node_id": "MDQ6VXNlcjUwOTA4Mzcw",
    "organizations_url": "https://api.github.com/users/huchengze/orgs",
    "received_events_url": "https://api.github.com/users/huchengze/received_events",
    "repos_url": "https://api.github.com/users/huchengze/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/huchengze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huchengze/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/huchengze"
  }
}
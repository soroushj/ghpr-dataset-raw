{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "<!-- Thanks for filing an issue! Before hitting the button, please answer these questions.-->\r\n\r\n**Is this a request for help?** (If yes, you should use our troubleshooting guide and community support channels, see http://kubernetes.io/docs/troubleshooting/.):\r\n\r\n\r\n**What keywords did you search in Kubernetes issues before filing this one?** (If you have found any duplicates, you should instead reply there.):\r\n\r\n---\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?** (choose one): BUG REPORT\r\n\r\n<!--\r\nIf this is a BUG REPORT, please:\r\n  - Fill in as much of the template below as you can.  If you leave out\r\n    information, we can't help you as well.\r\n\r\nIf this is a FEATURE REQUEST, please:\r\n  - Describe *in detail* the feature/behavior/change you'd like to see.\r\n\r\nIn both cases, be ready for followup questions, and please respond in a timely\r\nmanner.  If we can't reproduce a bug or think a feature already exists, we\r\nmight close your issue.  If we're wrong, PLEASE feel free to reopen it and\r\nexplain why.\r\n-->\r\n\r\n**Kubernetes version** (use `kubectl version`): v1.4.x v1.5.x v1.6.x master\r\n\r\n\r\n**Environment**: vSphere based install with vSphere Cloud Provider enabled.\r\n- **Cloud provider or hardware configuration**: vSphere\r\n- **OS** (e.g. from /etc/os-release): NA\r\n- **Kernel** (e.g. `uname -a`):NA\r\n- **Install tools**:kubernetes-anywhere\r\n- **Others**:\r\n\r\n\r\n**What happened**: vSphere Cloud Provider configures additional SCSI adapters to scale the number of volumes that can be attached to a VM (1 adapter = 16 disks). The code within the cloud provider does not handle this correctly. Additional disks attach successfully to the VM but when k8s verifies the attach status it fails leading to k8s retrying the attach that never succeeds. In addition to this when the SCSI adapter is created for the first time the code does not use it to attach the disk leading to a failed attach disk request to the cloud provider.\r\n\r\n\r\n**What you expected to happen**: Additional disks should be added to the VM upto the max number supported. \r\n\r\n\r\n**How to reproduce it** (as minimally and precisely as possible): Create a single node cluster and create a statefulset with > 16 replicas or have a pod with more than 16 disks.\r\n\r\n\r\n**Anything else we need to know**:\r\n",
  "closed_at": "2017-03-23T02:23:19Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42399/comments",
  "created_at": "2017-03-02T07:53:48Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42399/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/42399",
  "id": 211315117,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42399/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMTEzMTUxMTc=",
  "number": 42399,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "vSphere: Cannot add disks to more than one scsi adapter (disk count per node > 16)",
  "updated_at": "2017-03-23T02:23:19Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42399",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/774455?v=4",
    "events_url": "https://api.github.com/users/kerneltime/events{/privacy}",
    "followers_url": "https://api.github.com/users/kerneltime/followers",
    "following_url": "https://api.github.com/users/kerneltime/following{/other_user}",
    "gists_url": "https://api.github.com/users/kerneltime/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kerneltime",
    "id": 774455,
    "login": "kerneltime",
    "node_id": "MDQ6VXNlcjc3NDQ1NQ==",
    "organizations_url": "https://api.github.com/users/kerneltime/orgs",
    "received_events_url": "https://api.github.com/users/kerneltime/received_events",
    "repos_url": "https://api.github.com/users/kerneltime/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kerneltime/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kerneltime/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kerneltime"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/9354727?v=4",
    "events_url": "https://api.github.com/users/SataQiu/events{/privacy}",
    "followers_url": "https://api.github.com/users/SataQiu/followers",
    "following_url": "https://api.github.com/users/SataQiu/following{/other_user}",
    "gists_url": "https://api.github.com/users/SataQiu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/SataQiu",
    "id": 9354727,
    "login": "SataQiu",
    "node_id": "MDQ6VXNlcjkzNTQ3Mjc=",
    "organizations_url": "https://api.github.com/users/SataQiu/orgs",
    "received_events_url": "https://api.github.com/users/SataQiu/received_events",
    "repos_url": "https://api.github.com/users/SataQiu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/SataQiu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SataQiu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/SataQiu"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/9354727?v=4",
      "events_url": "https://api.github.com/users/SataQiu/events{/privacy}",
      "followers_url": "https://api.github.com/users/SataQiu/followers",
      "following_url": "https://api.github.com/users/SataQiu/following{/other_user}",
      "gists_url": "https://api.github.com/users/SataQiu/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SataQiu",
      "id": 9354727,
      "login": "SataQiu",
      "node_id": "MDQ6VXNlcjkzNTQ3Mjc=",
      "organizations_url": "https://api.github.com/users/SataQiu/orgs",
      "received_events_url": "https://api.github.com/users/SataQiu/received_events",
      "repos_url": "https://api.github.com/users/SataQiu/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SataQiu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SataQiu/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SataQiu"
    }
  ],
  "author_association": "NONE",
  "body": "<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n**What happened**:\r\nadd a CRD resource with kind only a single character while cause kube-apiserver crash\uff08slice bounds out of range\uff09\r\n**What you expected to happen**:\r\nadd validation to limit CRD kind definition or fix the bug of slice out of bounds\u3002\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n`\r\napiVersion: apiextensions.k8s.io/v1beta1\r\nkind: CustomResourceDefinition\r\nmetadata:\r\n  name: rs.crd.test.org\r\nspec:\r\n  group: crd.test.org\r\n  version: v1\r\n  names:\r\n    kind: R\r\n    plural: rs\r\n    singular: r\r\n  scope: Cluster\r\n`\r\n\r\n**Anything else we need to know?**:\r\napiserverlogs:\r\n`16606 10:05:32.237058\t6 panic.go:679] Shutting down OpenAPI controller\r\nE6606 10:05:32.237233\t6 runtime.go:78] Observed a panic: runtime.boundsError{x:-1, y:1, signed:true, code:0x3> (runtime error: slice bounds out of range [-1:])\r\ngoroutine 1670 [running]:\r\nk8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/runtime.logPanic(0x41458a0, Gxc00ed66d40)\r\n/workspace/anago-v1.17.G-rc.2.1G+7G132bGf130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/runtime/runtime.go:74 +0xa3 k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/runtime.HandleCrash(0x0, 0x0, 0x0)\r\n/workspace/anago-v1.17.G-rc.2.1G+7G132bGf130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/runtime/runtime.go:48 +0x82 panic(0x41458a0, Oxc0Oed66d40)\r\n/usr/local/go/src/runtime/panic.go:679 +0x1b2\r\nk8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints.GetArticleForNoun(0x7493232, 0x1, 0x447d778, 0x1, 0x130, 0xc00ed13680)\r\n/workspace/anago-v1.17.0-rc.2.1G+7G132bGf130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiserver/pkg/endpoints/installer.go:1056 +0x2b8 k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/builder.(\"builder).descriptionFor(\u20acxc007b351f0, 0x0, 0x0, 0x4481982, 0x6, Gxc00ed06d00, 0x18)\r\n/workspace/anago-v1.17.0-rc.2.1G+7G132bGf130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/builder/builder.go:243 +0x3c6 k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/builder.(\"builder).buildRoute(GxcGG7b351fG, 0xc00ed66d00, 0x18, 0x0, 0x0, 0x447f0F3, 0x4, 0x447f71b, 0x4, 0x4481982, ...)\r\n/workspace/anago-v1.17.0-rc.2.1G+7G132bGf130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/builder/builder .go :281 +0x197 k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/builder.BuildSwagger(0xc66b7bcfd0, 0xc005d24a3c, 0x2, 0x101, 0x1, 0x2, Gxc60b76aec8)\r\n/workspace/anago-v1.17.0-rc .2.10+70132b0F130acc/src/k8s .io/kubernetes/_output/dockerized/go/src/k8s .io/kubernetes/vendor/k8s .io/apiextensions-apiserver/pkg/controller/openapi/builder/builder .go :146 +0x49d k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi.buildUersionSpecs(0xc66b7bcfd0, 0x0, Oxb, Gx447f1db, 0x4, 0x1)\r\n/workspace/anago-v1.17.0-rc.2.10+70132b0F130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/controller.go:204 +0x1a8 k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi.(\"Controller).Run(0xc0012c8050, Gxc0G1d61200, 0xc007a6d1e0, 0xc069cced80)\r\n/workspace/anago-v1.17.0-rc.2.10+70132b0F130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/controller/openapi/controller.go:105 +0x2da created by k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/apiserver.conpletedConfig.New.func2\r\n/workspace/anago-v1.17.0-rc.2.10+70132b0F130acc/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/apiextensions-apiserver/pkg/apiserver/apiserver .go :236 +0x244 panic: runtime error: slice bounds out of range [-1:] [recovered] panic: runtime error: slice bounds out of range [-1:]`\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`): 1.18.0\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g: `cat /etc/os-release`):\r\n- Kernel (e.g. `uname -a`):\r\n\r\n\r\n- Install tools:\r\n- Network plugin and version (if this is a network-related bug):\r\n- Others:\r\n",
  "closed_at": "2020-06-07T03:21:46Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91857/comments",
  "created_at": "2020-06-06T10:12:37Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91857/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/91857",
  "id": 632351345,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG API Machinery.",
      "id": 173493835,
      "name": "sig/api-machinery",
      "node_id": "MDU6TGFiZWwxNzM0OTM4MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/api-machinery"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91857/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2MzIzNTEzNDU=",
  "number": 91857,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "add a CRD resource with kind only a single character while cause kube-apiserver crash",
  "updated_at": "2020-06-08T03:27:01Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91857",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/7565495?v=4",
    "events_url": "https://api.github.com/users/lidajia/events{/privacy}",
    "followers_url": "https://api.github.com/users/lidajia/followers",
    "following_url": "https://api.github.com/users/lidajia/following{/other_user}",
    "gists_url": "https://api.github.com/users/lidajia/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/lidajia",
    "id": 7565495,
    "login": "lidajia",
    "node_id": "MDQ6VXNlcjc1NjU0OTU=",
    "organizations_url": "https://api.github.com/users/lidajia/orgs",
    "received_events_url": "https://api.github.com/users/lidajia/received_events",
    "repos_url": "https://api.github.com/users/lidajia/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/lidajia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lidajia/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/lidajia"
  }
}
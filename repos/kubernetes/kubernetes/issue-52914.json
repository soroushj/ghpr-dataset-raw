{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/26879063?v=4",
    "events_url": "https://api.github.com/users/yguo0905/events{/privacy}",
    "followers_url": "https://api.github.com/users/yguo0905/followers",
    "following_url": "https://api.github.com/users/yguo0905/following{/other_user}",
    "gists_url": "https://api.github.com/users/yguo0905/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yguo0905",
    "id": 26879063,
    "login": "yguo0905",
    "node_id": "MDQ6VXNlcjI2ODc5MDYz",
    "organizations_url": "https://api.github.com/users/yguo0905/orgs",
    "received_events_url": "https://api.github.com/users/yguo0905/received_events",
    "repos_url": "https://api.github.com/users/yguo0905/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yguo0905/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yguo0905/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yguo0905"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/26879063?v=4",
      "events_url": "https://api.github.com/users/yguo0905/events{/privacy}",
      "followers_url": "https://api.github.com/users/yguo0905/followers",
      "following_url": "https://api.github.com/users/yguo0905/following{/other_user}",
      "gists_url": "https://api.github.com/users/yguo0905/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yguo0905",
      "id": 26879063,
      "login": "yguo0905",
      "node_id": "MDQ6VXNlcjI2ODc5MDYz",
      "organizations_url": "https://api.github.com/users/yguo0905/orgs",
      "received_events_url": "https://api.github.com/users/yguo0905/received_events",
      "repos_url": "https://api.github.com/users/yguo0905/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yguo0905/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yguo0905/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yguo0905"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n\r\n/kind bug\r\n\r\n**What happened**:\r\n\r\nI'm implementing a scheduler extender, which handles the delegated \"bind\" call from kube-scheduler. In the bind call, the extender first modified the annotation of the pod and then bound the pod to the node.\r\n\r\nThe following error was printed in kube-scheduler's log:\r\n\r\n```\r\nE0920 17:12:53.031408 18442 scheduler.go:235] scheduler cache AssumePod failed: pod default/test-pod state wasn't initial but get assumed\r\n```\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/74604d123d7e98da941f765a4353450cfd515b5d/plugin/pkg/scheduler/scheduler.go#L235-L241\r\n\r\nThis was what happened:\r\n\r\n1. kube-scheduler can detect new unassigned pods or updates of such pods.\r\n2. kube-scheduler calculated the preferred node and call \"bind\" on the extender.\r\n3. The extender changed the pod annotations, which triggered an update on the this not-yet-assigned pod, which was detected by kube-scheduler as in step 1.\r\n4. The extender bound the preferred node to the pod.\r\n5. kube-scheduler detected the updated triggered in step 3, and generated the error since this pod has already been assumed.\r\n\r\nI think this can happen if the pod gets updated during scheduling rarely but it always happens in my extender case.\r\n\r\n**What you expected to happen**:\r\n\r\nThe scheduler should handle the updates of the unassigned pods more gracefully during their scheduling, by checking the existing assumed pod in the cache before processing the pod update.\r\n\r\n/sig scheduling\r\n/assign",
  "closed_at": "2017-10-17T11:53:40Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52914/comments",
  "created_at": "2017-09-22T16:21:23Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52914/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/52914",
  "id": 259867681,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52914/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNTk4Njc2ODE=",
  "number": 52914,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Scheduler should handle pod updates during scheduling more gracefully",
  "updated_at": "2017-10-17T11:53:40Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/52914",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/26879063?v=4",
    "events_url": "https://api.github.com/users/yguo0905/events{/privacy}",
    "followers_url": "https://api.github.com/users/yguo0905/followers",
    "following_url": "https://api.github.com/users/yguo0905/following{/other_user}",
    "gists_url": "https://api.github.com/users/yguo0905/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/yguo0905",
    "id": 26879063,
    "login": "yguo0905",
    "node_id": "MDQ6VXNlcjI2ODc5MDYz",
    "organizations_url": "https://api.github.com/users/yguo0905/orgs",
    "received_events_url": "https://api.github.com/users/yguo0905/received_events",
    "repos_url": "https://api.github.com/users/yguo0905/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/yguo0905/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yguo0905/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/yguo0905"
  }
}
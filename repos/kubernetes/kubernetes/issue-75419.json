{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "**What would you like to be added**:\r\nKubernetes scheduling queue is comprised of three sub-queues:\r\n1. unschedulableQ: is used to hold pods that are unschedulable\r\n2. activeQ: is used to hold pods that should be attempted by the scheduler. This is a heap. A pod with the highest priority is at the head of this queue. Ties are broken by last schedule timestamp.\r\n3. podBackoffQ: similar to activeQ, this queue is used to hold pods that should be attempted, but they have been attempted more than once by the scheduler in short past and they are not subject to back off. This queue prevents an unschedulable high priority pod from hugging the head of the scheduling queue. Once a pod waits for the specified amount of time in this queue, it is transferred to the activeQ.\r\n\r\nThe amount of time that a pod should wait in the podBackoffQ starts at 1 second and is doubled every time the pod is determined unschedulable, up to 10 seconds. The scheduler uses a separate utility called [PodBackoff](https://github.com/kubernetes/kubernetes/blob/master/pkg/scheduler/util/backoff_utils.go) to track the amount of time a pod must wait in the podBackoffQ. With new enhancement to the scheduling queue, this utility is not necessary any more. Currently, the scheduling queue knows the timestamp that a pod is added to the scheduling queue. If we add a structure (map) to track the number of scheduling attempts for pods, we can easily compute the time when an unschedulable pod is in the podBackoffQ should be attempted again without the need for the backoff util. The new map can be cleaned up when a pod is scheduled or when a pod is not seen for a certain amount of time. Time based cleanup is more reliable as it covers pods deletion, updates, etc as well.\r\nAs a positive side effect of this change, we can have a metric for how many scheduling attempts it took for a pod to be scheduled.\r\n\r\n**Why is this needed**:\r\nSimplify backoff mechanism. \r\n\r\n/sig scheduling\r\n/kind cleanup\r\n\r\ncc/ @misterikkit ",
  "closed_at": "2019-04-06T01:06:42Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/75419/comments",
  "created_at": "2019-03-15T22:58:08Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/75419/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/75419",
  "id": 421733075,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to cleaning up code, process, or technical debt.",
      "id": 122775691,
      "name": "kind/cleanup",
      "node_id": "MDU6TGFiZWwxMjI3NzU2OTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/cleanup"
    },
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/75419/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MjE3MzMwNzU=",
  "number": 75419,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Integrate backoff mechanism into the scheduling queue and remove the Backoff util",
  "updated_at": "2019-04-06T01:06:42Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/75419",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
    "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
    "followers_url": "https://api.github.com/users/bsalamat/followers",
    "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bsalamat",
    "id": 14308438,
    "login": "bsalamat",
    "node_id": "MDQ6VXNlcjE0MzA4NDM4",
    "organizations_url": "https://api.github.com/users/bsalamat/orgs",
    "received_events_url": "https://api.github.com/users/bsalamat/received_events",
    "repos_url": "https://api.github.com/users/bsalamat/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bsalamat"
  }
}
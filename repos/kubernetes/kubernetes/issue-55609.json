{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "\r\n**Is this a BUG REPORT or FEATURE REQUEST?**: FEATURE\r\n/kind feature\r\n\r\n**What happened**:\r\nWe developed flex volume driver implementing 1. attach , 2. mount , 3. mountDevice 4, detach , 5. unmount call outs .  The `attach ` call out fails if there are some error at vendor side or if user specify wrong access policies in pvc yaml. These error are not getting added as event in POD . The add only generic error events as below \r\n```Warning\t\tFailedMount\tUnable to mount volumes for pod \"wordpress-4199438522-50xjb_default(5603b982-0ef2-11e7-9fd7-42010a80002d)\": timeout expired waiting for volumes to attach/mount for pod \"default\"/\"wordpress-4199438522-50xjb\". list of unattached/unmounted volumes=[wordpress-persistent-storage]\r\n  50s\t\t50s\t\t1\t{kubelet gke-wordpress-cluster-default-pool-b41e0322-m764}\t\t\tWarning\t\tFailedSync\tError syncing pod, skipping: timeout expired waiting for volumes to attach/mount for pod \"default\"/\"wordpress-4199438522-50xjb\". list of unattached/unmounted volumes=[wordpress-persistent-storage] \r\n``` \r\n\r\nThe actual error returned from Flex Driver is not getting logged in the event . So user will not have any Idea why the volume mount failed\r\n**What you expected to happen**:\r\n\r\nThe error returned from `attach` call out of flex volume driver should have been added as a event for POD . With this error, user should be able to debug and fix the error .\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n1. Create a PersistentVolumeClaim(PVC) bound to  PersistentVolume(PV) . \r\n2. Update the PV object with wrong paramters so that `attach` call will fail. \r\n3. Mount the PVC to POD \r\n\r\n\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):\r\n```Client Version: version.Info{Major:\"1\", Minor:\"7\", GitVersion:\"v1.7.3\", GitCommit:\"2c2fe6e8278a5db2d15a013987b53968c743f2a1\", GitTreeState:\"clean\", BuildDate:\"2017-08-03T07:00:21Z\", GoVersion:\"go1.8.3\", Compiler:\"gc\", Platform:\"darwin/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"7+\", GitVersion:\"v1.7.4-1+1540c973d4ff9d\", GitCommit:\"1540c973d4ff9da2d6a204a7709084488a459ed4\", GitTreeState:\"clean\", BuildDate:\"2017-10-06T15:08:43Z\", GoVersion:\"go1.8.3\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g. from /etc/os-release):\r\n`NAME=\"Ubuntu\"\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n`\r\n- Kernel (e.g. `uname -a`): `Linux kube-dal12-cr59730d7b010e452ca98597366a3e5e57-w1.cloud.ibm 4.4.0-72-generic #93-Ubuntu SMP Fri Mar 31 14:07:41 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux` \r\n- Install tools:\r\n- Others:\r\n",
  "closed_at": "2017-11-20T15:24:08Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55609/comments",
  "created_at": "2017-11-13T14:08:51Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55609/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/55609",
  "id": 273441642,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Storage.",
      "id": 169428334,
      "name": "sig/storage",
      "node_id": "MDU6TGFiZWwxNjk0MjgzMzQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/storage"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55609/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNzM0NDE2NDI=",
  "number": 55609,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Flex volume driver errors from attach callout  are not getting added as event in POD",
  "updated_at": "2017-11-20T15:24:08Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/55609",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/26400270?v=4",
    "events_url": "https://api.github.com/users/pramodgavali/events{/privacy}",
    "followers_url": "https://api.github.com/users/pramodgavali/followers",
    "following_url": "https://api.github.com/users/pramodgavali/following{/other_user}",
    "gists_url": "https://api.github.com/users/pramodgavali/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/pramodgavali",
    "id": 26400270,
    "login": "pramodgavali",
    "node_id": "MDQ6VXNlcjI2NDAwMjcw",
    "organizations_url": "https://api.github.com/users/pramodgavali/orgs",
    "received_events_url": "https://api.github.com/users/pramodgavali/received_events",
    "repos_url": "https://api.github.com/users/pramodgavali/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/pramodgavali/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pramodgavali/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/pramodgavali"
  }
}
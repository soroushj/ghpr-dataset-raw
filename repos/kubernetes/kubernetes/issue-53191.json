{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**What happened**:\r\nWe use OpenStack as our cloud provider. We meet an issue that some controllers stuck because all workers routine stuck at http call to OpenStack services because of rabbitmq issues.\r\n\r\nStuck routine call stack:\r\n```\r\ngoroutine 65108 [select, 145 minutes]:\r\nnet/http.(*persistConn).roundTrip(0xc42f6fb700, 0xc422c5acc0, 0x0, 0x0, 0x0)\r\n    /usr/local/go/src/net/http/transport.go:1840 +0x93b\r\nnet/http.(*Transport).RoundTrip(0xc4200f0000, 0xc42547f950, 0xc4200f0000, 0x0, 0xc400000000)\r\n    /usr/local/go/src/net/http/transport.go:380 +0x4fa\r\nnet/http.send(0xc42547f950, 0x48e4b80, 0xc4200f0000, 0x0, 0x0, 0x0, 0x8, 0xc42b3cea20, 0x40fb78)\r\n    /usr/local/go/src/net/http/client.go:256 +0x15f\r\nnet/http.(*Client).send(0xc4211c8428, 0xc42547f950, 0x0, 0x0, 0x0, 0xc42b3cea20, 0x0, 0x1)\r\n    /usr/local/go/src/net/http/client.go:146 +0x102\r\nnet/http.(*Client).doFollowingRedirects(0xc4211c8428, 0xc42547f950, 0x33407f0, 0x4, 0x1, 0xc42ae6a3c8)\r\n    /usr/local/go/src/net/http/client.go:528 +0x5e5\r\nnet/http.(*Client).Do(0xc4211c8428, 0xc42547f950, 0x1c, 0x3177153, 0x11)\r\n    /usr/local/go/src/net/http/client.go:187 +0x11d\r\nk8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud.(*ProviderClient).Request(0xc4211c83f0, 0x3159d93, 0x4, 0xc428126c00, 0x37, 0xc430a750a8, 0x0, 0x0, 0x0)\r\n    /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud/provider_client.go:169 +0x3b5\r\nk8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud.(*ServiceClient).Post(0xc426444e40, 0xc428126c00, 0x37, 0x2bff4a0, 0xc4289f1500, 0x298cde0, 0xc4289f1470, 0xc430a750a8, 0x40c99f, 0x2f21380, ...)\r\n    /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud/service_client.go:78 +0x1b1\r\nk8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud/openstack/networking/v2/extensions/lbaas/members.Create(0xc426444e40, 0x48e76c0, 0xc428126b80, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n    /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/gophercloud/gophercloud/openstack/networking/v2/extensions/lbaas/members/requests.go:74 +0x19a\r\n```\r\n\r\nChecked the openstack cloud provider that there is no HttpClient.Timeout set which means no timeout during http call. I think we should set at least the default http timeout value.\r\nhttps://github.com/kubernetes/kubernetes/blob/master/pkg/cloudprovider/providers/openstack/openstack.go#L264-L291\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):\r\nv1.6.3\r\n- Cloud provider or hardware configuration**:\r\nOpenStack\r\n",
  "closed_at": "2017-10-05T13:08:58Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53191/comments",
  "created_at": "2017-09-28T09:08:30Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53191/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/53191",
  "id": 261245540,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": "Issues or PRs related to openstack provider",
      "id": 239914558,
      "name": "area/provider/openstack",
      "node_id": "MDU6TGFiZWwyMzk5MTQ1NTg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/provider/openstack"
    },
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53191/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNjEyNDU1NDA=",
  "number": 53191,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "All endpoint controller workers stuck at http call because of missing timeout setting",
  "updated_at": "2017-10-05T13:08:58Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53191",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/11433689?v=4",
    "events_url": "https://api.github.com/users/xinxiaogang/events{/privacy}",
    "followers_url": "https://api.github.com/users/xinxiaogang/followers",
    "following_url": "https://api.github.com/users/xinxiaogang/following{/other_user}",
    "gists_url": "https://api.github.com/users/xinxiaogang/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/xinxiaogang",
    "id": 11433689,
    "login": "xinxiaogang",
    "node_id": "MDQ6VXNlcjExNDMzNjg5",
    "organizations_url": "https://api.github.com/users/xinxiaogang/orgs",
    "received_events_url": "https://api.github.com/users/xinxiaogang/received_events",
    "repos_url": "https://api.github.com/users/xinxiaogang/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/xinxiaogang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xinxiaogang/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/xinxiaogang"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/4237254?v=4",
    "events_url": "https://api.github.com/users/knight42/events{/privacy}",
    "followers_url": "https://api.github.com/users/knight42/followers",
    "following_url": "https://api.github.com/users/knight42/following{/other_user}",
    "gists_url": "https://api.github.com/users/knight42/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/knight42",
    "id": 4237254,
    "login": "knight42",
    "node_id": "MDQ6VXNlcjQyMzcyNTQ=",
    "organizations_url": "https://api.github.com/users/knight42/orgs",
    "received_events_url": "https://api.github.com/users/knight42/received_events",
    "repos_url": "https://api.github.com/users/knight42/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/knight42/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/knight42/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/knight42"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/4237254?v=4",
      "events_url": "https://api.github.com/users/knight42/events{/privacy}",
      "followers_url": "https://api.github.com/users/knight42/followers",
      "following_url": "https://api.github.com/users/knight42/following{/other_user}",
      "gists_url": "https://api.github.com/users/knight42/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/knight42",
      "id": 4237254,
      "login": "knight42",
      "node_id": "MDQ6VXNlcjQyMzcyNTQ=",
      "organizations_url": "https://api.github.com/users/knight42/orgs",
      "received_events_url": "https://api.github.com/users/knight42/received_events",
      "repos_url": "https://api.github.com/users/knight42/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/knight42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/knight42/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/knight42"
    }
  ],
  "author_association": "MEMBER",
  "body": "**Which jobs are flaking**:\r\n\r\nperiodic-kubernetes-bazel-test-master (xref https://github.com/kubernetes/kubernetes/issues/94528#issuecomment-687208028)\r\n\r\n**Which test(s) are flaking**:\r\n\r\nk8s.io/client-go/tools/events TestEventSeriesf\r\n\r\n**Testgrid link**:\r\n\r\nhttps://testgrid.k8s.io/sig-release-master-blocking#bazel-test-master&width=20&sort-by-name=&include-filter-by-regex=k8s.io/client-go/tools/events/go\r\n\r\n**Reason for failure**:\r\n\r\nTimeout:\r\n\r\n```\r\npanic: test timed out:\r\n\r\ngoroutine 36 [running]:\r\ntesting.(*M).startAlarm.func1()\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1609 +0x11f\r\ncreated by time.goFunc\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/time/sleep.go:167 +0x52\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.(*T).Run(0xc000370780, 0x27494fd, 0x10, 0x27de6e8, 0x0)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1160 +0x7cf\r\ntesting.runTests.func1(0xc000370780)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1430 +0xa7\r\ntesting.tRunner(0xc000370780, 0xc0000dfcc8)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1108 +0x203\r\ntesting.runTests(0xc00036f2e0, 0x312d720, 0x3, 0x3, 0xbfcd324b557f0188, 0x12caa5938, 0x313ed80, 0x1)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1428 +0x5ab\r\ntesting.(*M).Run(0xc0003a0000, 0x0)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1338 +0x4ec\r\nmain.main()\r\n\t_testmain.go:47 +0x237\r\n\r\ngoroutine 6 [chan receive]:\r\nk8s.io/klog/v2.(*loggingT).flushDaemon(0x313f020)\r\n\t/Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:1131 +0xb1\r\ncreated by k8s.io/klog/v2.init.0\r\n\t/Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:416 +0x190\r\n\r\ngoroutine 7 [chan receive]:\r\nk8s.io/client-go/tools/events.TestEventSeriesf(0xc000370900)\r\n\t/Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/eventseries_test.go:174 +0x170e\r\ntesting.tRunner(0xc000370900, 0x27de6e8)\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1108 +0x203\r\ncreated by testing.(*T).Run\r\n\t/Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1159 +0x797\r\n\r\ngoroutine 18 [chan receive]:\r\nk8s.io/apimachinery/pkg/watch.(*Broadcaster).loop(0xc000134000)\r\n\t/Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/watch/mux.go:219 +0x8b\r\ncreated by k8s.io/apimachinery/pkg/watch.NewBroadcaster\r\n\t/Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/watch/mux.go:73 +0x1cb\r\n\r\ngoroutine 19 [chan send]:\r\nk8s.io/client-go/tools/events.TestEventSeriesf.func3(0xc00012aa00, 0xc000049ae0, 0x\r\n\u2026\r\n10407 runs so far, 1 failures\r\n^C\r\n[liggitt@liggitt-macbookpro2 kubernetes]$ more /var/folders/7f/9xt_73f12xlby0w362rgk0s400kjgb/T/go-stress-20200905T230234-934809070\r\npanic: test timed out after 5s\r\n\r\ngoroutine 36 [running]:\r\ntesting.(*M).startAlarm.func1()\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1609 +0x11f\r\ncreated by time.goFunc\r\n        /Users/liggitt/.gvm/gos/go1.15/src/time/sleep.go:167 +0x52\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.(*T).Run(0xc000370780, 0x27494fd, 0x10, 0x27de6e8, 0x0)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1160 +0x7cf\r\ntesting.runTests.func1(0xc000370780)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1430 +0xa7\r\ntesting.tRunner(0xc000370780, 0xc0000dfcc8)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1108 +0x203\r\ntesting.runTests(0xc00036f2e0, 0x312d720, 0x3, 0x3, 0xbfcd324b557f0188, 0x12caa5938, 0x313ed80, 0x1)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1428 +0x5ab\r\ntesting.(*M).Run(0xc0003a0000, 0x0)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1338 +0x4ec\r\nmain.main()\r\n        _testmain.go:47 +0x237\r\n\r\ngoroutine 6 [chan receive]:\r\nk8s.io/klog/v2.(*loggingT).flushDaemon(0x313f020)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:1131 +0xb1\r\ncreated by k8s.io/klog/v2.init.0\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:416 +0x190\r\n\r\ngoroutine 7 [chan receive]:\r\nk8s.io/client-go/tools/events.TestEventSeriesf(0xc000370900)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/eventseries_test.go:174 +0x170e\r\ntesting.tRunner(0xc000370900, 0x27de6e8)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1108 +0x203\r\ncreated by testing.(*T).Run\r\n        /Users/liggitt/.gvm/gos/go1.15/src/testing/testing.go:1159 +0x797\r\n\r\ngoroutine 18 [chan receive]:\r\nk8s.io/apimachinery/pkg/watch.(*Broadcaster).loop(0xc000134000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/watch/mux.go:219 +0x8b\r\ncreated by k8s.io/apimachinery/pkg/watch.NewBroadcaster\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/watch/mux.go:73 +0x1cb\r\n\r\ngoroutine 19 [chan send]:\r\nk8s.io/client-go/tools/events.TestEventSeriesf.func3(0xc00012aa00, 0xc000049ae0, 0x47, 0x50, 0x0, 0x0, 0x0)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/eventseries_test.go:155 +0x56\r\nk8s.io/client-go/tools/events.(*testEventSeriesSink).Patch(0xc000112040, 0xc00012aa00, 0xc000049ae0, 0x47, 0x50, 0x0, 0x0, 0xc00000e040)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/eventseries_test.go:62 +0xa2\r\nk8s.io/client-go/tools/events.recordEvent(0x2910820, 0xc000112040, 0xc00012aa00, 0x3170a84, 0xc00008db00)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:231 +0x87b\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).refreshExistingEventSeries(0xc000130060)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:131 +0x226\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartRecordingToSink.func1()\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:313 +0x45\r\nk8s.io/apimachinery/pkg/util/wait.BackoffUntil.func1(0xc00012c050)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:155 +0x76\r\nk8s.io/apimachinery/pkg/util/wait.BackoffUntil(0xc00012c050, 0x28e4fc0, 0xc00036d020, 0x1, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:156 +0xbb\r\nk8s.io/apimachinery/pkg/util/wait.JitterUntil(0xc00012c050, 0x1a3185c5000, 0x0, 0x1, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:133 +0x115\r\nk8s.io/apimachinery/pkg/util/wait.Until(0xc00012c050, 0x1a3185c5000, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:90 +0x5b\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartRecordingToSink\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:312 +0xca\r\n\r\ngoroutine 20 [select]:\r\nk8s.io/apimachinery/pkg/util/wait.BackoffUntil(0xc00012c060, 0x28e4fc0, 0xc00040e000, 0x1, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:167 +0x186\r\nk8s.io/apimachinery/pkg/util/wait.JitterUntil(0xc00012c060, 0x53d1ac1000, 0x0, 0x1, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:133 +0x115\r\nk8s.io/apimachinery/pkg/util/wait.Until(0xc00012c060, 0x53d1ac1000, 0xc00012e000)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:90 +0x5b\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartRecordingToSink\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:315 +0x15f\r\n\r\ngoroutine 21 [chan receive]:\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartEventWatcher.func1(0x28edfa0, 0xc000130090, 0xc00012c070)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:300 +0xf4\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartEventWatcher\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:297 +0x90\r\n\r\ngoroutine 22 [chan receive]:\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartRecordingToSink.func4(0xc00012e000, 0xc0001120a0)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:328 +0x45\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).StartRecordingToSink\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:327 +0x1f7\r\n\r\ngoroutine 26 [semacquire]:\r\nsync.runtime_SemacquireMutex(0xc00013006c, 0x900000000, 0x1)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/runtime/sema.go:71 +0x47\r\nsync.(*Mutex).lockSlow(0xc000130068)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/sync/mutex.go:138 +0x1c5\r\nsync.(*Mutex).Lock(0xc000130068)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/sync/mutex.go:81 +0x85\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).recordToSink.func1(0xc000130060, 0xc00012af00, 0x291a720, 0x31708c0)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:196 +0x252\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).recordToSink\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:171 +0x76\r\n\r\ngoroutine 35 [semacquire]:\r\nsync.runtime_SemacquireMutex(0xc00013006c, 0x1100000000, 0x1)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/runtime/sema.go:71 +0x47\r\nsync.(*Mutex).lockSlow(0xc000130068)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/sync/mutex.go:138 +0x1c5\r\nsync.(*Mutex).Lock(0xc000130068)\r\n        /Users/liggitt/.gvm/gos/go1.15/src/sync/mutex.go:81 +0x85\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).recordToSink.func1.1(0xc000130060, 0xc0004a4280, 0x291a720, 0x31708c0, 0x0)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:173 +0x70\r\nk8s.io/client-go/tools/events.(*eventBroadcasterImpl).recordToSink.func1(0xc000130060, 0xc0004a4280, 0x291a720, 0x31708c0)\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:191 +0x7d\r\ncreated by k8s.io/client-go/tools/events.(*eventBroadcasterImpl).recordToSink\r\n        /Users/liggitt/go/src/k8s.io/kubernetes/vendor/k8s.io/client-go/tools/events/event_broadcaster.go:171 +0x76\r\n```\r\n\r\n**Anything else we need to know**:\r\n- https://storage.googleapis.com/k8s-gubernator/triage/index.html?pr=1&text=TestEventSeriesf\r\n\r\nTo reproduce with stress:\r\n```\r\ngo test -race -c ./vendor/k8s.io/client-go/tools/events/\r\nstress ./events.test -test.run TestEventSeriesf -test.timeout=10s\r\n638 runs so far, 0 failures\r\n1241 runs so far, 0 failures\r\n1801 runs so far, 0 failures\r\n2349 runs so far, 0 failures\r\n2913 runs so far, 0 failures\r\n3444 runs so far, 0 failures\r\n3974 runs so far, 0 failures\r\n4515 runs so far, 0 failures\r\n5056 runs so far, 0 failures\r\n5571 runs so far, 0 failures\r\n5965 runs so far, 0 failures\r\n6436 runs so far, 0 failures\r\n6814 runs so far, 0 failures\r\n7263 runs so far, 0 failures\r\n7715 runs so far, 0 failures\r\n8208 runs so far, 0 failures\r\n8737 runs so far, 0 failures\r\n9296 runs so far, 0 failures\r\n9862 runs so far, 0 failures\r\n\r\n/var/folders/7f/9xt_73f12xlby0w362rgk0s400kjgb/T/go-stress-20200905T230234-934809070\r\npanic: test timed out after 10s\r\n```\r\n\r\n/cc @wojtek-t ",
  "closed_at": "2020-09-07T14:11:42Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/94569/comments",
  "created_at": "2020-09-06T03:09:03Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/94569/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/94569",
  "id": 694233858,
  "labels": [
    {
      "color": "f7c6c7",
      "default": false,
      "description": "Categorizes issue or PR as related to a flaky test.",
      "id": 264749912,
      "name": "kind/flake",
      "node_id": "MDU6TGFiZWwyNjQ3NDk5MTI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/flake"
    },
    {
      "color": "ededed",
      "default": false,
      "description": "Indicates an issue or PR lacks a `sig/foo` label and requires one.",
      "id": 617149945,
      "name": "needs-sig",
      "node_id": "MDU6TGFiZWw2MTcxNDk5NDU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/needs-sig"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/94569/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2OTQyMzM4NTg=",
  "number": 94569,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "[Flaky unit test] TestEventSeriesf timeout",
  "updated_at": "2020-09-07T14:11:42Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/94569",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/980082?v=4",
    "events_url": "https://api.github.com/users/liggitt/events{/privacy}",
    "followers_url": "https://api.github.com/users/liggitt/followers",
    "following_url": "https://api.github.com/users/liggitt/following{/other_user}",
    "gists_url": "https://api.github.com/users/liggitt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/liggitt",
    "id": 980082,
    "login": "liggitt",
    "node_id": "MDQ6VXNlcjk4MDA4Mg==",
    "organizations_url": "https://api.github.com/users/liggitt/orgs",
    "received_events_url": "https://api.github.com/users/liggitt/received_events",
    "repos_url": "https://api.github.com/users/liggitt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/liggitt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/liggitt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/liggitt"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "The firewall rules created on Amazon ELBs do not include ICMP. This means that issues can occur with PMTU. Please see below for more information.\n\nWhen a HTTP/TCP request exceeds a certain payload size, with ELBs not allowing \"ICMP request/reply\", the request stalls. This is due to the ELB trying to send big packets to the client but the client dropping them since the MTU was higher than expected.\n\nTo avoid this ICMP traffic should be allowed on the ELB so they can negotiate the MTU:\n- https://en.wikipedia.org/wiki/Path_MTU_Discovery\n- http://www.networkworld.com/article/2224654/cisco-subnet/mtu-size-issues.html\n- http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/network_mtu.html\n\nWhen enabling ICMP traffic the client will be able to communicate with the ELB normally.\n\nAn example of what occurs when ICMP is not enabled.\n\n```\n$ time curl -v -O > /dev/null http://a8222e4ee025111e6a25d0a91ac3ee4d-1379358768.eu-west-1.elb.amazonaws.com/docs-api/swaggerui/lib/jquery.slideto.min.js\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 52.49.165.25...\n* Connected to a8222e4ee025111e6a25d0a91ac3ee4d-1379358768.eu-west-1.elb.amazonaws.com (52.49.165.25) port 80 (#0)\n> GET /docs-api/swaggerui/lib/jquery.slideto.min.js HTTP/1.1\n> Host: a8222e4ee025111e6a25d0a91ac3ee4d-1379358768.eu-west-1.elb.amazonaws.com\n> User-Agent: curl/7.43.0\n> Accept: */*\n> \n  0     0    0     0    0     0      0      0 --:--:--  0:00:29 --:--:--     0< HTTP/1.1 200 OK\n< content-length: 369\n< content-type: application/javascript; charset=utf-8\n< last-modified: Thu, 12 Feb 2015 14:06:22 GMT\n< etag: \"b849bafad46251cbced13d4b501694dd21bd7464\"\n< cache-control: no-cache\n< accept-ranges: bytes\n< Date: Thu, 14 Apr 2016 15:31:06 GMT\n< Connection: keep-alive\n< \n{ [369 bytes data]\n100   369  100   369    0     0     12      0  0:00:30  0:00:29  0:00:01    85\n* Connection #0 to host a8222e4ee025111e6a25d0a91ac3ee4d-1379358768.eu-west-1.elb.amazonaws.com left intact\n\nreal    0m29.547s\nuser    0m0.012s\nsys 0m0.004s\n\n```\n\nIdeally security rules for ELBs should be allowed to be attached to an ELB via annotations and/or by default.\n\nICMP rules at a minimum to avoid this should cover:\n- 0 - Echo Reply\n- 8 - Echo Request\n\n*\\* Please note that this does not just affect Amazon ELBs, but in addition direct access to instances too.**\n",
  "closed_at": "2016-06-20T18:07:41Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 7,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24254/comments",
  "created_at": "2016-04-14T15:48:19Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24254/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/24254",
  "id": 148403848,
  "labels": [
    {
      "color": "fbca04",
      "default": false,
      "description": "Higher priority than priority/awaiting-more-evidence.",
      "id": 114528273,
      "name": "priority/backlog",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyNzM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/backlog"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Network.",
      "id": 116712108,
      "name": "sig/network",
      "node_id": "MDU6TGFiZWwxMTY3MTIxMDg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/network"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24254/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2016-10-08T14:40:35Z",
    "closed_issues": 1275,
    "created_at": "2016-03-11T07:40:20Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7725777?v=4",
      "events_url": "https://api.github.com/users/bgrant0607/events{/privacy}",
      "followers_url": "https://api.github.com/users/bgrant0607/followers",
      "following_url": "https://api.github.com/users/bgrant0607/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgrant0607/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bgrant0607",
      "id": 7725777,
      "login": "bgrant0607",
      "node_id": "MDQ6VXNlcjc3MjU3Nzc=",
      "organizations_url": "https://api.github.com/users/bgrant0607/orgs",
      "received_events_url": "https://api.github.com/users/bgrant0607/received_events",
      "repos_url": "https://api.github.com/users/bgrant0607/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bgrant0607/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgrant0607/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bgrant0607"
    },
    "description": "https://github.com/kubernetes/features/blob/master/release-1.3/release-1.3.md",
    "due_on": "2016-06-24T07:00:00Z",
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/18",
    "id": 1638460,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/18/labels",
    "node_id": "MDk6TWlsZXN0b25lMTYzODQ2MA==",
    "number": 18,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.3",
    "updated_at": "2018-08-13T05:10:25Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/18"
  },
  "node_id": "MDU6SXNzdWUxNDg0MDM4NDg=",
  "number": 24254,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Amazon ELBs - ICMP and Network Maximum Transmission Unit (MTU)",
  "updated_at": "2016-06-20T18:07:41Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24254",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/173567?v=4",
    "events_url": "https://api.github.com/users/ajohnstone/events{/privacy}",
    "followers_url": "https://api.github.com/users/ajohnstone/followers",
    "following_url": "https://api.github.com/users/ajohnstone/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajohnstone/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/ajohnstone",
    "id": 173567,
    "login": "ajohnstone",
    "node_id": "MDQ6VXNlcjE3MzU2Nw==",
    "organizations_url": "https://api.github.com/users/ajohnstone/orgs",
    "received_events_url": "https://api.github.com/users/ajohnstone/received_events",
    "repos_url": "https://api.github.com/users/ajohnstone/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/ajohnstone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajohnstone/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/ajohnstone"
  }
}
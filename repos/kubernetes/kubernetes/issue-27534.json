{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/100893?v=4",
    "events_url": "https://api.github.com/users/justinsb/events{/privacy}",
    "followers_url": "https://api.github.com/users/justinsb/followers",
    "following_url": "https://api.github.com/users/justinsb/following{/other_user}",
    "gists_url": "https://api.github.com/users/justinsb/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/justinsb",
    "id": 100893,
    "login": "justinsb",
    "node_id": "MDQ6VXNlcjEwMDg5Mw==",
    "organizations_url": "https://api.github.com/users/justinsb/orgs",
    "received_events_url": "https://api.github.com/users/justinsb/received_events",
    "repos_url": "https://api.github.com/users/justinsb/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/justinsb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/justinsb/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/justinsb"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/100893?v=4",
      "events_url": "https://api.github.com/users/justinsb/events{/privacy}",
      "followers_url": "https://api.github.com/users/justinsb/followers",
      "following_url": "https://api.github.com/users/justinsb/following{/other_user}",
      "gists_url": "https://api.github.com/users/justinsb/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/justinsb",
      "id": 100893,
      "login": "justinsb",
      "node_id": "MDQ6VXNlcjEwMDg5Mw==",
      "organizations_url": "https://api.github.com/users/justinsb/orgs",
      "received_events_url": "https://api.github.com/users/justinsb/received_events",
      "repos_url": "https://api.github.com/users/justinsb/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/justinsb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justinsb/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/justinsb"
    }
  ],
  "author_association": "MEMBER",
  "body": "I am having trouble on my AWS 1.3.0beta0 cluster to attach EBS with the controller-manager based attacher.\n\n```\n2016-06-16T10:50:46.081028537Z I0616 10:50:46.080908       1 reconciler.go:126] Started AttachVolume for volume \"kubernetes.io/aws-ebs/aws://eu-west-1a/vol-9aa4532b\" to node \"ip-172-20-130-252.eu-west-1.compute.internal\"\n2016-06-16T10:50:46.594535809Z E0616 10:50:46.594230       1 attacher.go:78] Error attaching volume \"aws://eu-west-1a/vol-9aa4532b\": Error attaching EBS volume: InvalidParameterValue: Value (/dev/sdba) for parameter device is invalid. /dev/sdba is not a valid EBS device name.\n2016-06-16T10:50:46.594571007Z  status code: 400, request id: \n2016-06-16T10:50:46.594578574Z E0616 10:50:46.594286       1 attacher_detacher.go:124] Attach operation for device \"kubernetes.io/aws-ebs/aws://eu-west-1a/vol-9aa4532b\" to node \"ip-172-20-130-252.eu-west-1.compute.internal\" failed with: Error attaching EBS volume: InvalidParameterValue: Value (/dev/sdba) for parameter device is invalid. /dev/sdba is not a valid EBS device name.\n2016-06-16T10:50:46.594585498Z  status code: 400, request id: \n```\n\nThere problem is here: https://github.com/kubernetes/kubernetes/blob/release-1.3/pkg/cloudprovider/providers/aws/aws.go#L1302\n\nThis is failing as the kube-controller-manager is running in a pod via kubelet manifests. I think if you have a cluster with different instance types mixed you ran into trouble as well, as the device names will be either (sdX or xvdX) and the cluster will do it based on the state of the master (controller-manager).\n\nMy work around for now is to enable a host mount of `/dev` for the controller manager. But this need to be addressed at some point.\n\n```\n    volumeMounts:\n    - mountPath: /dev\n      name: dev-host\n  volumes:\n  - hostPath:\n      path: /dev\n    name: dev-host\n```\n- Is there any way we get the correct name from the AWS api?\n- I think it's depending on the kernel version if it is xvdX or sdX. Am I right on this?\n- A more ugly solution could be to annotate the node during registration, if it's has `xvdX` or `sdX` \n  device names\n\n@justinsb maybe you can help me get a proper solution for this. I am happy to contribute a PR\n",
  "closed_at": "2016-06-19T20:17:09Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 5,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/27534/comments",
  "created_at": "2016-06-16T11:23:48Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/27534/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/27534",
  "id": 160638439,
  "labels": [
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/27534/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2016-10-08T14:40:35Z",
    "closed_issues": 1275,
    "created_at": "2016-03-11T07:40:20Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7725777?v=4",
      "events_url": "https://api.github.com/users/bgrant0607/events{/privacy}",
      "followers_url": "https://api.github.com/users/bgrant0607/followers",
      "following_url": "https://api.github.com/users/bgrant0607/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgrant0607/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bgrant0607",
      "id": 7725777,
      "login": "bgrant0607",
      "node_id": "MDQ6VXNlcjc3MjU3Nzc=",
      "organizations_url": "https://api.github.com/users/bgrant0607/orgs",
      "received_events_url": "https://api.github.com/users/bgrant0607/received_events",
      "repos_url": "https://api.github.com/users/bgrant0607/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bgrant0607/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgrant0607/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bgrant0607"
    },
    "description": "https://github.com/kubernetes/features/blob/master/release-1.3/release-1.3.md",
    "due_on": "2016-06-24T07:00:00Z",
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/18",
    "id": 1638460,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/18/labels",
    "node_id": "MDk6TWlsZXN0b25lMTYzODQ2MA==",
    "number": 18,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.3",
    "updated_at": "2018-08-13T05:10:25Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/18"
  },
  "node_id": "MDU6SXNzdWUxNjA2Mzg0Mzk=",
  "number": 27534,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "cloudprovider/aws: EBS attachment fails: /dev/sdba is not a valid EBS device name (v1.3.0-beta.0)",
  "updated_at": "2016-06-19T20:17:09Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/27534",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/223048?v=4",
    "events_url": "https://api.github.com/users/simonswine/events{/privacy}",
    "followers_url": "https://api.github.com/users/simonswine/followers",
    "following_url": "https://api.github.com/users/simonswine/following{/other_user}",
    "gists_url": "https://api.github.com/users/simonswine/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/simonswine",
    "id": 223048,
    "login": "simonswine",
    "node_id": "MDQ6VXNlcjIyMzA0OA==",
    "organizations_url": "https://api.github.com/users/simonswine/orgs",
    "received_events_url": "https://api.github.com/users/simonswine/received_events",
    "repos_url": "https://api.github.com/users/simonswine/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/simonswine/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simonswine/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/simonswine"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "There aren't any tests that cover ExternalPort services from Windows pods today. Here's an example manual case that can best explain what needs to be automated.\r\n\r\n1. Start a Windows pod on a Windows node\r\n2. `kubectl create -f \u2026` this yaml\r\n\r\n```yaml\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: searchengine\r\nspec:\r\n  type: ExternalName\r\n  externalName: www.google.com\r\n```\r\n\r\n3. `kubectl exec <podname> curl.exe searchengine`\r\n\r\n```\r\nazureuser@k8s-master-30163644-0:~$ kubectl exec iis-2019-c5d48d8c-cqw7x curl.exe searchengine\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0<!DOCTYPE html>\r\n<html lang=en>\r\n  <meta charset=utf-8>\r\n  <meta name=viewport content=\"initial-scale=1, minimum-scale=1, width=device-width\">\r\n  <title>Error 404 (Not Found)!!1</title>\r\n  <style>\r\n    *{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px}* > body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}\r\n  </style>\r\n  <a href=//www.google.com/><span id=logo aria-label=Google></span></a>\r\n  <p><b>404.</b> <ins>That\u2019s an error.</ins>\r\n  <p>The requested URL <code>/</code> was not found on this server.  <ins>That\u2019s all we know.</ins>\r\n100  1561  100  1561    0     0   1561      0  0:00:01 --:--:--  0:00:01 33212\r\n```\r\nThis shows that DNS is working for the ExternalName service entry. The actual HTTP request fails (by design) because curl is putting the service name in the header which is rejected by the http server itself. \r\n\r\n\r\n/sig windows\r\n/good-first-issue",
  "closed_at": "2019-03-06T10:08:24Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 13,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73328/comments",
  "created_at": "2019-01-25T19:58:03Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73328/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/73328",
  "id": 403311335,
  "labels": [
    {
      "color": "006b75",
      "default": true,
      "description": "Denotes an issue that needs help from a contributor. Must meet \"help wanted\" guidelines.",
      "id": 433686790,
      "name": "help wanted",
      "node_id": "MDU6TGFiZWw0MzM2ODY3OTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/help%20wanted"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Windows.",
      "id": 422106010,
      "name": "sig/windows",
      "node_id": "MDU6TGFiZWw0MjIxMDYwMTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/windows"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73328/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-08-23T05:01:17Z",
    "closed_issues": 609,
    "created_at": "2018-10-19T11:05:25Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/408385?v=4",
      "events_url": "https://api.github.com/users/idealhack/events{/privacy}",
      "followers_url": "https://api.github.com/users/idealhack/followers",
      "following_url": "https://api.github.com/users/idealhack/following{/other_user}",
      "gists_url": "https://api.github.com/users/idealhack/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/idealhack",
      "id": 408385,
      "login": "idealhack",
      "node_id": "MDQ6VXNlcjQwODM4NQ==",
      "organizations_url": "https://api.github.com/users/idealhack/orgs",
      "received_events_url": "https://api.github.com/users/idealhack/received_events",
      "repos_url": "https://api.github.com/users/idealhack/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/idealhack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/idealhack/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/idealhack"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/41",
    "id": 3751947,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/41/labels",
    "node_id": "MDk6TWlsZXN0b25lMzc1MTk0Nw==",
    "number": 41,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.14",
    "updated_at": "2020-08-23T05:01:17Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/41"
  },
  "node_id": "MDU6SXNzdWU0MDMzMTEzMzU=",
  "number": 73328,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Need ExternalName test for mixed-OS clusters",
  "updated_at": "2019-03-06T10:08:24Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73328",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/11345431?v=4",
    "events_url": "https://api.github.com/users/PatrickLang/events{/privacy}",
    "followers_url": "https://api.github.com/users/PatrickLang/followers",
    "following_url": "https://api.github.com/users/PatrickLang/following{/other_user}",
    "gists_url": "https://api.github.com/users/PatrickLang/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/PatrickLang",
    "id": 11345431,
    "login": "PatrickLang",
    "node_id": "MDQ6VXNlcjExMzQ1NDMx",
    "organizations_url": "https://api.github.com/users/PatrickLang/orgs",
    "received_events_url": "https://api.github.com/users/PatrickLang/received_events",
    "repos_url": "https://api.github.com/users/PatrickLang/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/PatrickLang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/PatrickLang/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/PatrickLang"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "I create a service\n\n```\n{\n  \"kind\": \"Service\",\n  \"id\": \"web\",\n  \"apiVersion\": \"v1beta1\",\n  \"namespace\": \"default\",\n  \"port\": 9293,\n  \"protocol\": \"TCP\",\n  \"selector\": {\n    \"version\": \"v1\"\n  },\n  \"containerPort\": 9293\n}\n```\n\nupdate it with\n\n```\n# kubectl update se web --patch='{\"selector\":{\"version\":\"v2\"},\"apiVersion\":\"v1beta1\"}'\n# kubectl describe se web\nName:           web\nLabels:         <none>\nSelector:       version=v1\nPort:           9293\nNo events.\n```\n\nI would expect that the selector would have been updated but it's not. This is because of mergo.Merge which says in the doc that 'Merge sets fields' values in dst from src if they have a zero value of their type.' but `.selector.version` did not have a zero value before the merge. Currently patch can only add missing fields to api objects. Was this the intended behavior? Patch might be more useful if it could override existing fields.There is an open PR imdario/mergo#8 that would add the ability to override fields.\n\nHeres a failing test: https://github.com/mikedanese/kubernetes/commit/a800ae6db81934bb66c5260452e4a214bad137ec\n",
  "closed_at": "2015-02-17T17:44:51Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/7085343?v=4",
    "events_url": "https://api.github.com/users/a-robinson/events{/privacy}",
    "followers_url": "https://api.github.com/users/a-robinson/followers",
    "following_url": "https://api.github.com/users/a-robinson/following{/other_user}",
    "gists_url": "https://api.github.com/users/a-robinson/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/a-robinson",
    "id": 7085343,
    "login": "a-robinson",
    "node_id": "MDQ6VXNlcjcwODUzNDM=",
    "organizations_url": "https://api.github.com/users/a-robinson/orgs",
    "received_events_url": "https://api.github.com/users/a-robinson/received_events",
    "repos_url": "https://api.github.com/users/a-robinson/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/a-robinson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/a-robinson/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/a-robinson"
  },
  "comments": 11,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/4008/comments",
  "created_at": "2015-01-31T17:21:49Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/4008/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/4008",
  "id": 56131803,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 138247961,
      "name": "area/kubectl",
      "node_id": "MDU6TGFiZWwxMzgyNDc5NjE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/kubectl"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/4008/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1NjEzMTgwMw==",
  "number": 4008,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "kubectl update --patch does not work as expected",
  "updated_at": "2015-04-06T19:06:41Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/4008",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1787169?v=4",
    "events_url": "https://api.github.com/users/mikedanese/events{/privacy}",
    "followers_url": "https://api.github.com/users/mikedanese/followers",
    "following_url": "https://api.github.com/users/mikedanese/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikedanese/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mikedanese",
    "id": 1787169,
    "login": "mikedanese",
    "node_id": "MDQ6VXNlcjE3ODcxNjk=",
    "organizations_url": "https://api.github.com/users/mikedanese/orgs",
    "received_events_url": "https://api.github.com/users/mikedanese/received_events",
    "repos_url": "https://api.github.com/users/mikedanese/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mikedanese/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikedanese/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mikedanese"
  }
}
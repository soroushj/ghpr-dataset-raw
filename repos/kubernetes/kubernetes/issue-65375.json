{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "When using a category (other than `all` - which seems to exhibit the correct behavior, presumably due to special-casing) with `kubectl get`.\r\n\r\n**What happened**:\r\n\r\nExample: I created 3 CRDs and put them all in the `federation` category. You can see the definitions here:\r\n\r\n<details>\r\n\r\n```yaml\r\napiVersion: v1\r\nitems:\r\n- apiVersion: apiextensions.k8s.io/v1beta1\r\n  kind: CustomResourceDefinition\r\n  metadata:\r\n    creationTimestamp: 2018-06-22T15:07:26Z\r\n    generation: 1\r\n    name: federatedreplicasetoverrides.federation.pmorie.toy\r\n    namespace: \"\"\r\n    resourceVersion: \"316\"\r\n    selfLink: /apis/apiextensions.k8s.io/v1beta1/customresourcedefinitions/federatedreplicasetoverrides.federation.pmorie.toy\r\n    uid: f9353caf-762d-11e8-81d6-68f728db1985\r\n  spec:\r\n    additionalPrinterColumns:\r\n    - JSONPath: .metadata.creationTimestamp\r\n      description: |-\r\n        CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\r\n\r\n        Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\r\n      name: Age\r\n      type: date\r\n    group: federation.pmorie.toy\r\n    names:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSetOverride\r\n      listKind: FederatedReplicaSetOverrideList\r\n      plural: federatedreplicasetoverrides\r\n      singular: federatedreplicasetoverride\r\n    scope: Namespaced\r\n    validation:\r\n      openAPIV3Schema:\r\n        properties:\r\n          apiVersion:\r\n            type: string\r\n          kind:\r\n            type: string\r\n          metadata:\r\n            type: object\r\n          spec:\r\n            type: object\r\n          status:\r\n            type: object\r\n        type: object\r\n    version: v1beta1\r\n    versions:\r\n    - name: v1beta1\r\n      served: true\r\n      storage: true\r\n  status:\r\n    acceptedNames:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSetOverride\r\n      listKind: FederatedReplicaSetOverrideList\r\n      plural: federatedreplicasetoverrides\r\n      singular: federatedreplicasetoverride\r\n    conditions:\r\n    - lastTransitionTime: 2018-06-22T15:07:26Z\r\n      message: no conflicts found\r\n      reason: NoConflicts\r\n      status: \"True\"\r\n      type: NamesAccepted\r\n    - lastTransitionTime: null\r\n      message: the initial names have been accepted\r\n      reason: InitialNamesAccepted\r\n      status: \"True\"\r\n      type: Established\r\n    storedVersions:\r\n    - v1beta1\r\n- apiVersion: apiextensions.k8s.io/v1beta1\r\n  kind: CustomResourceDefinition\r\n  metadata:\r\n    creationTimestamp: 2018-06-22T15:07:26Z\r\n    generation: 1\r\n    name: federatedreplicasetplacements.federation.pmorie.toy\r\n    namespace: \"\"\r\n    resourceVersion: \"319\"\r\n    selfLink: /apis/apiextensions.k8s.io/v1beta1/customresourcedefinitions/federatedreplicasetplacements.federation.pmorie.toy\r\n    uid: f939ec45-762d-11e8-81d6-68f728db1985\r\n  spec:\r\n    additionalPrinterColumns:\r\n    - JSONPath: .metadata.creationTimestamp\r\n      description: |-\r\n        CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\r\n\r\n        Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\r\n      name: Age\r\n      type: date\r\n    group: federation.pmorie.toy\r\n    names:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSetPlacement\r\n      listKind: FederatedReplicaSetPlacementList\r\n      plural: federatedreplicasetplacements\r\n      singular: federatedreplicasetplacement\r\n    scope: Namespaced\r\n    validation:\r\n      openAPIV3Schema:\r\n        properties:\r\n          apiVersion:\r\n            type: string\r\n          kind:\r\n            type: string\r\n          metadata:\r\n            type: object\r\n          spec:\r\n            type: object\r\n          status:\r\n            type: object\r\n        type: object\r\n    version: v1beta1\r\n    versions:\r\n    - name: v1beta1\r\n      served: true\r\n      storage: true\r\n  status:\r\n    acceptedNames:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSetPlacement\r\n      listKind: FederatedReplicaSetPlacementList\r\n      plural: federatedreplicasetplacements\r\n      singular: federatedreplicasetplacement\r\n    conditions:\r\n    - lastTransitionTime: 2018-06-22T15:07:26Z\r\n      message: no conflicts found\r\n      reason: NoConflicts\r\n      status: \"True\"\r\n      type: NamesAccepted\r\n    - lastTransitionTime: null\r\n      message: the initial names have been accepted\r\n      reason: InitialNamesAccepted\r\n      status: \"True\"\r\n      type: Established\r\n    storedVersions:\r\n    - v1beta1\r\n- apiVersion: apiextensions.k8s.io/v1beta1\r\n  kind: CustomResourceDefinition\r\n  metadata:\r\n    creationTimestamp: 2018-06-22T15:07:26Z\r\n    generation: 1\r\n    name: federatedreplicasets.federation.pmorie.toy\r\n    namespace: \"\"\r\n    resourceVersion: \"315\"\r\n    selfLink: /apis/apiextensions.k8s.io/v1beta1/customresourcedefinitions/federatedreplicasets.federation.pmorie.toy\r\n    uid: f93373c9-762d-11e8-81d6-68f728db1985\r\n  spec:\r\n    additionalPrinterColumns:\r\n    - JSONPath: .metadata.creationTimestamp\r\n      description: |-\r\n        CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\r\n\r\n        Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\r\n      name: Age\r\n      type: date\r\n    group: federation.pmorie.toy\r\n    names:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSet\r\n      listKind: FederatedReplicaSetList\r\n      plural: federatedreplicasets\r\n      singular: federatedreplicaset\r\n    scope: Namespaced\r\n    validation:\r\n      openAPIV3Schema:\r\n        properties:\r\n          apiVersion:\r\n            type: string\r\n          kind:\r\n            type: string\r\n          metadata:\r\n            type: object\r\n          spec:\r\n            type: object\r\n          status:\r\n            type: object\r\n        type: object\r\n    version: v1beta1\r\n    versions:\r\n    - name: v1beta1\r\n      served: true\r\n      storage: true\r\n  status:\r\n    acceptedNames:\r\n      categories:\r\n      - federation\r\n      kind: FederatedReplicaSet\r\n      listKind: FederatedReplicaSetList\r\n      plural: federatedreplicasets\r\n      singular: federatedreplicaset\r\n    conditions:\r\n    - lastTransitionTime: 2018-06-22T15:07:26Z\r\n      message: no conflicts found\r\n      reason: NoConflicts\r\n      status: \"True\"\r\n      type: NamesAccepted\r\n    - lastTransitionTime: null\r\n      message: the initial names have been accepted\r\n      reason: InitialNamesAccepted\r\n      status: \"True\"\r\n      type: Established\r\n    storedVersions:\r\n    - v1beta1\r\nkind: List\r\nmetadata:\r\n  resourceVersion: \"\"\r\n  selfLink: \"\"\r\n```\r\n\r\n</details>\r\n\r\nI created examples as follows:\r\n\r\n<details>\r\n\r\n```yaml\r\napiVersion: federation.pmorie.toy/v1beta1\r\nkind: FederatedReplicaSet\r\nmetadata:\r\n  name: my-rs\r\nspec:\r\n  foo: bar\r\n---\r\napiVersion: federation.pmorie.toy/v1beta1\r\nkind: FederatedReplicaSetOverride\r\nmetadata:\r\n  name: my-rs\r\nspec:\r\n  foo: bar\r\n---\r\napiVersion: federation.pmorie.toy/v1beta1\r\nkind: FederatedReplicaSetPlacement\r\nmetadata:\r\n  name: my-rs\r\nspec:\r\n  foo: bar\r\n```\r\n\r\n</details>\r\n\r\nWhen I run `kubectl get federation`, I see:\r\n\r\n```\r\n$ k get federation\r\nNAME      AGE\r\nmy-rs     20m\r\n\r\nNAME      AGE\r\nmy-rs     20m\r\n\r\nNAME      AGE\r\nmy-rs     20m\r\n```\r\n\r\nNote that kind is not present in this output. You can see it with `--show-kind`, but it should be there by default:\r\n\r\n```\r\n$ k get federation --show-kind\r\nNAME                                              AGE\r\nfederatedreplicaset.federation.pmorie.toy/my-rs   21m\r\n\r\nNAME                                                      AGE\r\nfederatedreplicasetoverride.federation.pmorie.toy/my-rs   21m\r\n\r\nNAME                                                       AGE\r\nfederatedreplicasetplacement.federation.pmorie.toy/my-rs   21m\r\n```\r\n\r\n**What you expected to happen**:\r\n\r\nThe expected output is:\r\n\r\n```\r\n$ k get federation\r\nNAME                                              AGE\r\nfederatedreplicaset.federation.pmorie.toy/my-rs   21m\r\n\r\nNAME                                                      AGE\r\nfederatedreplicasetoverride.federation.pmorie.toy/my-rs   21m\r\n\r\nNAME                                                       AGE\r\nfederatedreplicasetplacement.federation.pmorie.toy/my-rs   21m\r\n```\r\n\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\nUse the enclosed CRD definitions and examples.\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`): master\r\n\r\n/kind bug",
  "closed_at": "2018-06-28T09:20:24Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 6,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/65375/comments",
  "created_at": "2018-06-22T15:31:58Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/65375/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/65375",
  "id": 334922961,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG CLI.",
      "id": 450823910,
      "name": "sig/cli",
      "node_id": "MDU6TGFiZWw0NTA4MjM5MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cli"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/65375/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzMzQ5MjI5NjE=",
  "number": 65375,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "resource kinds are not shown by default when using kubectl get with custom categories",
  "updated_at": "2018-06-28T09:20:24Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/65375",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/366488?v=4",
    "events_url": "https://api.github.com/users/pmorie/events{/privacy}",
    "followers_url": "https://api.github.com/users/pmorie/followers",
    "following_url": "https://api.github.com/users/pmorie/following{/other_user}",
    "gists_url": "https://api.github.com/users/pmorie/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/pmorie",
    "id": 366488,
    "login": "pmorie",
    "node_id": "MDQ6VXNlcjM2NjQ4OA==",
    "organizations_url": "https://api.github.com/users/pmorie/orgs",
    "received_events_url": "https://api.github.com/users/pmorie/received_events",
    "repos_url": "https://api.github.com/users/pmorie/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/pmorie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pmorie/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/pmorie"
  }
}
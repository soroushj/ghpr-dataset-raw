{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "For a POC, I have been working on bringing up a Kubernetes cluster in an ESXi/VSphere environment (this is within a cloud provider so think nested VMs ) using the kube-up scripts. A few things with the vsphere support affected me, but I was able to finally work through all of them :-)\n\nI had to use ESXi 6.0 as I had no luck with 5.1 from the \"govc\" tool\n\nMy environment being behind a proxy - I had to script the proxy settings into the bootstrap shell scripts that get executed within the master and minions the files being specified below. ( it would be great if we can somehow specify proxy settings that gets injected ). This affects the wgets and curl commands used extensively.\n\nkubernetes\\cluster\\saltbase\\salt\\docker\\docker-defaults\nkubernetes\\cluster\\saltbase\\salt\\generate-cert\\make-ca-cert.sh\nkubernetes\\cluster\\vsphere\\templates\\salt-master.sh\nkubernetes\\cluster\\vsphere\\templates\\salt-minion.sh\n\nThe VM's brought up with the provided kube.vmdk still seems to honor the environment file path under /etc/default and not /etc/sysconfig like it ends up as. So changes had to be made in \nkubernetes\\cluster\\saltbase\\salt\\kubelet\\init.sls\nkubernetes\\cluster\\saltbase\\salt\\kubelet\\kubelet.service\nkubernetes\\cluster\\saltbase\\salt\\docker\\init.sls\n\nFinally in the the docker startup command line used I had to replace the \"-d\" option with \"daemon\" as the argument to docker.\n\nIt would be great if either the documentation for VSphere reflected these caveats or required changes be made for a flawless support for ESXi/VSphere.\n\nThanks!\nRasheed\n",
  "closed_at": "2016-12-29T19:38:08Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22390/comments",
  "created_at": "2016-03-02T22:44:42Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22390/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/22390",
  "id": 138016334,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22390/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxMzgwMTYzMzQ=",
  "number": 22390,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "vsphere support with provided kube.vmdk needed changes",
  "updated_at": "2016-12-29T19:38:08Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/22390",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8011931?v=4",
    "events_url": "https://api.github.com/users/arasheedu/events{/privacy}",
    "followers_url": "https://api.github.com/users/arasheedu/followers",
    "following_url": "https://api.github.com/users/arasheedu/following{/other_user}",
    "gists_url": "https://api.github.com/users/arasheedu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/arasheedu",
    "id": 8011931,
    "login": "arasheedu",
    "node_id": "MDQ6VXNlcjgwMTE5MzE=",
    "organizations_url": "https://api.github.com/users/arasheedu/orgs",
    "received_events_url": "https://api.github.com/users/arasheedu/received_events",
    "repos_url": "https://api.github.com/users/arasheedu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/arasheedu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arasheedu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/arasheedu"
  }
}
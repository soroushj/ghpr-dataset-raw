{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
    "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
    "followers_url": "https://api.github.com/users/dchen1107/followers",
    "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
    "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dchen1107",
    "id": 7740897,
    "login": "dchen1107",
    "node_id": "MDQ6VXNlcjc3NDA4OTc=",
    "organizations_url": "https://api.github.com/users/dchen1107/orgs",
    "received_events_url": "https://api.github.com/users/dchen1107/received_events",
    "repos_url": "https://api.github.com/users/dchen1107/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dchen1107"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
      "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
      "followers_url": "https://api.github.com/users/dchen1107/followers",
      "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
      "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dchen1107",
      "id": 7740897,
      "login": "dchen1107",
      "node_id": "MDQ6VXNlcjc3NDA4OTc=",
      "organizations_url": "https://api.github.com/users/dchen1107/orgs",
      "received_events_url": "https://api.github.com/users/dchen1107/received_events",
      "repos_url": "https://api.github.com/users/dchen1107/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dchen1107"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "The cluster I created on Friday (at head) was running over the weekend, and when I tried to talk to it this morning, I couldn't.\n\n```\nmax@mac$ ./_output/local/bin/darwin/amd64/kubectl version\nClient Version: version.Info{Major:\"0\", Minor:\"15+\", GitVersion:\"v0.15.0-728-g64b4ba688bbb56-dirty\", GitCommit:\"64b4ba688bbb56c60e0eca5e3da4b414bc42d41a\", GitTreeState:\"dirty\"}\nCouldn't read version from server: Get https://<master ip>/version: dial tcp <master ip>:443: connection refused\n```\n\nSSH'ing into the master, I couldn't hit `/validate`\n\n```\nmaxforbes@e2e-test-maxforbes-master:~$ curl localhost:8080/validate\ncurl: (7) Failed to connect to ::1: Network is unreachable\n\nmaxforbes@e2e-test-maxforbes-master:~$ curl 127.0.0.1:8080/validate\ncurl: (7) couldn't connect to host\n```\n\nand Docker isn't running\n\n```\nmaxforbes@e2e-test-maxforbes-master:~$ sudo docker ps -a\nFATA[0000] Cannot connect to the Docker daemon. Is 'docker -d' running on this host?\n```\n\nand neither is monit\n\n```\nmaxforbes@e2e-test-maxforbes-master:~$ ps auxww | grep monit\n1000     13515  0.0  0.1   7844  1972 pts/0    S+   17:57   0:00 grep monit\n```\n\nso what happened to monit?\n\n```\nmaxforbes@e2e-test-maxforbes-master:~$ cat /var/log/monit.log\n[UTC Apr 24 17:46:34] info     : monit: generated unique Monit id 07087e649065a353a1aeb843eee5e57d and stored to '/var/lib/monit/id'\n[UTC Apr 24 17:46:34] info     : Starting monit daemon\n[UTC Apr 24 17:46:34] error    : State file '/var/lib/monit/state': Unable to read magic\n[UTC Apr 24 17:46:34] info     : 'system_e2e-test-maxforbes-master.c.mtestp1.internal' Monit started\n[UTC Apr 24 17:46:35] info     : monit daemon with pid [4353] killed\n[UTC Apr 24 17:46:35] info     : 'system_e2e-test-maxforbes-master.c.mtestp1.internal' Monit stopped\n[UTC Apr 24 17:46:35] info     : Starting monit daemon\n[UTC Apr 24 17:46:35] info     : 'system_e2e-test-maxforbes-master.c.mtestp1.internal' Monit started\n[UTC Apr 24 17:48:35] error    : 'docker' process PID changed from 2011 to 5358\n[UTC Apr 24 17:50:35] info     : 'docker' process PID has not changed since last cycle\n[UTC Apr 25 08:46:58] error    : 'docker' failed protocol test [HTTP] at UNIX[/var/run/docker.sock] -- HTTP: Error receiving data -- Resource temporarily unavailable\n\n[UTC Apr 25 08:46:59] info     : 'docker' trying to restart\n[UTC Apr 25 08:46:59] info     : 'docker' stop: /etc/init.d/docker\n[UTC Apr 25 08:49:23] info     : 'docker' start: /etc/init.d/docker\n[UTC Apr 25 08:52:01] error    : 'docker' failed protocol test [HTTP] at UNIX[/var/run/docker.sock] -- HTTP: Error receiving data -- Resource temporarily unavailable\n\n[UTC Apr 25 08:52:05] info     : 'docker' trying to restart\n[UTC Apr 25 08:52:08] info     : 'docker' stop: /etc/init.d/docker\n[UTC Apr 25 08:58:47] error    : 'docker' failed to stop\n[UTC Apr 25 09:00:54] error    : 'docker' process is not running\n[UTC Apr 25 09:00:55] info     : 'docker' trying to restart\n[UTC Apr 25 09:00:55] info     : 'docker' start: /etc/init.d/docker\n[UTC Apr 25 09:00:56] error    : Cannot fork a new process\n```\n\n@zmerlynn  found [where this happens](https://github.com/renard/monit/blob/master/src/spawn.c#L152) in monit. My questions are: \"Why?\" and \"Should we try to debug this further?\" @roberthbailey pointed out that a possible preventative measure is to have a cron job running that kicks monit if it's dead.\n\nI left the cluster running, so if anyone would like me to run commands or would like to dig in more, please let me know.\n",
  "closed_at": "2015-05-15T15:02:55Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/985208?v=4",
    "events_url": "https://api.github.com/users/vmarmol/events{/privacy}",
    "followers_url": "https://api.github.com/users/vmarmol/followers",
    "following_url": "https://api.github.com/users/vmarmol/following{/other_user}",
    "gists_url": "https://api.github.com/users/vmarmol/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/vmarmol",
    "id": 985208,
    "login": "vmarmol",
    "node_id": "MDQ6VXNlcjk4NTIwOA==",
    "organizations_url": "https://api.github.com/users/vmarmol/orgs",
    "received_events_url": "https://api.github.com/users/vmarmol/received_events",
    "repos_url": "https://api.github.com/users/vmarmol/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/vmarmol/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vmarmol/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/vmarmol"
  },
  "comments": 9,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/7376/comments",
  "created_at": "2015-04-27T18:06:43Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/7376/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/7376",
  "id": 71359176,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 159151142,
      "name": "area/reliability",
      "node_id": "MDU6TGFiZWwxNTkxNTExNDI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/reliability"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/7376/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2015-08-07T02:29:29Z",
    "closed_issues": 817,
    "created_at": "2015-02-06T20:27:16Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/9358478?v=4",
      "events_url": "https://api.github.com/users/goltermann/events{/privacy}",
      "followers_url": "https://api.github.com/users/goltermann/followers",
      "following_url": "https://api.github.com/users/goltermann/following{/other_user}",
      "gists_url": "https://api.github.com/users/goltermann/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/goltermann",
      "id": 9358478,
      "login": "goltermann",
      "node_id": "MDQ6VXNlcjkzNTg0Nzg=",
      "organizations_url": "https://api.github.com/users/goltermann/orgs",
      "received_events_url": "https://api.github.com/users/goltermann/received_events",
      "repos_url": "https://api.github.com/users/goltermann/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/goltermann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goltermann/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/goltermann"
    },
    "description": "Issues that need to be resolved for v1.0 of Kubernetes.",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/6",
    "id": 969317,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/6/labels",
    "node_id": "MDk6TWlsZXN0b25lOTY5MzE3",
    "number": 6,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.0",
    "updated_at": "2016-05-04T22:36:06Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/6"
  },
  "node_id": "MDU6SXNzdWU3MTM1OTE3Ng==",
  "number": 7376,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Monit dies trying to revive Docker; master borked",
  "updated_at": "2015-05-15T15:02:55Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/7376",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1170062?v=4",
    "events_url": "https://api.github.com/users/mbforbes/events{/privacy}",
    "followers_url": "https://api.github.com/users/mbforbes/followers",
    "following_url": "https://api.github.com/users/mbforbes/following{/other_user}",
    "gists_url": "https://api.github.com/users/mbforbes/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mbforbes",
    "id": 1170062,
    "login": "mbforbes",
    "node_id": "MDQ6VXNlcjExNzAwNjI=",
    "organizations_url": "https://api.github.com/users/mbforbes/orgs",
    "received_events_url": "https://api.github.com/users/mbforbes/received_events",
    "repos_url": "https://api.github.com/users/mbforbes/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mbforbes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mbforbes/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mbforbes"
  }
}
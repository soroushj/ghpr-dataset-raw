{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/49258?v=4",
    "events_url": "https://api.github.com/users/spiffxp/events{/privacy}",
    "followers_url": "https://api.github.com/users/spiffxp/followers",
    "following_url": "https://api.github.com/users/spiffxp/following{/other_user}",
    "gists_url": "https://api.github.com/users/spiffxp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/spiffxp",
    "id": 49258,
    "login": "spiffxp",
    "node_id": "MDQ6VXNlcjQ5MjU4",
    "organizations_url": "https://api.github.com/users/spiffxp/orgs",
    "received_events_url": "https://api.github.com/users/spiffxp/received_events",
    "repos_url": "https://api.github.com/users/spiffxp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/spiffxp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/spiffxp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/spiffxp"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/49258?v=4",
      "events_url": "https://api.github.com/users/spiffxp/events{/privacy}",
      "followers_url": "https://api.github.com/users/spiffxp/followers",
      "following_url": "https://api.github.com/users/spiffxp/following{/other_user}",
      "gists_url": "https://api.github.com/users/spiffxp/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/spiffxp",
      "id": 49258,
      "login": "spiffxp",
      "node_id": "MDQ6VXNlcjQ5MjU4",
      "organizations_url": "https://api.github.com/users/spiffxp/orgs",
      "received_events_url": "https://api.github.com/users/spiffxp/received_events",
      "repos_url": "https://api.github.com/users/spiffxp/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/spiffxp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spiffxp/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/spiffxp"
    },
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/9468083?v=4",
      "events_url": "https://api.github.com/users/johnbelamaric/events{/privacy}",
      "followers_url": "https://api.github.com/users/johnbelamaric/followers",
      "following_url": "https://api.github.com/users/johnbelamaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/johnbelamaric/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/johnbelamaric",
      "id": 9468083,
      "login": "johnbelamaric",
      "node_id": "MDQ6VXNlcjk0NjgwODM=",
      "organizations_url": "https://api.github.com/users/johnbelamaric/orgs",
      "received_events_url": "https://api.github.com/users/johnbelamaric/received_events",
      "repos_url": "https://api.github.com/users/johnbelamaric/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/johnbelamaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johnbelamaric/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/johnbelamaric"
    }
  ],
  "author_association": "MEMBER",
  "body": "**What happened**: \r\nIn reviewing  a test for promotion to conformance I noticed the kubelet API was being accessed via the API server's node proxy endpoint (ref: https://github.com/kubernetes/kubernetes/pull/80731#discussion_r310836102).  This seemed off, so I reviewed [our conformance test requirements doc](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/conformance-tests.md#conformance-test-requirements).  It doesn't explicitly call out kubelet API access as allowed or disallowed.\r\n\r\n[I asked #k8s-conformance if we had an opinion on this](https://kubernetes.slack.com/archives/C78F00H99/p1565050383095300).  @timothysc and @liggitt agreed kubelet API access seems like a bad idea.\r\n\r\nI'm now surveying what we have that _does_ assume kubelet API access.  It's definitely used by parts of e2e framework and some Conformance tests. I'm trying to verify how critical its use is.  It appears that much of it is related to debugging or verifying whether kubelets and the control plane agree on who is running what.\r\n\r\n**What you expected to happen**: \r\nFind a blanket policy that bans kubelet API access for Conformance tests, whether directly, or indirectly through the API server's node proxy endpoint, at any time.\r\n\r\nAlternatively, find a policy that says kubelet API access may be allowed, but only for debugging or failure purposes (must not be on the critical path to make the test pass)\r\n\r\nAlternatively, find a policy that says kubelet API access is allowed, but only indirectly through the API server, and evaluated against the same constraints we use for control plane access (GA, non-optional)\r\n\r\nIf we want to say kubelet API access is banned, we can use this as a tracking issue to demote whichever tests rely on it, and come up with a plan to verify the same behavior without kubelet API access.\r\n\r\n/area conformance\r\n/sig architecture\r\n/priority important-soon\r\n/milestone v1.16\r\n/assign",
  "closed_at": "2020-04-07T23:45:44Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 18,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/81052/comments",
  "created_at": "2019-08-07T01:08:59Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/81052/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/81052",
  "id": 477658216,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": "Issues or PRs related to kubernetes conformance tests",
      "id": 717986501,
      "name": "area/conformance",
      "node_id": "MDU6TGFiZWw3MTc5ODY1MDE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/conformance"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d3e2f0",
      "default": false,
      "description": "Indicates that an issue or PR should not be auto-closed due to staleness.",
      "id": 778118403,
      "name": "lifecycle/frozen",
      "node_id": "MDU6TGFiZWw3NzgxMTg0MDM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/lifecycle/frozen"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Architecture.",
      "id": 636152047,
      "name": "sig/architecture",
      "node_id": "MDU6TGFiZWw2MzYxNTIwNDc=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/architecture"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/81052/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": null,
    "closed_issues": 1941,
    "created_at": "2019-08-26T17:08:39Z",
    "creator": {
      "avatar_url": "https://avatars3.githubusercontent.com/u/567897?v=4",
      "events_url": "https://api.github.com/users/justaugustus/events{/privacy}",
      "followers_url": "https://api.github.com/users/justaugustus/followers",
      "following_url": "https://api.github.com/users/justaugustus/following{/other_user}",
      "gists_url": "https://api.github.com/users/justaugustus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/justaugustus",
      "id": 567897,
      "login": "justaugustus",
      "node_id": "MDQ6VXNlcjU2Nzg5Nw==",
      "organizations_url": "https://api.github.com/users/justaugustus/orgs",
      "received_events_url": "https://api.github.com/users/justaugustus/received_events",
      "repos_url": "https://api.github.com/users/justaugustus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/justaugustus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justaugustus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/justaugustus"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/46",
    "id": 4604497,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/46/labels",
    "node_id": "MDk6TWlsZXN0b25lNDYwNDQ5Nw==",
    "number": 46,
    "open_issues": 13,
    "state": "open",
    "title": "v1.19",
    "updated_at": "2020-10-27T18:35:01Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/46"
  },
  "node_id": "MDU6SXNzdWU0Nzc2NTgyMTY=",
  "number": 81052,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Conformance tests should not require access to kubelet API",
  "updated_at": "2020-04-07T23:45:44Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/81052",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/49258?v=4",
    "events_url": "https://api.github.com/users/spiffxp/events{/privacy}",
    "followers_url": "https://api.github.com/users/spiffxp/followers",
    "following_url": "https://api.github.com/users/spiffxp/following{/other_user}",
    "gists_url": "https://api.github.com/users/spiffxp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/spiffxp",
    "id": 49258,
    "login": "spiffxp",
    "node_id": "MDQ6VXNlcjQ5MjU4",
    "organizations_url": "https://api.github.com/users/spiffxp/orgs",
    "received_events_url": "https://api.github.com/users/spiffxp/received_events",
    "repos_url": "https://api.github.com/users/spiffxp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/spiffxp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/spiffxp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/spiffxp"
  }
}
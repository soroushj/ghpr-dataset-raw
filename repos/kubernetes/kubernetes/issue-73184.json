{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!-->\r\n\r\n\r\n**What happened**: The [zookeeper-installer](https://github.com/dims/kubernetes/tree/3e56e3c1c6b994f5b40a49f674e8c37a4c0dbf22/test/images/pets/zookeeper-installer) image used in the Statefulset e2e tests: https://github.com/kubernetes/kubernetes/blob/e4ef6079bc2c38ef7c741c6d253baa3f6fcad12f/test/e2e/apps/statefulset.go#L846 doesn't work because `bash` is missing in the image and the entrypoint is a bash script (`install.sh`).\r\n\r\n**What you expected to happen**: The image should be able to execute the entrypoint.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\nRun the image with the same args as used in the manifests: https://github.com/kubernetes/kubernetes/blob/e4ef6079bc2c38ef7c741c6d253baa3f6fcad12f/test/e2e/testing-manifests/statefulset/zookeeper/statefulset.yaml#L18-L22 \r\n```\r\n$ docker run -it gcr.io/kubernetes-e2e-test-images/pets/zookeeper-installer:1.2 --install-into=/opt --work-dir=/work-dir\r\nstandard_init_linux.go:190: exec user process caused \"no such file or directory\"\r\n```\r\n\r\n**Anything else we need to know?**:\r\n\r\nCan fix the issue by adding `bash` to the install command: https://github.com/dims/kubernetes/blob/3e56e3c1c6b994f5b40a49f674e8c37a4c0dbf22/test/images/pets/zookeeper-installer/Dockerfile#L21\r\n\r\nand building a new image:\r\n\r\n```\r\n$ make -C test/images WHAT=pets/zookeeper-installer all-container\r\n...\r\nSuccessfully built adaa6bfab882\r\nSuccessfully tagged gcr.io/kubernetes-e2e-test-images/pets/zookeeper-installer-arm64:1.2\r\n...\r\n$ docker run -it gcr.io/kubernetes-e2e-test-images/pets/zookeeper-installer-amd64:1.2 --install-into=/opt\r\ninstalling config scripts into /work-dir\r\ninstalling zookeeper-3.5.0-alpha into /opt\r\nzookeeper-3.5.0-alpha supports dynamic reconfiguration, enabling it\r\ncopying nc into /opt\r\n```\r\n\r\nBut I don't know if this is the right way since I don't fully understand the whole BASEIMAGE infrastructure and what's supposed to go where.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g. from /etc/os-release):\r\n- Kernel (e.g. `uname -a`):\r\n- Install tools:\r\n- Others:\r\n\r\n/sig testing",
  "closed_at": "2019-01-30T03:38:20Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73184/comments",
  "created_at": "2019-01-22T21:15:15Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73184/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/73184",
  "id": 401956844,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Testing.",
      "id": 483069764,
      "name": "sig/testing",
      "node_id": "MDU6TGFiZWw0ODMwNjk3NjQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/testing"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73184/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MDE5NTY4NDQ=",
  "number": 73184,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "zookeeper-install image doesn't work (bash is missing)",
  "updated_at": "2019-01-30T03:38:20Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73184",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/128566?v=4",
    "events_url": "https://api.github.com/users/mikkeloscar/events{/privacy}",
    "followers_url": "https://api.github.com/users/mikkeloscar/followers",
    "following_url": "https://api.github.com/users/mikkeloscar/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikkeloscar/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mikkeloscar",
    "id": 128566,
    "login": "mikkeloscar",
    "node_id": "MDQ6VXNlcjEyODU2Ng==",
    "organizations_url": "https://api.github.com/users/mikkeloscar/orgs",
    "received_events_url": "https://api.github.com/users/mikkeloscar/received_events",
    "repos_url": "https://api.github.com/users/mikkeloscar/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mikkeloscar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikkeloscar/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mikkeloscar"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "<!-- Thanks for filing an issue! Before hitting the button, please answer these questions.-->\r\n\r\n**Is this a request for help?** (If yes, you should use our troubleshooting guide and community support channels, see http://kubernetes.io/docs/troubleshooting/.): no\r\n\r\n\r\n**What keywords did you search in Kubernetes issues before filing this one?** (If you have found any duplicates, you should instead reply there.): build/run.sh make clean\r\n\r\n---\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?** (choose one): BUG REPORT\r\n\r\n<!--\r\nIf this is a BUG REPORT, please:\r\n  - Fill in as much of the template below as you can.  If you leave out\r\n    information, we can't help you as well.\r\n\r\nIf this is a FEATURE REQUEST, please:\r\n  - Describe *in detail* the feature/behavior/change you'd like to see.\r\n\r\nIn both cases, be ready for followup questions, and please respond in a timely\r\nmanner.  If we can't reproduce a bug or think a feature already exists, we\r\nmight close your issue.  If we're wrong, PLEASE feel free to reopen it and\r\nexplain why.\r\n-->\r\n\r\n**Kubernetes version** (use `kubectl version`): I am building from the release-1.5 branch\r\n\r\n\r\n**Environment**: I am building on my Mac\r\n- **Cloud provider or hardware configuration**: none\r\n- **OS** (e.g. from /etc/os-release): MacOS 10.12.2\r\n- **Kernel** (e.g. `uname -a`): `Darwin XXX.ibm.com 16.3.0 Darwin Kernel Version 16.3.0: Thu Nov 17 20:23:58 PST 2016; root:xnu-3789.31.2~1/RELEASE_X86_64 x86_64`\r\n- **Install tools**: none\r\n- **Others**: Docker version 1.12.5, build 7392c3b; 4 GB allocated to the Docker VM\r\n\r\n\r\n**What happened**:\r\nI read in https://github.com/kubernetes/kubernetes/blob/788804142f1b3323523500c2932f511284b6eae9/build/README.md#key-scripts about using `build/run.sh make`.  It lists some example make targets to use; it _does not_ list any targets to avoid.  So I thought I would start by cleaning up any mess that might be laying around, assuming the usual convention for that works.\r\n\r\n```\r\nmjs10:~ mspreitz$ cd $GOPATH\r\n\r\nmjs10:go mspreitz$ ls -l src\r\ntotal 8\r\ndrwxr-xr-x   3 mspreitz  staff  102 Aug  4  2015 9fans.net\r\ndrwxr-xr-x   4 mspreitz  staff  136 Jul 13  2016 code.google.com\r\ndrwxr-xr-x  21 mspreitz  staff  714 Nov 21 09:36 github.com\r\ndrwxr-xr-x   3 mspreitz  staff  102 Jan 12 13:54 github.ibm.com\r\nlrwxr-xr-x   1 mspreitz  staff   20 Jan 18 12:54 k8s.io -> github.com/kuberetes\r\n\r\nmjs10:go mspreitz$ cd src/github.com/kubernetes/kubernetes\r\n\r\nmjs10:kubernetes mspreitz$ git status\r\nOn branch release-1.5\r\nYour branch is up-to-date with 'origin/release-1.5'.\r\nnothing to commit, working tree clean\r\n\r\nmjs10:kubernetes mspreitz$ git rev-parse HEAD\r\nf0c2af20c13ab25b7fe4eec00fb11d417ef3a31d\r\n\r\nmjs10:kubernetes mspreitz$ docker ps -a\r\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\r\n\r\nmjs10:kubernetes mspreitz$ build/run.sh make clean\r\n+++ [0118 13:01:30] Verifying Prerequisites....\r\n+++ [0118 13:01:30] Using Docker for MacOS\r\n+++ [0118 13:01:31] Building Docker image kube-build:build-789f1328e3-4-v1.7.4-0\r\n+++ [0118 13:02:59] Keeping image kube-build:build-789f1328e3-4-v1.7.4-0\r\n+++ [0118 13:02:59] Creating data container kube-build-data-789f1328e3-4-v1.7.4-0\r\n+++ [0118 13:03:01] Syncing sources to container\r\n+++ [0118 13:03:01] Stopping any currently running rsyncd container\r\n+++ [0118 13:03:01] Starting rsyncd container\r\n+++ [0118 13:03:02] Running rsync\r\n+++ [0118 13:03:08] Stopping any currently running rsyncd container\r\n+++ [0118 13:03:09] Running build command...\r\n+++ [0118 13:03:10] Verifying Prerequisites....\r\n!!! [0118 13:03:10] Can't find 'docker' in PATH, please fix and retry.\r\n!!! [0118 13:03:10] See https://docs.docker.com/installation/#installation for installation instructions.\r\n!!! Error in build/make-clean.sh:151\r\n  'return 1' exited with status 1\r\nCall stack:\r\n  1: build/make-clean.sh:151 main(...)\r\nExiting with status 1\r\nMakefile:207: recipe for target 'clean' failed\r\nmake: *** [clean] Error 1\r\n!!! Error in build/../build/common.sh:523\r\n  '\"${docker_cmd[@]}\" \"${cmd[@]}\"' exited with status 2\r\nCall stack:\r\n  1: build/../build/common.sh:523 kube::build::run_build_command_ex(...)\r\n  2: build/../build/common.sh:515 kube::build::run_build_command(...)\r\n  3: build/run.sh:30 main(...)\r\nExiting with status 1\r\n```\r\n\r\n**What you expected to happen**:\r\nI expected that either `build/run.sh make clean` works or that doc would warn me against trying it.  Yes, I later discovered that the doc mentions `build/make-clean.sh` --- after having the above problem.\r\n\r\n**How to reproduce it** (as minimally and precisely as possible):\r\nWhat I showed above is pretty direct and from-scratch.\r\n\r\n**Anything else do we need to know**:\r\n\r\n",
  "closed_at": "2017-10-22T22:36:05Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/5595220?v=4",
    "events_url": "https://api.github.com/users/thockin/events{/privacy}",
    "followers_url": "https://api.github.com/users/thockin/followers",
    "following_url": "https://api.github.com/users/thockin/following{/other_user}",
    "gists_url": "https://api.github.com/users/thockin/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/thockin",
    "id": 5595220,
    "login": "thockin",
    "node_id": "MDQ6VXNlcjU1OTUyMjA=",
    "organizations_url": "https://api.github.com/users/thockin/orgs",
    "received_events_url": "https://api.github.com/users/thockin/received_events",
    "repos_url": "https://api.github.com/users/thockin/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/thockin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thockin/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/thockin"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/40090/comments",
  "created_at": "2017-01-18T17:07:12Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/40090/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/40090",
  "id": 201634211,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 125299793,
      "name": "area/build-release",
      "node_id": "MDU6TGFiZWwxMjUyOTk3OTM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/build-release"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Contributor Experience.",
      "id": 261778410,
      "name": "sig/contributor-experience",
      "node_id": "MDU6TGFiZWwyNjE3Nzg0MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/contributor-experience"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/40090/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-08-26T17:22:47Z",
    "closed_issues": 1412,
    "created_at": "2016-08-16T21:47:28Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/647318?v=4",
      "events_url": "https://api.github.com/users/lavalamp/events{/privacy}",
      "followers_url": "https://api.github.com/users/lavalamp/followers",
      "following_url": "https://api.github.com/users/lavalamp/following{/other_user}",
      "gists_url": "https://api.github.com/users/lavalamp/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lavalamp",
      "id": 647318,
      "login": "lavalamp",
      "node_id": "MDQ6VXNlcjY0NzMxOA==",
      "organizations_url": "https://api.github.com/users/lavalamp/orgs",
      "received_events_url": "https://api.github.com/users/lavalamp/received_events",
      "repos_url": "https://api.github.com/users/lavalamp/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lavalamp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lavalamp/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lavalamp"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/23",
    "id": 1945978,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/23/labels",
    "node_id": "MDk6TWlsZXN0b25lMTk0NTk3OA==",
    "number": 23,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.5",
    "updated_at": "2019-08-26T17:22:47Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/23"
  },
  "node_id": "MDU6SXNzdWUyMDE2MzQyMTE=",
  "number": 40090,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "`build/run.sh make clean` fails",
  "updated_at": "2017-10-22T22:36:05Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/40090",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/14296719?v=4",
    "events_url": "https://api.github.com/users/MikeSpreitzer/events{/privacy}",
    "followers_url": "https://api.github.com/users/MikeSpreitzer/followers",
    "following_url": "https://api.github.com/users/MikeSpreitzer/following{/other_user}",
    "gists_url": "https://api.github.com/users/MikeSpreitzer/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/MikeSpreitzer",
    "id": 14296719,
    "login": "MikeSpreitzer",
    "node_id": "MDQ6VXNlcjE0Mjk2NzE5",
    "organizations_url": "https://api.github.com/users/MikeSpreitzer/orgs",
    "received_events_url": "https://api.github.com/users/MikeSpreitzer/received_events",
    "repos_url": "https://api.github.com/users/MikeSpreitzer/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/MikeSpreitzer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MikeSpreitzer/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/MikeSpreitzer"
  }
}
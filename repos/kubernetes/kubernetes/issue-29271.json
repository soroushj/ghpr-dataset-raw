{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "## Summary\n\nBecause `kubectl get ns -o name` always return names with a prefix like `namespace/default`, it cannot be directly used to iterate over all namespaces to execute other commands.\n## Version\n\nI've compiled from source:\n\n```\n$ kubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"4+\", GitVersion:\"v1.4.0-alpha.0.661+d4ae9ca53dc88a-dirty\", GitCommit:\"d4ae9ca53dc88aa43c7b2fcc2a6aab1105746f0a\", GitTreeState:\"dirty\", BuildDate:\"2016-06-23T17:02:00Z\", GoVersion:\"go1.6.2\", Compiler:\"gc\", Platform:\"linux/amd64\"}\nServer Version: version.Info{Major:\"\", Minor:\"\", GitVersion:\"v1.3.0-alpha.3-599-g2746284\", GitCommit:\"2fe486f\", GitTreeState:\"not a git tree\", BuildDate:\"1970-01-01T00:00:00Z\", GoVersion:\"go1.5.4\", Compiler:\"gc\", Platform:\"linux/amd64\"}\n```\n## Details\n\nReviewing some scripts, I came across a usage of `kubectl` like this:\n\n```\nkubectl get ns -o jsonpath='{.items[*].metadata.name}'\n```\n\nThat line fetches namespace names to later run in a `for` loop:\n\n```\nkubectl -n \"${ns}\" get pods -o json > \"${ns}/pods.json\"\n```\n\nThat seemed to be a perfect use case for the `-o name` flag, but it can't be used without extra hacks to get rid of the `namespace/` prefix (FWIW, `kubectl -n namespace/default ...` is invalid).\n## Proposed solution\n\nChanging the current output of `kubectl get ns -o name` might not be possible or desirable, for this could impact existing users that rely on the output format.\n\nIf I'm wrong about the above limitation, than it would make sense to output just the name when `-o name` and there is a single resource type, while using the ideas introduced in #27379 to show the resource type  only when there is more than one type in the output, or when `--show-kind` is explicitly set.\n### Example\n\nBefore:\n\n``` console\n$ kubectl get ns -o name\nnamespace/default\nnamespace/demo\n```\n\nAfter:\n\n``` console\n$ kubectl get ns -o name\ndefault\ndemo\n```\n\n``` console\n$ kubectl get ns -o name --show-kind\nnamespace/default\nnamespace/demo\n```\n\n``` console\n$ kubectl get ns,svc -o name\nnamespace/default\nnamespace/demo\nservice/mysql\n```\n",
  "closed_at": "2017-09-03T15:33:25Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 15,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29271/comments",
  "created_at": "2016-07-20T09:33:05Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29271/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/29271",
  "id": 166538883,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 138247961,
      "name": "area/kubectl",
      "node_id": "MDU6TGFiZWwxMzgyNDc5NjE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/kubectl"
    },
    {
      "color": "fef2c0",
      "default": false,
      "description": "Lowest priority. Possibly useful, but not yet enough support to actually get it done.",
      "id": 149621825,
      "name": "priority/awaiting-more-evidence",
      "node_id": "MDU6TGFiZWwxNDk2MjE4MjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/awaiting-more-evidence"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG CLI.",
      "id": 450823910,
      "name": "sig/cli",
      "node_id": "MDU6TGFiZWw0NTA4MjM5MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cli"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29271/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNjY1Mzg4ODM=",
  "number": 29271,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "kubectl -n should support both `-n namespace/yournamespace` and `-n yournamespace`",
  "updated_at": "2017-09-03T15:33:25Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29271",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/88819?v=4",
    "events_url": "https://api.github.com/users/rhcarvalho/events{/privacy}",
    "followers_url": "https://api.github.com/users/rhcarvalho/followers",
    "following_url": "https://api.github.com/users/rhcarvalho/following{/other_user}",
    "gists_url": "https://api.github.com/users/rhcarvalho/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rhcarvalho",
    "id": 88819,
    "login": "rhcarvalho",
    "node_id": "MDQ6VXNlcjg4ODE5",
    "organizations_url": "https://api.github.com/users/rhcarvalho/orgs",
    "received_events_url": "https://api.github.com/users/rhcarvalho/received_events",
    "repos_url": "https://api.github.com/users/rhcarvalho/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rhcarvalho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rhcarvalho/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rhcarvalho"
  }
}
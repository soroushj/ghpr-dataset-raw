{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/18107181?v=4",
    "events_url": "https://api.github.com/users/k82cn/events{/privacy}",
    "followers_url": "https://api.github.com/users/k82cn/followers",
    "following_url": "https://api.github.com/users/k82cn/following{/other_user}",
    "gists_url": "https://api.github.com/users/k82cn/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k82cn",
    "id": 18107181,
    "login": "k82cn",
    "node_id": "MDQ6VXNlcjE4MTA3MTgx",
    "organizations_url": "https://api.github.com/users/k82cn/orgs",
    "received_events_url": "https://api.github.com/users/k82cn/received_events",
    "repos_url": "https://api.github.com/users/k82cn/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k82cn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k82cn/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k82cn"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars0.githubusercontent.com/u/18107181?v=4",
      "events_url": "https://api.github.com/users/k82cn/events{/privacy}",
      "followers_url": "https://api.github.com/users/k82cn/followers",
      "following_url": "https://api.github.com/users/k82cn/following{/other_user}",
      "gists_url": "https://api.github.com/users/k82cn/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/k82cn",
      "id": 18107181,
      "login": "k82cn",
      "node_id": "MDQ6VXNlcjE4MTA3MTgx",
      "organizations_url": "https://api.github.com/users/k82cn/orgs",
      "received_events_url": "https://api.github.com/users/k82cn/received_events",
      "repos_url": "https://api.github.com/users/k82cn/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/k82cn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k82cn/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/k82cn"
    }
  ],
  "author_association": "MEMBER",
  "body": "getNodeConditionPredicate() in plugin/pkg/scheduler/factory/factory.go makes our code hard to understand because it hides the node-condition-based filtering in the node lister, which is totally non-obvious.\r\n\r\nWe should get rid of this function and have NodeController add NoSchedule taints for these situations instead. (Alas, we might not actually be able to get rid of getNodeConditionPredicate() completely until we get rid of the Unschedulable field of PodSpec, but at least we can get rid of all the other code in this function.) If there are pods that should still be able to schedule in any of these situations (e.g. DaemonSet pods?) we should add tolerations in admission control for them (e.g. see pkg/controller/daemon/daemoncontroller.go).\r\n\r\ncc/ @kubernetes/sig-scheduling-misc  @kubernetes/sig-cluster-lifecycle-misc \r\ncc/ @gmarek @kevin-wangzefeng \r\n\r\n**Sub-tasks according to the design doc:**\r\n\r\n- [x] Add node taints label and feature flag (#49547)\r\n- [x] In the node controller, taint Nodes according to the Node Condition (#49257)\r\n- [x] In DaemonSet, update DaemonSetController to Tolerant new Taints (#50186)\r\n- [x] In admissionController, add MemoryPressure/DiskPressure toleration for no BestEffort pod (#50180)\r\n- [x] In scheduler, disable the current behaviour of filtering out Nodes. Instead, pods will not be scheduled to tainted nodes if a toleration does not exist in its PodSpec (#50185)\r\n- [x] Add e2e test for this feature (https://github.com/kubernetes/kubernetes/pull/52723)\r\n- [x] Update doc for this feature (https://github.com/kubernetes/kubernetes.github.io/pull/5352)\r\n  ",
  "closed_at": "2018-01-15T14:54:52Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1703842?v=4",
    "events_url": "https://api.github.com/users/gmarek/events{/privacy}",
    "followers_url": "https://api.github.com/users/gmarek/followers",
    "following_url": "https://api.github.com/users/gmarek/following{/other_user}",
    "gists_url": "https://api.github.com/users/gmarek/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/gmarek",
    "id": 1703842,
    "login": "gmarek",
    "node_id": "MDQ6VXNlcjE3MDM4NDI=",
    "organizations_url": "https://api.github.com/users/gmarek/orgs",
    "received_events_url": "https://api.github.com/users/gmarek/received_events",
    "repos_url": "https://api.github.com/users/gmarek/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/gmarek/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gmarek/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/gmarek"
  },
  "comments": 31,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42001/comments",
  "created_at": "2017-02-23T20:26:17Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42001/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/42001",
  "id": 209874585,
  "labels": [
    {
      "color": "795548",
      "default": false,
      "description": "Denotes an issue or PR has remained open with no activity and has become stale.",
      "id": 778118404,
      "name": "lifecycle/stale",
      "node_id": "MDU6TGFiZWw3NzgxMTg0MDQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/lifecycle/stale"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Cluster Lifecycle.",
      "id": 173494222,
      "name": "sig/cluster-lifecycle",
      "node_id": "MDU6TGFiZWwxNzM0OTQyMjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cluster-lifecycle"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42001/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyMDk4NzQ1ODU=",
  "number": 42001,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "NodeController should add NoSchedule taints and we should get rid of getNodeConditionPredicate()",
  "updated_at": "2018-01-15T14:54:52Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/42001",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8264113?v=4",
    "events_url": "https://api.github.com/users/davidopp/events{/privacy}",
    "followers_url": "https://api.github.com/users/davidopp/followers",
    "following_url": "https://api.github.com/users/davidopp/following{/other_user}",
    "gists_url": "https://api.github.com/users/davidopp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/davidopp",
    "id": 8264113,
    "login": "davidopp",
    "node_id": "MDQ6VXNlcjgyNjQxMTM=",
    "organizations_url": "https://api.github.com/users/davidopp/orgs",
    "received_events_url": "https://api.github.com/users/davidopp/received_events",
    "repos_url": "https://api.github.com/users/davidopp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/davidopp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/davidopp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/davidopp"
  }
}
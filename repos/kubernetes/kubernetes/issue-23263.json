{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "Even though existing scheduler benchmark showed almost linear scheduling rate, in kubemark density test we didn't see as huge improvement.\n\nThis is caused by the discrepancies between scheduler benchmark and density test in mostly two places:\n- [ ] Replication controller: \n  - Scheduler benchmark creates pod one by one. See [here](https://github.com/kubernetes/kubernetes/blob/e664ef922fd3ecc2dcb692c8d012950cd4646af6/test/component/scheduler/perf/util.go#L115). Density test creates pods by using replication controller. See [here](https://github.com/kubernetes/kubernetes/blob/9a71dfe753b4e67016f306ac18d6a27698f4517b/test/e2e/density.go#L303). \n  - This affected how SelectorSpreadPriority made calculation and in Kubemark we saw it's the largest time consumer.\n- [ ] Port: \n  - Scheduler benchmark creates pod without specifying port. Density test specifies ports. See [here](https://github.com/kubernetes/kubernetes/blob/4402e57588522d6d94870a86ed494e3c1fbd479e/test/e2e/util.go#L1833).\n  - This affected how PodFitsHostPort() predicate made calculation and in Kubemark we saw it's the second largest time consumer.\n\nMeanwhile, there is one left issue in scheduler benchmark we should fix:\n- [ ] Avoid scheduling path in pod setup. In some benchmarks, we want to see scheduling behavior when  a number of pods have been scheduled. Currently the setup needs go through scheduling. See [here](https://github.com/kubernetes/kubernetes/blob/e664ef922fd3ecc2dcb692c8d012950cd4646af6/test/component/scheduler/perf/scheduler_bench_test.go#L57-L64). It's unnecessary and time consuming, and most importantly, stopping us from making large setup.\n\nWe are planning to fix these and improve scheduler performance in 1.3 timeline.\n",
  "closed_at": "2016-04-20T14:18:20Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/23263/comments",
  "created_at": "2016-03-20T22:46:56Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/23263/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/23263",
  "id": 142217063,
  "labels": [
    {
      "color": "fbca04",
      "default": false,
      "description": "Higher priority than priority/awaiting-more-evidence.",
      "id": 114528273,
      "name": "priority/backlog",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyNzM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/backlog"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/23263/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNDIyMTcwNjM=",
  "number": 23263,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Fixing scheduler benchmark",
  "updated_at": "2016-04-20T14:18:20Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/23263",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/920884?v=4",
    "events_url": "https://api.github.com/users/hongchaodeng/events{/privacy}",
    "followers_url": "https://api.github.com/users/hongchaodeng/followers",
    "following_url": "https://api.github.com/users/hongchaodeng/following{/other_user}",
    "gists_url": "https://api.github.com/users/hongchaodeng/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/hongchaodeng",
    "id": 920884,
    "login": "hongchaodeng",
    "node_id": "MDQ6VXNlcjkyMDg4NA==",
    "organizations_url": "https://api.github.com/users/hongchaodeng/orgs",
    "received_events_url": "https://api.github.com/users/hongchaodeng/received_events",
    "repos_url": "https://api.github.com/users/hongchaodeng/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/hongchaodeng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hongchaodeng/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/hongchaodeng"
  }
}
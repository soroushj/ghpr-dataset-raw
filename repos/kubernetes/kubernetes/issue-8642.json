{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
    "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
    "followers_url": "https://api.github.com/users/dchen1107/followers",
    "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
    "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dchen1107",
    "id": 7740897,
    "login": "dchen1107",
    "node_id": "MDQ6VXNlcjc3NDA4OTc=",
    "organizations_url": "https://api.github.com/users/dchen1107/orgs",
    "received_events_url": "https://api.github.com/users/dchen1107/received_events",
    "repos_url": "https://api.github.com/users/dchen1107/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dchen1107"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
      "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
      "followers_url": "https://api.github.com/users/dchen1107/followers",
      "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
      "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dchen1107",
      "id": 7740897,
      "login": "dchen1107",
      "node_id": "MDQ6VXNlcjc3NDA4OTc=",
      "organizations_url": "https://api.github.com/users/dchen1107/orgs",
      "received_events_url": "https://api.github.com/users/dchen1107/received_events",
      "repos_url": "https://api.github.com/users/dchen1107/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dchen1107"
    }
  ],
  "author_association": "MEMBER",
  "body": "During debugging #8637, I noticed that one of services pods: monitoring and logging pods stuck at pending sometimes forever:\n\n```\n$ cluster/kubectl.sh get pods --namespace=\"default\"\nfluentd-elasticsearch-kubernetes-minion-9q50                                                                                             kubernetes-minion-9q50/                 <none>                                                                        Pending      About an hour   \n                                                            fluentd-elasticsearch   gcr.io/google_containers/fluentd-elasticsearch:1.5                                                                                                                                      \n...\n\n$ cluster/kubectl.sh get pods -o yaml fluentd-elasticsearch-kubernetes-minion-9q50\napiVersion: v1beta3\nkind: Pod\nmetadata:\n  annotations:\n    kubernetes.io/config.mirror: mirror\n    kubernetes.io/config.source: file\n  creationTimestamp: 2015-05-21T21:01:21Z\n  name: fluentd-elasticsearch-kubernetes-minion-9q50\n  namespace: default\n  resourceVersion: \"33083\"\n  selfLink: /api/v1beta3/namespaces/default/pods/fluentd-elasticsearch-kubernetes-minion-9q50\n  uid: 884b09be-fffc-11e4-92b6-42010af084a4\nspec:\n  containers:\n  - capabilities: {}\n    env:\n    - name: FLUENTD_ARGS\n      value: -qq\n    image: gcr.io/google_containers/fluentd-elasticsearch:1.5\n    imagePullPolicy: IfNotPresent\n    name: fluentd-elasticsearch\n    resources:\n      limits:\n        cpu: 100m\n    securityContext:\n      capabilities: {}\n      privileged: false\n    terminationMessagePath: /dev/termination-log\n    volumeMounts:\n    - mountPath: /varlog\n      name: varlog\n    - mountPath: /var/lib/docker/containers\n      name: containers\n  dnsPolicy: ClusterFirst\n  host: kubernetes-minion-9q50\n  restartPolicy: Always\n  serviceAccount: \"\"\n  volumes:\n  - hostPath:\n      path: /var/log\n    name: varlog\n  - hostPath:\n      path: /var/lib/docker/containers\n    name: containers\nstatus:\n  phase: Pending\n\n```\n\nI logged into the node, and found the container is running happily on the node:\n\n```\n# docker ps -a | grep fluentd-elasticsearch-kubernetes-minion-9q50\n5219fed9570b        gcr.io/google_containers/fluentd-elasticsearch:1.5   \"\\\"/bin/sh -c '/usr/   2 hours ago         Up 2 hours                                     k8s_fluentd-elasticsearch.c99175f6_fluentd-elasticsearch-kubernetes-minion-9q50_default_a8d3815def5de29fd315adf5d9fc5acc_3feacf95   \n68e799daa598        gcr.io/google_containers/pause:0.8.0                 \"/pause\"               2 hours ago         Up 2 hours                                     k8s_POD.e4cc795_fluentd-elasticsearch-kubernetes-minion-9q50_default_a8d3815def5de29fd315adf5d9fc5acc_e6a32500                      \na029f8710c93        gcr.io/google_containers/pause:0.8.0                 \"/pause\"               2 hours ago                                                        k8s_POD.e4cc795_fluentd-elasticsearch-kubernetes-minion-9q50_default_a8d3815def5de29fd315adf5d9fc5acc_82b1abf7                      \n7b7c2c97aa50        gcr.io/google_containers/fluentd-elasticsearch:1.5   \"\\\"/bin/sh -c '/usr/   2 hours ago         Exited (143) 2 hours ago                       k8s_fluentd-elasticsearch.c99175f6_fluentd-elasticsearch-kubernetes-minion-9q50_default_a8d3815def5de29fd315adf5d9fc5acc_f47f189b   \nfe98a27d7687        gcr.io/google_containers/pause:0.8.0                 \"/pause\"               2 hours ago         Exited (0) 2 hours ago                         k8s_POD.e4cc795_fluentd-elasticsearch-kubernetes-minion-9q50_default_a8d3815def5de29fd315adf5d9fc5acc_d4c77781                      \n\n```\n\nLooks like status is never reported from kubelet. I checked kubelet log, then I found:\n\n```\nE0521 21:01:18.661917    2486 kubelet.go:1074] Deleting mirror pod \"fluentd-elasticsearch-kubernetes-minion-9q50_default\" because it is outdated\nW0521 21:01:19.175759    2486 status_manager.go:60] Failed to updated pod status: error updating status for pod \"fluentd-elasticsearch-kubernetes-minion-9q50\": pods \"fluentd-elasticsearch-kubernetes-minion-9q50\" not found\n```\n\nWhy we cannot delete mirror pod? and Created a new one? Because this regression, once we run into such state, the rest of test won't be triggered, and eventually timeout / failed. \n",
  "closed_at": "2015-05-22T15:59:41Z",
  "closed_by": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
    "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
    "followers_url": "https://api.github.com/users/dchen1107/followers",
    "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
    "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dchen1107",
    "id": 7740897,
    "login": "dchen1107",
    "node_id": "MDQ6VXNlcjc3NDA4OTc=",
    "organizations_url": "https://api.github.com/users/dchen1107/orgs",
    "received_events_url": "https://api.github.com/users/dchen1107/received_events",
    "repos_url": "https://api.github.com/users/dchen1107/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dchen1107"
  },
  "comments": 19,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/8642/comments",
  "created_at": "2015-05-21T22:51:16Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/8642/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/8642",
  "id": 79193118,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 105152717,
      "name": "area/test",
      "node_id": "MDU6TGFiZWwxMDUxNTI3MTc=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/test"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Highest priority. Must be actively worked on as someone's top priority right now.",
      "id": 114528068,
      "name": "priority/critical-urgent",
      "node_id": "MDU6TGFiZWwxMTQ1MjgwNjg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/critical-urgent"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/8642/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU3OTE5MzExOA==",
  "number": 8642,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Regression: mirror pods get deleted and recreated repeated due to spec mismatch",
  "updated_at": "2019-01-10T11:27:23Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/8642",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/7740897?v=4",
    "events_url": "https://api.github.com/users/dchen1107/events{/privacy}",
    "followers_url": "https://api.github.com/users/dchen1107/followers",
    "following_url": "https://api.github.com/users/dchen1107/following{/other_user}",
    "gists_url": "https://api.github.com/users/dchen1107/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dchen1107",
    "id": 7740897,
    "login": "dchen1107",
    "node_id": "MDQ6VXNlcjc3NDA4OTc=",
    "organizations_url": "https://api.github.com/users/dchen1107/orgs",
    "received_events_url": "https://api.github.com/users/dchen1107/received_events",
    "repos_url": "https://api.github.com/users/dchen1107/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dchen1107/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dchen1107/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dchen1107"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "`kubectl` crashes when creating a pod with one or more empty arguments. This also happens when creating a deployment with this as a pod spec.\n\nI'm using v1.2.3.\n\n``` bash\n$ kubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"2\", GitVersion:\"v1.2.3\", GitCommit:\"882d296a99218da8f6b2a340eb0e81c69e66ecc7\", GitTreeState:\"clean\"}\nServer Version: version.Info{Major:\"1\", Minor:\"2\", GitVersion:\"v1.2.3\", GitCommit:\"882d296a99218da8f6b2a340eb0e81c69e66ecc7\", GitTreeState:\"clean\"}\n```\n\nI was able to get a similar crash with `kubectl` 1.2.4.\n\n``` bash\n$ ./kubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"2\", GitVersion:\"v1.2.4\", GitCommit:\"3eed1e3be6848b877ff80a93da3785d9034d0a4f\", GitTreeState:\"clean\"}\nServer Version: version.Info{Major:\"1\", Minor:\"2\", GitVersion:\"v1.2.3\", GitCommit:\"882d296a99218da8f6b2a340eb0e81c69e66ecc7\", GitTreeState:\"clean\"}\n```\n\n``` bash\n$ kubectl create -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox-sleep\nspec:\n  containers:\n  - name: busybox\n    image: busybox\n    args:\n    - echo\n    - hello\n    -\n    - world\n\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0xa0 pc=0x8386fb]\n\ngoroutine 1 [running]:\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).validateField(0xc20811c480, 0x0, 0x0, 0xc2081fc3a0, 0x1a, 0xc208587d88, 0x6, 0x0, 0x0, 0x0, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:247 +0x198b\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).validateField(0xc20811c480, 0x11677e0, 0xc2082b7fc0, 0xc2081fc300, 0x17, 0xc208587dc0, 0x5, 0xc208462750, 0x0, 0x0, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:264 +0xa7b\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).ValidateObject(0xc20811c480, 0x118cbe0, 0xc20843ced0, 0xc2081fc2a0, 0x13, 0xc20848d050, 0xc, 0x0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:214 +0x119d\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).validateField(0xc20811c480, 0x118cbe0, 0xc20843ced0, 0xc2081fc200, 0x12, 0xc20848d050, 0xc, 0x0, 0x0, 0x0, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:237 +0xe0\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).validateField(0xc20811c480, 0x11677e0, 0xc2081fc020, 0xc20843a590, 0xf, 0xc20848d070, 0x5, 0xc2084626c0, 0x0, 0x0, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:264 +0xa7b\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).ValidateObject(0xc20811c480, 0x118cbe0, 0xc20843cea0, 0xc20843a579, 0x5, 0xc208613320, 0xa, 0x0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:214 +0x119d\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).validateField(0xc20811c480, 0x118cbe0, 0xc20843cea0, 0xc20842b8f4, 0x4, 0xc208613320, 0xa, 0xc208462630, 0x0, 0x0, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:237 +0xe0\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).ValidateObject(0xc20811c480, 0x118cbe0, 0xc20843ce40, 0x0, 0x0, 0xc20843a498, 0x6, 0x0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:214 +0x119d\nk8s.io/kubernetes/pkg/api/validation.(*SwaggerSchema).ValidateBytes(0xc20811c480, 0xc20806d130, 0xa6, 0xb0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/api/validation/schema.go:163 +0x89a\nk8s.io/kubernetes/pkg/kubectl/cmd/util.getSchemaAndValidate(0x7fc7b327ee30, 0xc2081e86c0, 0xc20806d130, 0xa6, 0xb0, 0x1621220, 0x3, 0x1637ce0, 0x2, 0xc2081fda40, ...)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/cmd/util/factory.go:757 +0x407\nk8s.io/kubernetes/pkg/kubectl/cmd/util.(*clientSwaggerSchema).ValidateBytes(0xc2082033b0, 0xc20806d130, 0xa6, 0xb0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/cmd/util/factory.go:819 +0xf41\nk8s.io/kubernetes/pkg/kubectl/resource.ValidateSchema(0xc20806d130, 0xa6, 0xb0, 0x7fc7b327ea20, 0xc2082033b0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:213 +0x1f4\nk8s.io/kubernetes/pkg/kubectl/resource.(*StreamVisitor).Visit(0xc20810b3c0, 0xc2081a85c0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:481 +0x2e0\nk8s.io/kubernetes/pkg/kubectl/resource.(*FileVisitor).Visit(0xc2081a83e0, 0xc2081a85c0, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:441 +0x12e\nk8s.io/kubernetes/pkg/kubectl/resource.EagerVisitorList.Visit(0xc208116fe0, 0x1, 0x1, 0xc2081a8560, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:198 +0x17e\nk8s.io/kubernetes/pkg/kubectl/resource.(*EagerVisitorList).Visit(0xc2081a8420, 0xc2081a8560, 0x0, 0x0)\n        <autogenerated>:100 +0xbd\nk8s.io/kubernetes/pkg/kubectl/resource.FlattenListVisitor.Visit(0x7fc7b327eba0, 0xc2081a8420, 0xc20810aec0, 0xc2081a8520, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:361 +0x10b\nk8s.io/kubernetes/pkg/kubectl/resource.(*FlattenListVisitor).Visit(0xc2081a8480, 0xc2081a8520, 0x0, 0x0)\n        <autogenerated>:117 +0xbd\nk8s.io/kubernetes/pkg/kubectl/resource.DecoratedVisitor.Visit(0x7fc7b327ebc8, 0xc2081a8480, 0xc2081a84c0, 0x3, 0x4, 0xc2081a8500, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:269 +0x110\nk8s.io/kubernetes/pkg/kubectl/resource.(*DecoratedVisitor).Visit(0xc208203c50, 0xc2081a8500, 0x0, 0x0)\n        <autogenerated>:138 +0xbc\nk8s.io/kubernetes/pkg/kubectl/resource.ContinueOnErrorVisitor.Visit(0x7fc7b327ebf0, 0xc208203c50, 0xc208203c80, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/visitor.go:296 +0x171\nk8s.io/kubernetes/pkg/kubectl/resource.(*ContinueOnErrorVisitor).Visit(0xc208117020, 0xc208203c80, 0x0, 0x0)\n        <autogenerated>:133 +0xbb\nk8s.io/kubernetes/pkg/kubectl/resource.(*Result).Visit(0xc208201f80, 0xc208203c80, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/resource/result.go:79 +0x73\nk8s.io/kubernetes/pkg/kubectl/cmd.RunCreate(0xc208162960, 0xc208122000, 0x7fc7b3278030, 0xc208046008, 0xc20801ee80, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/cmd/create.go:143 +0x743\nk8s.io/kubernetes/pkg/kubectl/cmd.func\u00b7012(0xc208122000, 0xc2081a9200, 0x0, 0x2)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/pkg/kubectl/cmd/create.go:66 +0x107\ngithub.com/spf13/cobra.(*Command).execute(0xc208122000, 0xc2081a90a0, 0x2, 0x2, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/Godeps/_workspace/src/github.com/spf13/cobra/command.go:572 +0x82f\ngithub.com/spf13/cobra.(*Command).ExecuteC(0xc20806b600, 0xc208122000, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/Godeps/_workspace/src/github.com/spf13/cobra/command.go:662 +0x4db\ngithub.com/spf13/cobra.(*Command).Execute(0xc20806b600, 0x0, 0x0)\n        /go/src/k8s.io/kubernetes/Godeps/_workspace/src/github.com/spf13/cobra/command.go:618 +0x3a\nk8s.io/kubernetes/cmd/kubectl/app.Run(0x0, 0x0)\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/cmd/kubectl/app/kubectl.go:28 +0x101\nmain.main()\n        /go/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/cmd/kubectl/kubectl.go:28 +0x2f\n\ngoroutine 5 [chan receive]:\ngithub.com/golang/glog.(*loggingT).flushDaemon(0x1e6b160)\n        /go/src/k8s.io/kubernetes/Godeps/_workspace/src/github.com/golang/glog/glog.go:879 +0x78\ncreated by github.com/golang/glog.init\u00b71\n        /go/src/k8s.io/kubernetes/Godeps/_workspace/src/github.com/golang/glog/glog.go:410 +0x2a7\n\ngoroutine 13 [syscall]:\nos/signal.loop()\n        /usr/src/go/src/os/signal/signal_unix.go:21 +0x1f\ncreated by os/signal.init\u00b71\n        /usr/src/go/src/os/signal/signal_unix.go:27 +0x35\n\ngoroutine 16 [IO wait]:\nnet.(*pollDesc).Wait(0xc2081c73a0, 0x72, 0x0, 0x0)\n        /usr/src/go/src/net/fd_poll_runtime.go:84 +0x47\nnet.(*pollDesc).WaitRead(0xc2081c73a0, 0x0, 0x0)\n        /usr/src/go/src/net/fd_poll_runtime.go:89 +0x43\nnet.(*netFD).Read(0xc2081c7340, 0xc2081e2000, 0x1000, 0x1000, 0x0, 0x7fc7b3278378, 0xc208117038)\n        /usr/src/go/src/net/fd_unix.go:242 +0x40f\nnet.(*conn).Read(0xc208046418, 0xc2081e2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n        /usr/src/go/src/net/net.go:121 +0xdc\nnet/http.noteEOFReader.Read(0x7fc7b327e1e0, 0xc208046418, 0xc20806ce18, 0xc2081e2000, 0x1000, 0x1000, 0x1309f20, 0x0, 0x0)\n        /usr/src/go/src/net/http/transport.go:1270 +0x6e\nnet/http.(*noteEOFReader).Read(0xc2081c9800, 0xc2081e2000, 0x1000, 0x1000, 0xc208012000, 0x0, 0x0)\n        <autogenerated>:125 +0xd4\nbufio.(*Reader).fill(0xc20819fb60)\n        /usr/src/go/src/bufio/bufio.go:97 +0x1ce\nbufio.(*Reader).Peek(0xc20819fb60, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\n        /usr/src/go/src/bufio/bufio.go:132 +0xf0\nnet/http.(*persistConn).readLoop(0xc20806cdc0)\n        /usr/src/go/src/net/http/transport.go:842 +0xa4\ncreated by net/http.(*Transport).dialConn\n        /usr/src/go/src/net/http/transport.go:660 +0xc9f\n\ngoroutine 17 [select]:\nnet/http.(*persistConn).writeLoop(0xc20806cdc0)\n        /usr/src/go/src/net/http/transport.go:945 +0x41d\ncreated by net/http.(*Transport).dialConn\n        /usr/src/go/src/net/http/transport.go:661 +0xcbc\n```\n",
  "closed_at": "2016-06-07T14:21:07Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/8093535?v=4",
    "events_url": "https://api.github.com/users/eparis/events{/privacy}",
    "followers_url": "https://api.github.com/users/eparis/followers",
    "following_url": "https://api.github.com/users/eparis/following{/other_user}",
    "gists_url": "https://api.github.com/users/eparis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/eparis",
    "id": 8093535,
    "login": "eparis",
    "node_id": "MDQ6VXNlcjgwOTM1MzU=",
    "organizations_url": "https://api.github.com/users/eparis/orgs",
    "received_events_url": "https://api.github.com/users/eparis/received_events",
    "repos_url": "https://api.github.com/users/eparis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/eparis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eparis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/eparis"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/26927/comments",
  "created_at": "2016-06-07T01:35:33Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/26927/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/26927",
  "id": 158811293,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/26927/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNTg4MTEyOTM=",
  "number": 26927,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Creating pod with empty argument crashes kubectl",
  "updated_at": "2016-06-07T14:21:07Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/26927",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1156773?v=4",
    "events_url": "https://api.github.com/users/kichik/events{/privacy}",
    "followers_url": "https://api.github.com/users/kichik/followers",
    "following_url": "https://api.github.com/users/kichik/following{/other_user}",
    "gists_url": "https://api.github.com/users/kichik/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kichik",
    "id": 1156773,
    "login": "kichik",
    "node_id": "MDQ6VXNlcjExNTY3NzM=",
    "organizations_url": "https://api.github.com/users/kichik/orgs",
    "received_events_url": "https://api.github.com/users/kichik/received_events",
    "repos_url": "https://api.github.com/users/kichik/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kichik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kichik/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kichik"
  }
}
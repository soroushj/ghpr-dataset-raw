{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n/kind feature\r\n/sig aws\r\n\r\n**Anything else we need to know?**:\r\nEnable running the Cloud Controller Manager using a different AWS account than the worker instances.\r\n\r\nThe AWS cloud provider for Kubernetes assumes that all of the master and worker nodes run in the same AWS account. I would like to be able to run the master nodes in a separate AWS account to keep separate the running of the cluster from what runs on the cluster. By default, the cloud provider uses the EC2 instance role. I would like a way to provide an AWS IAM role to use instead.\r\n\r\nFor example, if I created my master instance in AWS account A, and my worker instance in account B, I want to be able to provide an IAM role from account B that Controller Manager, running on an instance in account A, would assume. Any resources created (I.E. ELB) would be created using the assume role in account B.\r\n\r\nI would like to propose adding a RoleArn property to the AWS cloud config file. If present, the cloud provider would use an AssumeRoleProvider instead of the EC2RoleProvider when initializing the AWS SDK client such that all requests to AWS are made with the assumed role. AssumeRoleProvider automatically renews the assumed role when it expires. \r\n\r\n**Also considered:**\r\nI could use the environment variables to pass temporary credentials after manually assuming the target role (AWS_ACCESS_KEY_ID, etc). As far as I understand, the credentials returned from assuming a role expire after a certain amount of time so this would not work for a long-running process. The Cloud Controller Manager process would need to be restarted in order to re-assume the role after it has expired.\r\n\r\nNote this request was previously shared here for initial comments here:\r\nhttps://docs.google.com/document/d/1x4DI30Q3YI8Sr3x4XNZ3dcjISL1rj2KbVnM1ld5S4KA/edit?usp=sharing\r\n",
  "closed_at": "2018-02-16T14:01:45Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/59526/comments",
  "created_at": "2018-02-08T03:40:47Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/59526/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/59526",
  "id": 295375124,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to design.",
      "id": 114509261,
      "name": "kind/design",
      "node_id": "MDU6TGFiZWwxMTQ1MDkyNjE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/design"
    },
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/59526/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyOTUzNzUxMjQ=",
  "number": 59526,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Run Cloud Controller Manager with AWS IAM role from different account",
  "updated_at": "2018-02-16T14:01:45Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/59526",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1350710?v=4",
    "events_url": "https://api.github.com/users/brycecarman/events{/privacy}",
    "followers_url": "https://api.github.com/users/brycecarman/followers",
    "following_url": "https://api.github.com/users/brycecarman/following{/other_user}",
    "gists_url": "https://api.github.com/users/brycecarman/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/brycecarman",
    "id": 1350710,
    "login": "brycecarman",
    "node_id": "MDQ6VXNlcjEzNTA3MTA=",
    "organizations_url": "https://api.github.com/users/brycecarman/orgs",
    "received_events_url": "https://api.github.com/users/brycecarman/received_events",
    "repos_url": "https://api.github.com/users/brycecarman/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/brycecarman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brycecarman/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/brycecarman"
  }
}
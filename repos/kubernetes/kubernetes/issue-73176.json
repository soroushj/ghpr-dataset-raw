{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
    "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
    "followers_url": "https://api.github.com/users/bsalamat/followers",
    "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bsalamat",
    "id": 14308438,
    "login": "bsalamat",
    "node_id": "MDQ6VXNlcjE0MzA4NDM4",
    "organizations_url": "https://api.github.com/users/bsalamat/orgs",
    "received_events_url": "https://api.github.com/users/bsalamat/received_events",
    "repos_url": "https://api.github.com/users/bsalamat/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bsalamat"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/1796778?v=4",
      "events_url": "https://api.github.com/users/misterikkit/events{/privacy}",
      "followers_url": "https://api.github.com/users/misterikkit/followers",
      "following_url": "https://api.github.com/users/misterikkit/following{/other_user}",
      "gists_url": "https://api.github.com/users/misterikkit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/misterikkit",
      "id": 1796778,
      "login": "misterikkit",
      "node_id": "MDQ6VXNlcjE3OTY3Nzg=",
      "organizations_url": "https://api.github.com/users/misterikkit/orgs",
      "received_events_url": "https://api.github.com/users/misterikkit/received_events",
      "repos_url": "https://api.github.com/users/misterikkit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/misterikkit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/misterikkit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/misterikkit"
    },
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
      "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
      "followers_url": "https://api.github.com/users/bsalamat/followers",
      "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
      "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bsalamat",
      "id": 14308438,
      "login": "bsalamat",
      "node_id": "MDQ6VXNlcjE0MzA4NDM4",
      "organizations_url": "https://api.github.com/users/bsalamat/orgs",
      "received_events_url": "https://api.github.com/users/bsalamat/received_events",
      "repos_url": "https://api.github.com/users/bsalamat/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bsalamat"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "We've noticed a strange behavior of the scheduler in GCE 5K node scalability tests.\r\nThere were periods of time, lasting about 6s, when scheduler didn't schedule any new pods. \r\nIt's ruining our 5s pod-startup-latency SLO.\r\n\r\nSee the example below, pod **density-latency-pod-2325-dgqrv** created on **09:08:59**, scheduler didn't schedule it until **09:09:06**.\r\n\r\n```\r\nI0121 09:08:59.691874       1 event.go:209] Event(v1.ObjectReference{Kind:\"ReplicationController\", Namespace:\"density-30-26-1933\", Name:\"density-latency-pod-2325\", UID:\"30589687-1d5c-11e9-b534-42010a280002\", APIVersion:\"v1\", ResourceVersion:\"3042857\", FieldPath:\"\"}): type: 'Normal' reason: 'SuccessfulCreate' Created pod: density-latency-pod-2325-dgqrv\r\nI0121 09:09:06.307377       1 wrap.go:47] POST /api/v1/namespaces/density-30-26-1933/pods/density-latency-pod-2325-dgqrv/binding: (1.394487ms) 201 [kube-scheduler/v1.14.0 (linux/amd64) kubernetes/dc3edee/scheduler [::1]:51586]\r\nI0121 09:09:06.309277       1 scheduler.go:569] pod density-30-26-1933/density-latency-pod-2325-dgqrv is bound successfully on node gce-scale-cluster-minion-group-4-fqwb, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.326446       1 wrap.go:47] GET /api/v1/namespaces/density-30-26-1933/pods/density-latency-pod-2325-dgqrv: (1.311438ms) 200 [kubelet/v1.14.0 (linux/amd64) kubernetes/dc3edee 35.196.249.148:38954]\r\nI0121 09:09:06.329459       1 wrap.go:47] PATCH /api/v1/namespaces/density-30-26-1933/pods/density-latency-pod-2325-dgqrv/status: (1.985776ms) 200 [kubelet/v1.14.0 (linux/amd64) kubernetes/dc3edee 35.196.249.148:38954]\r\n```\r\n\r\nAn interesting pattern can be found in the [scheduler logs](https://storage.googleapis.com/kubernetes-jenkins/logs/ci-kubernetes-e2e-gce-scale-performance/298/artifacts/gce-scale-cluster-master/kube-scheduler.log) around that time.\r\n\r\n```\r\nI0121 09:08:55.160303       1 scheduler.go:569] pod density-30-1-394/density-latency-pod-2300-s7zl6 is bound successfully on node gce-scale-cluster-minion-group-1-zq3r, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.175608       1 scheduler.go:569] pod density-30-2-2304/density-latency-pod-2301-rf7bq is bound successfully on node gce-scale-cluster-minion-group-1-8204, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.197037       1 scheduler.go:569] pod density-30-3-974/density-latency-pod-2302-cns4p is bound successfully on node gce-scale-cluster-minion-group-2-dcnc, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.321117       1 scheduler.go:569] pod density-30-4-5066/density-latency-pod-2303-jcw4q is bound successfully on node gce-scale-cluster-minion-group-3-xmxz, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.504597       1 scheduler.go:569] pod density-30-5-2728/density-latency-pod-2304-q4bf8 is bound successfully on node gce-scale-cluster-minion-group-3-xs40, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.703014       1 scheduler.go:569] pod density-30-6-21/density-latency-pod-2305-mjj2q is bound successfully on node gce-scale-cluster-minion-group-4-rsrd, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:55.908740       1 scheduler.go:569] pod density-30-7-7191/density-latency-pod-2306-rfhgw is bound successfully on node gce-scale-cluster-minion-group-3-gbhp, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:56.104215       1 scheduler.go:569] pod density-30-8-2640/density-latency-pod-2307-88zwl is bound successfully on node gce-scale-cluster-minion-group-jv6m, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:56.307854       1 scheduler.go:569] pod density-30-9-4199/density-latency-pod-2308-9fdvz is bound successfully on node gce-scale-cluster-minion-group-4-5m0k, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:56.521561       1 scheduler.go:569] pod density-30-10-5048/density-latency-pod-2309-dwbb5 is bound successfully on node gce-scale-cluster-minion-group-1-3nrg, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:56.706760       1 scheduler.go:569] pod density-30-11-7199/density-latency-pod-2310-6mlhb is bound successfully on node gce-scale-cluster-minion-group-1-kjpk, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:56.901541       1 scheduler.go:569] pod density-30-12-2434/density-latency-pod-2311-glprj is bound successfully on node gce-scale-cluster-minion-group-1-3k0r, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:57.106755       1 scheduler.go:569] pod density-30-13-1369/density-latency-pod-2312-7n4r4 is bound successfully on node gce-scale-cluster-minion-group-2-ftn9, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:57.304155       1 scheduler.go:569] pod density-30-14-4782/density-latency-pod-2313-56ngs is bound successfully on node gce-scale-cluster-minion-group-3-gc3q, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:57.506152       1 scheduler.go:569] pod density-30-15-7591/density-latency-pod-2314-qvc8r is bound successfully on node gce-scale-cluster-minion-group-3-qp6q, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:57.742922       1 scheduler.go:569] pod density-30-16-9788/density-latency-pod-2315-cr97n is bound successfully on node gce-scale-cluster-minion-group-gdct, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:57.910126       1 scheduler.go:569] pod density-30-17-2062/density-latency-pod-2316-scgpb is bound successfully on node gce-scale-cluster-minion-group-4-wftx, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:58.107775       1 scheduler.go:569] pod density-30-18-3414/density-latency-pod-2317-rhhs6 is bound successfully on node gce-scale-cluster-minion-group-3-wnq7, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:58.303788       1 scheduler.go:569] pod density-30-19-5440/density-latency-pod-2318-rcxtf is bound successfully on node gce-scale-cluster-minion-group-gm65, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:58.507955       1 scheduler.go:569] pod density-30-20-1046/density-latency-pod-2319-wth55 is bound successfully on node gce-scale-cluster-minion-group-1-cn2x, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:58.707024       1 scheduler.go:569] pod density-30-21-487/density-latency-pod-2320-d7c8s is bound successfully on node gce-scale-cluster-minion-group-1-6qp0, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:58.905785       1 scheduler.go:569] pod density-30-22-7185/density-latency-pod-2321-5zg8f is bound successfully on node gce-scale-cluster-minion-group-2-p2nh, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:59.108228       1 scheduler.go:569] pod density-30-23-7537/density-latency-pod-2322-wndqd is bound successfully on node gce-scale-cluster-minion-group-2-bb97, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:59.305414       1 scheduler.go:569] pod density-30-24-1721/density-latency-pod-2323-59xmr is bound successfully on node gce-scale-cluster-minion-group-3-rpn2, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:08:59.508773       1 scheduler.go:569] pod density-30-25-3105/density-latency-pod-2324-qq42t is bound successfully on node gce-scale-cluster-minion-group-4-b8vd, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:00.712919       1 trace.go:76] Trace[116804465]: \"Scheduling kube-system/metrics-server-v0.3.1-f5df79876-xgvrc\" (started: 2019-01-21 09:09:00.584877776 +0000 UTC m=+3661.754873344) (total time: 127.99198ms):\r\nTrace[116804465]: [127.99198ms] [124.971506ms] END\r\nI0121 09:09:06.309277       1 scheduler.go:569] pod density-30-26-1933/density-latency-pod-2325-dgqrv is bound successfully on node gce-scale-cluster-minion-group-4-fqwb, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.317892       1 scheduler.go:569] pod density-30-27-8131/density-latency-pod-2326-7lnvg is bound successfully on node gce-scale-cluster-minion-group-62pk, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.332262       1 scheduler.go:569] pod density-30-32-8234/density-latency-pod-2331-85lb4 is bound successfully on node gce-scale-cluster-minion-group-4-zr54, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.342067       1 scheduler.go:569] pod density-30-28-6446/density-latency-pod-2327-slvps is bound successfully on node gce-scale-cluster-minion-group-4-4vq8, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.351223       1 scheduler.go:569] pod density-30-29-4335/density-latency-pod-2328-njfd2 is bound successfully on node gce-scale-cluster-minion-group-1-3wmc, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.360875       1 scheduler.go:569] pod density-30-30-5658/density-latency-pod-2329-ldr4n is bound successfully on node gce-scale-cluster-minion-group-1-xm0l, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.369589       1 scheduler.go:569] pod density-30-31-7629/density-latency-pod-2330-8lplc is bound successfully on node gce-scale-cluster-minion-group-2-x1zq, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.378715       1 scheduler.go:569] pod density-30-33-1683/density-latency-pod-2332-78ghp is bound successfully on node gce-scale-cluster-minion-group-3-2j29, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.389407       1 scheduler.go:569] pod density-30-34-483/density-latency-pod-2333-krc4r is bound successfully on node gce-scale-cluster-minion-group-3-6h60, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.400130       1 scheduler.go:569] pod density-30-35-2255/density-latency-pod-2334-b6l9j is bound successfully on node gce-scale-cluster-minion-group-xlbn, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.412261       1 scheduler.go:569] pod density-30-36-1126/density-latency-pod-2335-lzmr4 is bound successfully on node gce-scale-cluster-minion-group-4-kwwn, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.426177       1 scheduler.go:569] pod density-30-37-9100/density-latency-pod-2336-lgqzs is bound successfully on node gce-scale-cluster-minion-group-nd3j, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.435004       1 scheduler.go:569] pod density-30-40-2434/density-latency-pod-2339-689wn is bound successfully on node gce-scale-cluster-minion-group-00hq, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.445189       1 scheduler.go:569] pod density-30-41-2699/density-latency-pod-2340-zj2s6 is bound successfully on node gce-scale-cluster-minion-group-1-2mlb, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.456775       1 scheduler.go:569] pod density-30-42-5470/density-latency-pod-2341-2v72z is bound successfully on node gce-scale-cluster-minion-group-1-2j67, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.466369       1 scheduler.go:569] pod density-30-38-918/density-latency-pod-2337-z5r97 is bound successfully on node gce-scale-cluster-minion-group-2-mqf4, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.475395       1 scheduler.go:569] pod density-30-39-9011/density-latency-pod-2338-29rrx is bound successfully on node gce-scale-cluster-minion-group-2-qk9m, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.484882       1 scheduler.go:569] pod density-30-47-346/density-latency-pod-2346-2sr5h is bound successfully on node gce-scale-cluster-minion-group-3-b2pj, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.497258       1 scheduler.go:569] pod density-30-43-9802/density-latency-pod-2342-4g86t is bound successfully on node gce-scale-cluster-minion-group-3-xbn9, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.509157       1 scheduler.go:569] pod density-30-44-8493/density-latency-pod-2343-4ghcv is bound successfully on node gce-scale-cluster-minion-group-4-443g, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.521605       1 scheduler.go:569] pod density-30-45-1943/density-latency-pod-2344-j689g is bound successfully on node gce-scale-cluster-minion-group-jgln, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.533202       1 scheduler.go:569] pod density-30-46-3126/density-latency-pod-2345-kfl6d is bound successfully on node gce-scale-cluster-minion-group-dqnm, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.544975       1 scheduler.go:569] pod density-30-1-394/density-latency-pod-2350-ggw6z is bound successfully on node gce-scale-cluster-minion-group-4-8g8p, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.557506       1 scheduler.go:569] pod density-30-50-7520/density-latency-pod-2349-rpz6p is bound successfully on node gce-scale-cluster-minion-group-1-f2nt, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.569044       1 scheduler.go:569] pod density-30-49-9960/density-latency-pod-2348-gx749 is bound successfully on node gce-scale-cluster-minion-group-1-k99q, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.580843       1 scheduler.go:569] pod density-30-48-6987/density-latency-pod-2347-8m8xj is bound successfully on node gce-scale-cluster-minion-group-2-hns9, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.591937       1 scheduler.go:569] pod density-30-2-2304/density-latency-pod-2351-n84hw is bound successfully on node gce-scale-cluster-minion-group-2-f202, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.603233       1 scheduler.go:569] pod density-30-3-974/density-latency-pod-2352-sd2s4 is bound successfully on node gce-scale-cluster-minion-group-3-cwhr, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.613349       1 scheduler.go:569] pod density-30-7-7191/density-latency-pod-2356-g6wjk is bound successfully on node gce-scale-cluster-minion-group-3-bs5b, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.625120       1 scheduler.go:569] pod density-30-6-21/density-latency-pod-2355-fnf67 is bound successfully on node gce-scale-cluster-minion-group-fk0w, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.638370       1 scheduler.go:569] pod density-30-4-5066/density-latency-pod-2353-xdx9k is bound successfully on node gce-scale-cluster-minion-group-1td1, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.650432       1 scheduler.go:569] pod density-30-5-2728/density-latency-pod-2354-zbbxb is bound successfully on node gce-scale-cluster-minion-group-4-2qbn, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.662341       1 scheduler.go:569] pod density-30-9-4199/density-latency-pod-2358-6lzwn is bound successfully on node gce-scale-cluster-minion-group-4-wkwp, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.674764       1 scheduler.go:569] pod density-30-8-2640/density-latency-pod-2357-gtd4r is bound successfully on node gce-scale-cluster-minion-group-1-rk28, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.688428       1 scheduler.go:569] pod density-30-10-5048/density-latency-pod-2359-cx6hq is bound successfully on node gce-scale-cluster-minion-group-1-mrw3, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.722781       1 scheduler.go:569] pod density-30-11-7199/density-latency-pod-2360-npfcz is bound successfully on node gce-scale-cluster-minion-group-2-pzfd, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:06.917951       1 scheduler.go:569] pod density-30-12-2434/density-latency-pod-2361-p4flh is bound successfully on node gce-scale-cluster-minion-group-2-v345, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:07.119680       1 scheduler.go:569] pod density-30-13-1369/density-latency-pod-2362-wv7nn is bound successfully on node gce-scale-cluster-minion-group-3-26p7, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:07.318862       1 scheduler.go:569] pod density-30-14-4782/density-latency-pod-2363-r29px is bound successfully on node gce-scale-cluster-minion-group-3-52g2, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:07.521375       1 scheduler.go:569] pod density-30-15-7591/density-latency-pod-2364-fcfmb is bound successfully on node gce-scale-cluster-minion-group-0d5f, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:07.722981       1 scheduler.go:569] pod density-30-16-9788/density-latency-pod-2365-qcpj8 is bound successfully on node gce-scale-cluster-minion-group-3qmb, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:07.922536       1 scheduler.go:569] pod density-30-17-2062/density-latency-pod-2366-bgj8k is bound successfully on node gce-scale-cluster-minion-group-4-qk8c, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:08.122552       1 scheduler.go:569] pod density-30-18-3414/density-latency-pod-2367-fnwjt is bound successfully on node gce-scale-cluster-minion-group-3-v26l, 501 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:08.321098       1 scheduler.go:569] pod density-30-19-5440/density-latency-pod-2368-tcg7h is bound successfully on node gce-scale-cluster-minion-group-1-230s, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:08.525071       1 scheduler.go:569] pod density-30-20-1046/density-latency-pod-2369-5m4qj is bound successfully on node gce-scale-cluster-minion-group-2-cxlq, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:08.721483       1 scheduler.go:569] pod density-30-21-487/density-latency-pod-2370-wnndr is bound successfully on node gce-scale-cluster-minion-group-2-9sxx, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:08.923228       1 scheduler.go:569] pod density-30-22-7185/density-latency-pod-2371-vcdt6 is bound successfully on node gce-scale-cluster-minion-group-3-8qwt, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:09.119937       1 scheduler.go:569] pod density-30-23-7537/density-latency-pod-2372-rcbvf is bound successfully on node gce-scale-cluster-minion-group-3-kq42, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:09.321698       1 scheduler.go:569] pod density-30-24-1721/density-latency-pod-2373-vp64w is bound successfully on node gce-scale-cluster-minion-group-4-thz1, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:09.519764       1 scheduler.go:569] pod density-30-25-3105/density-latency-pod-2374-wpg6h is bound successfully on node gce-scale-cluster-minion-group-0rdb, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:09.721337       1 scheduler.go:569] pod density-30-26-1933/density-latency-pod-2375-n5nhb is bound successfully on node gce-scale-cluster-minion-group-4-dmwp, 500 nodes evaluated, 500 nodes were found feasible\r\nI0121 09:09:09.921519       1 scheduler.go:569] pod density-30-27-8131/density-latency-pod-2376-bp8j8 is bound successfully on node gce-scale-cluster-minion-group-4-ctjq, 500 nodes evaluated, 500 nodes were found feasible\r\n```\r\n\r\nBefore *09:09:00* scheduler schedules ~5 pods / s. Then it goes silent for about 6s and at *09:09:06* it outputs about 30 \"bound successfully\" statements and continues scheduling pods with ~5 pods / s pace.\r\n\r\nWe checked api-server logs for that silent period of time and it turned out that scheduler was doing something, it was constantly sending GET and PUT request for a metrics-server and heapster pod it was trying to \r\nschedule. \r\n![api-scheduler](https://user-images.githubusercontent.com/2604887/51542545-cf487400-1e5b-11e9-9a1c-5b62e993ae45.png)\r\n\r\nWe dug deeper and found that scheduler was actually trying to schedule these two pods for over 12h, below is the plot of number of calls per minute that scheduler issued to api-server for these two pods:\r\n![scheduler](https://user-images.githubusercontent.com/2604887/51543025-e176e200-1e5c-11e9-88f2-b79fa7cab2a2.png)\r\nAs we can see there are long periods of time when scheduler issues **over 1500 requests per minute**. That seems strangely a lot given that the requests are only for the two pods.\r\n\r\nDuring the whole run scheduler issued **over 400K GETs and over 200K PUTs** for these two pods. \r\n![api-server-summary](https://user-images.githubusercontent.com/2604887/51543093-0f5c2680-1e5d-11e9-98a8-6c3829c59bc7.png)\r\n\r\nWe figured out that scheduler wasn't able to schedule these two pods because there was not enough resources in the cluster.\r\n\r\nWhile it's understandable that scheduler wasn't able to schedule the pods, I'd expect scheduler to not spam the system with so many retries, which, as we can see in this example, can potentially block / slow-down scheduling of other pods.\r\n\r\nI've increased the scheduler log verbosity level in https://github.com/kubernetes/test-infra/pull/10874, we should have more logs from the tomorrow's run. \r\nWill post them here once available.",
  "closed_at": "2019-02-27T00:50:14Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 19,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73176/comments",
  "created_at": "2019-01-22T15:07:58Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73176/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/73176",
  "id": 401808513,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73176/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2020-08-23T05:01:17Z",
    "closed_issues": 609,
    "created_at": "2018-10-19T11:05:25Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/408385?v=4",
      "events_url": "https://api.github.com/users/idealhack/events{/privacy}",
      "followers_url": "https://api.github.com/users/idealhack/followers",
      "following_url": "https://api.github.com/users/idealhack/following{/other_user}",
      "gists_url": "https://api.github.com/users/idealhack/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/idealhack",
      "id": 408385,
      "login": "idealhack",
      "node_id": "MDQ6VXNlcjQwODM4NQ==",
      "organizations_url": "https://api.github.com/users/idealhack/orgs",
      "received_events_url": "https://api.github.com/users/idealhack/received_events",
      "repos_url": "https://api.github.com/users/idealhack/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/idealhack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/idealhack/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/idealhack"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/41",
    "id": 3751947,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/41/labels",
    "node_id": "MDk6TWlsZXN0b25lMzc1MTk0Nw==",
    "number": 41,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.14",
    "updated_at": "2020-08-23T05:01:17Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/41"
  },
  "node_id": "MDU6SXNzdWU0MDE4MDg1MTM=",
  "number": 73176,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Scheduler doesn't schedule any pods for short periods of time",
  "updated_at": "2019-02-27T07:52:34Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/73176",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/2604887?v=4",
    "events_url": "https://api.github.com/users/mm4tt/events{/privacy}",
    "followers_url": "https://api.github.com/users/mm4tt/followers",
    "following_url": "https://api.github.com/users/mm4tt/following{/other_user}",
    "gists_url": "https://api.github.com/users/mm4tt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mm4tt",
    "id": 2604887,
    "login": "mm4tt",
    "node_id": "MDQ6VXNlcjI2MDQ4ODc=",
    "organizations_url": "https://api.github.com/users/mm4tt/orgs",
    "received_events_url": "https://api.github.com/users/mm4tt/received_events",
    "repos_url": "https://api.github.com/users/mm4tt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mm4tt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mm4tt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mm4tt"
  }
}
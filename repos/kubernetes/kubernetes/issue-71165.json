{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/7528864?v=4",
    "events_url": "https://api.github.com/users/danielqsj/events{/privacy}",
    "followers_url": "https://api.github.com/users/danielqsj/followers",
    "following_url": "https://api.github.com/users/danielqsj/following{/other_user}",
    "gists_url": "https://api.github.com/users/danielqsj/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/danielqsj",
    "id": 7528864,
    "login": "danielqsj",
    "node_id": "MDQ6VXNlcjc1Mjg4NjQ=",
    "organizations_url": "https://api.github.com/users/danielqsj/orgs",
    "received_events_url": "https://api.github.com/users/danielqsj/received_events",
    "repos_url": "https://api.github.com/users/danielqsj/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/danielqsj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danielqsj/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/danielqsj"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7528864?v=4",
      "events_url": "https://api.github.com/users/danielqsj/events{/privacy}",
      "followers_url": "https://api.github.com/users/danielqsj/followers",
      "following_url": "https://api.github.com/users/danielqsj/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielqsj/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/danielqsj",
      "id": 7528864,
      "login": "danielqsj",
      "node_id": "MDQ6VXNlcjc1Mjg4NjQ=",
      "organizations_url": "https://api.github.com/users/danielqsj/orgs",
      "received_events_url": "https://api.github.com/users/danielqsj/received_events",
      "repos_url": "https://api.github.com/users/danielqsj/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/danielqsj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielqsj/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/danielqsj"
    }
  ],
  "author_association": "MEMBER",
  "body": "<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\nWorkqueue metrics that follow prometheus best practices and naming conventions. So instead of naming metrics based on the name of the workqueue, create metrics for workqueues that use name as a label. Also use the recommended base units\r\n\r\nCurrently:\r\n* **daemonset_depth** gauge\r\n* **daemonset_queue_latency** summary (in milliseconds)\r\n* **daemonset_retries** counter\r\n* **daemonset_work_duration** summary (in milliseconds)\r\n\r\nProposal:\r\n* **workqueue_depth** gauge name=\"deployment|daemonset|job..\"\r\n* **workqueue_queue_latency_seconds** summary name=\"deployment|daemonset|job..\" (in seconds)\r\n* **workqueue_retries_total** counter name=\"deployment|daemonset|job..\"\r\n* **workqueue_work_duration_seconds** summary name=\"deployment|daemonset|job..\" (in seconds)\r\n\r\n\r\n**Why is this needed**:\r\nControllers currently expose prometheus metrics for workqueues. Unfortunately the naming and the use of labels do not line up well with the prometheus recommendations. This leads to several metrics per named workqueue instead of a small number metrics where the name is used as a label. Also, the metrics does not use the recommended base units.\r\n\r\nThis change will allow for easier scraping of metrics, avoid large number of similarly named metrics and easier aggregation of metrics across different workqueues. The risk with this change is that the current metrics has been in Kubernetes for many releases and there might be users and tooling that depend on the current naming.\r\n\r\n<!-- DO NOT EDIT BELOW THIS LINE -->\r\n/kind feature\r\n/sig api-machinery\r\n/cc @loburm @kow3ns",
  "closed_at": "2019-01-01T05:18:46Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 8,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/71165/comments",
  "created_at": "2018-11-16T23:51:50Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/71165/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/71165",
  "id": 381800213,
  "labels": [
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG API Machinery.",
      "id": 173493835,
      "name": "sig/api-machinery",
      "node_id": "MDU6TGFiZWwxNzM0OTM4MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/api-machinery"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/71165/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzODE4MDAyMTM=",
  "number": 71165,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Use prometheus conventions for workqueue metrics",
  "updated_at": "2019-01-19T22:27:50Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/71165",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/8463?v=4",
    "events_url": "https://api.github.com/users/mortent/events{/privacy}",
    "followers_url": "https://api.github.com/users/mortent/followers",
    "following_url": "https://api.github.com/users/mortent/following{/other_user}",
    "gists_url": "https://api.github.com/users/mortent/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mortent",
    "id": 8463,
    "login": "mortent",
    "node_id": "MDQ6VXNlcjg0NjM=",
    "organizations_url": "https://api.github.com/users/mortent/orgs",
    "received_events_url": "https://api.github.com/users/mortent/received_events",
    "repos_url": "https://api.github.com/users/mortent/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mortent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mortent/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mortent"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/1944093?v=4",
    "events_url": "https://api.github.com/users/caseydavenport/events{/privacy}",
    "followers_url": "https://api.github.com/users/caseydavenport/followers",
    "following_url": "https://api.github.com/users/caseydavenport/following{/other_user}",
    "gists_url": "https://api.github.com/users/caseydavenport/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/caseydavenport",
    "id": 1944093,
    "login": "caseydavenport",
    "node_id": "MDQ6VXNlcjE5NDQwOTM=",
    "organizations_url": "https://api.github.com/users/caseydavenport/orgs",
    "received_events_url": "https://api.github.com/users/caseydavenport/received_events",
    "repos_url": "https://api.github.com/users/caseydavenport/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/caseydavenport/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/caseydavenport/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/caseydavenport"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/1944093?v=4",
      "events_url": "https://api.github.com/users/caseydavenport/events{/privacy}",
      "followers_url": "https://api.github.com/users/caseydavenport/followers",
      "following_url": "https://api.github.com/users/caseydavenport/following{/other_user}",
      "gists_url": "https://api.github.com/users/caseydavenport/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/caseydavenport",
      "id": 1944093,
      "login": "caseydavenport",
      "node_id": "MDQ6VXNlcjE5NDQwOTM=",
      "organizations_url": "https://api.github.com/users/caseydavenport/orgs",
      "received_events_url": "https://api.github.com/users/caseydavenport/received_events",
      "repos_url": "https://api.github.com/users/caseydavenport/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/caseydavenport/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caseydavenport/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/caseydavenport"
    }
  ],
  "author_association": "MEMBER",
  "body": "<!-- This form is for bug reports and feature requests ONLY! \r\n\r\nIf you're looking for help check [Stack Overflow](https://stackoverflow.com/questions/tagged/kubernetes) and the [troubleshooting guide](https://kubernetes.io/docs/tasks/debug-application-cluster/troubleshooting/).\r\n-->\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n\r\n/kind bug\r\n/sig api\r\n/sig network\r\n\r\n**What happened**:\r\n\r\nPrior to 1.8 it was possible to specify the same targetPort in the service definition multiple times. In 1.8, validation was added that prohibited this. \r\n\r\n**What you expected to happen**:\r\nI expect backwards compatibility for GA resources, so having the same targetPort multiple times should be allowed. This is a valid use case IMO for target ports. If you take the example below, the load balancer terminates SSL, so that manifest allows the nginx pods to receive http on port 80 while the load balancer serves traffic on 80 & 443. \r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n```\r\nkubectl apply -f - <<EOF \r\nkind: Service\r\napiVersion: v1\r\nmetadata:\r\n  name: nginx-service\r\n  annotations:\r\n    service.beta.kubernetes.io/oci-load-balancer-ssl-ports: \"443\"\r\n    service.beta.kubernetes.io/oci-load-balancer-tls-secret: ssl-certificate-secret\r\nspec:\r\n  selector:\r\n    app: nginx\r\n  type: LoadBalancer\r\n  ports:\r\n  - name: http\r\n    port: 80\r\n    targetPort: 80\r\n  - name: https\r\n    port: 443\r\n    targetPort: 80\r\nEOF\r\n```\r\n\r\n**Anything else we need to know?**:\r\n\r\nOriginal ticket for validation: https://github.com/kubernetes/kubernetes/issues/47222\r\n",
  "closed_at": "2017-11-13T22:46:58Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 10,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53526/comments",
  "created_at": "2017-10-06T12:34:26Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53526/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/53526",
  "id": 263431058,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": "Indicates an issue on api area.",
      "id": 125063986,
      "name": "area/api",
      "node_id": "MDU6TGFiZWwxMjUwNjM5ODY=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/api"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to adding, removing, or otherwise changing an API",
      "id": 261005360,
      "name": "kind/api-change",
      "node_id": "MDU6TGFiZWwyNjEwMDUzNjA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/api-change"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Network.",
      "id": 116712108,
      "name": "sig/network",
      "node_id": "MDU6TGFiZWwxMTY3MTIxMDg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/network"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53526/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNjM0MzEwNTg=",
  "number": 53526,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "upgrading to 1.8 broke Service backwards compatibility by not allowing the same target port multiple times",
  "updated_at": "2017-11-13T22:46:58Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/53526",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/3876739?v=4",
    "events_url": "https://api.github.com/users/jhorwit2/events{/privacy}",
    "followers_url": "https://api.github.com/users/jhorwit2/followers",
    "following_url": "https://api.github.com/users/jhorwit2/following{/other_user}",
    "gists_url": "https://api.github.com/users/jhorwit2/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/jhorwit2",
    "id": 3876739,
    "login": "jhorwit2",
    "node_id": "MDQ6VXNlcjM4NzY3Mzk=",
    "organizations_url": "https://api.github.com/users/jhorwit2/orgs",
    "received_events_url": "https://api.github.com/users/jhorwit2/received_events",
    "repos_url": "https://api.github.com/users/jhorwit2/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/jhorwit2/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jhorwit2/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/jhorwit2"
  }
}
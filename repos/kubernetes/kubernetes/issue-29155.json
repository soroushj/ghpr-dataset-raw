{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "For https://github.com/kubernetes/kubernetes/issues/29081.\n\nWith https://github.com/kubernetes/kubernetes/pull/28807, we are going to share some tests between e2e and node e2e.\nHowever, one problem is that e2e and node e2e have different image prepulling. When adding a test which needs an new image, it's pain to add the image in both of them.\nAnd both of them are hard to maintain. Mostly, people just didn't realize they've introduced an new image, and even though, the test can still pass in most cases. This causes issues like https://github.com/kubernetes/kubernetes/issues/28868.\n\nTo avoid this, we should add an image white list. Only images in the white list could be used in the test.\nBecause all pods should be created via [`CreatePod`](https://github.com/Random-Liu/kubernetes/blob/e40e82bd5c724675c26ca03a631171ecf6305cac/test/e2e/framework/pods.go#L46) in the future, we can do some check in it to make sure all images are in the whitelist.\n\nIf we can make sure that all images are successfully pulled before test, we can even set the `ImagePullPolicy` to `Never` for all pods.\n\nThis could be easily achieved in node e2e test framework, because we already have a similar white list in the test infrastructure.\n\nHowever, for regular e2e, the image list is hard coded in the [spec of static pod `e2e-image-puller`](https://github.com/kubernetes/kubernetes/blob/master/cluster/saltbase/salt/e2e-image-puller/e2e-image-puller.manifest#L30). To achieve this, we need to change it to a `DaemonSet` and do some other walkaround. https://github.com/kubernetes/kubernetes/issues/26110\n\n@yujuhong \n/cc @kubernetes/sig-node \n",
  "closed_at": "2016-09-20T14:28:58Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29155/comments",
  "created_at": "2016-07-19T01:09:44Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29155/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/29155",
  "id": 166227071,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 381925990,
      "name": "area/node-e2e",
      "node_id": "MDU6TGFiZWwzODE5MjU5OTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/node-e2e"
    },
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 105152717,
      "name": "area/test",
      "node_id": "MDU6TGFiZWwxMDUxNTI3MTc=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/test"
    },
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 178071252,
      "name": "area/test-infra",
      "node_id": "MDU6TGFiZWwxNzgwNzEyNTI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/test-infra"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29155/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNjYyMjcwNzE=",
  "number": 29155,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "E2E & Node E2E: Add image white list",
  "updated_at": "2016-09-20T14:28:58Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/29155",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5821883?v=4",
    "events_url": "https://api.github.com/users/Random-Liu/events{/privacy}",
    "followers_url": "https://api.github.com/users/Random-Liu/followers",
    "following_url": "https://api.github.com/users/Random-Liu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Random-Liu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Random-Liu",
    "id": 5821883,
    "login": "Random-Liu",
    "node_id": "MDQ6VXNlcjU4MjE4ODM=",
    "organizations_url": "https://api.github.com/users/Random-Liu/orgs",
    "received_events_url": "https://api.github.com/users/Random-Liu/received_events",
    "repos_url": "https://api.github.com/users/Random-Liu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Random-Liu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Random-Liu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Random-Liu"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/10743879?v=4",
    "events_url": "https://api.github.com/users/wojtek-t/events{/privacy}",
    "followers_url": "https://api.github.com/users/wojtek-t/followers",
    "following_url": "https://api.github.com/users/wojtek-t/following{/other_user}",
    "gists_url": "https://api.github.com/users/wojtek-t/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wojtek-t",
    "id": 10743879,
    "login": "wojtek-t",
    "node_id": "MDQ6VXNlcjEwNzQzODc5",
    "organizations_url": "https://api.github.com/users/wojtek-t/orgs",
    "received_events_url": "https://api.github.com/users/wojtek-t/received_events",
    "repos_url": "https://api.github.com/users/wojtek-t/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wojtek-t/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wojtek-t/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wojtek-t"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/10743879?v=4",
      "events_url": "https://api.github.com/users/wojtek-t/events{/privacy}",
      "followers_url": "https://api.github.com/users/wojtek-t/followers",
      "following_url": "https://api.github.com/users/wojtek-t/following{/other_user}",
      "gists_url": "https://api.github.com/users/wojtek-t/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/wojtek-t",
      "id": 10743879,
      "login": "wojtek-t",
      "node_id": "MDQ6VXNlcjEwNzQzODc5",
      "organizations_url": "https://api.github.com/users/wojtek-t/orgs",
      "received_events_url": "https://api.github.com/users/wojtek-t/received_events",
      "repos_url": "https://api.github.com/users/wojtek-t/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/wojtek-t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wojtek-t/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/wojtek-t"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\nI have disconnected a node from network for a few minutes. After reconnecting, I keep receiving such error messages from kubelet on the node, even after 15 minutes in reconnected state:\r\n\r\n```\r\nMay 13 19:44:54 k8s-node04 kubelet[598]: I0513 19:44:54.043005     598 trace.go:116] Trace[1747581308]: \"Reflector ListAndWatch\" name:object-\"kube-system\"/\"default-token-h8dz9\" (started: 2020-05-13 19:44:14.938918643 +0000 UTC m=+81978.107654790) (total time: 39.10398118s):\r\nMay 13 19:44:54 k8s-node04 kubelet[598]: Trace[1747581308]: [39.10398118s] [39.10398118s] END\r\nMay 13 19:44:54 k8s-node04 kubelet[598]: E0513 19:44:54.043090     598 reflector.go:178] object-\"kube-system\"/\"default-token-h8dz9\": Failed to list *v1.Secret: Timeout: Too large resource version: 159128021, current: 159127032\r\nMay 13 19:45:16 k8s-node04 kubelet[598]: I0513 19:45:16.944515     598 trace.go:116] Trace[527369896]: \"Reflector ListAndWatch\" name:k8s.io/client-go/informers/factory.go:135 (started: 2020-05-13 19:44:37.84920601 +0000 UTC m=+82001.017941865) (total time: 39.095209656s):\r\nMay 13 19:45:16 k8s-node04 kubelet[598]: Trace[527369896]: [39.095209656s] [39.095209656s] END\r\nMay 13 19:45:16 k8s-node04 kubelet[598]: E0513 19:45:16.944595     598 reflector.go:178] k8s.io/client-go/informers/factory.go:135: Failed to list *v1beta1.RuntimeClass: Timeout: Too large resource version: 159128061, current: 159127066\r\nMay 13 19:45:23 k8s-node04 kubelet[598]: I0513 19:45:23.959866     598 trace.go:116] Trace[243135295]: \"Reflector ListAndWatch\" name:k8s.io/kubernetes/pkg/kubelet/kubelet.go:517 (started: 2020-05-13 19:44:44.860565979 +0000 UTC m=+82008.029301834) (total time: 39.099201281s):\r\nMay 13 19:45:23 k8s-node04 kubelet[598]: Trace[243135295]: [39.099201281s] [39.099201281s] END\r\nMay 13 19:45:23 k8s-node04 kubelet[598]: E0513 19:45:23.959947     598 reflector.go:178] k8s.io/kubernetes/pkg/kubelet/kubelet.go:517: Failed to list *v1.Service: Timeout: Too large resource version: 159128031, current: 159127042\r\nMay 13 19:45:32 k8s-node04 kubelet[598]: I0513 19:45:32.752744     598 trace.go:116] Trace[1950236492]: \"Reflector ListAndWatch\" name:k8s.io/client-go/informers/factory.go:135 (started: 2020-05-13 19:44:53.65385557 +0000 UTC m=+82016.822591425) (total time: 39.098776276s):\r\nMay 13 19:45:32 k8s-node04 kubelet[598]: Trace[1950236492]: [39.098776276s] [39.098776276s] END\r\nMay 13 19:45:32 k8s-node04 kubelet[598]: E0513 19:45:32.752831     598 reflector.go:178] k8s.io/client-go/informers/factory.go:135: Failed to list *v1.CSIDriver: Timeout: Too large resource version: 159128079, current: 159127090\r\nMay 13 19:45:35 k8s-node04 kubelet[598]: I0513 19:45:35.670924     598 trace.go:116] Trace[1207388769]: \"Reflector ListAndWatch\" name:object-\"kube-system\"/\"kube-router-token-4px26\" (started: 2020-05-13 19:44:56.566459557 +0000 UTC m=+82019.735195412) (total time: 39.104363817s):\r\nMay 13 19:45:35 k8s-node04 kubelet[598]: Trace[1207388769]: [39.104363817s] [39.104363817s] END\r\nMay 13 19:45:35 k8s-node04 kubelet[598]: E0513 19:45:35.671005     598 reflector.go:178] object-\"kube-system\"/\"kube-router-token-4px26\": Failed to list *v1.Secret: Timeout: Too large resource version: 159128021, current: 159127032\r\nMay 13 19:46:05 k8s-node04 kubelet[598]: I0513 19:46:05.472918     598 trace.go:116] Trace[308823067]: \"Reflector ListAndWatch\" name:object-\"kube-system\"/\"default-token-h8dz9\" (started: 2020-05-13 19:45:26.359131486 +0000 UTC m=+82049.527867341) (total time: 39.113684635s):\r\nMay 13 19:46:05 k8s-node04 kubelet[598]: Trace[308823067]: [39.113684635s] [39.113684635s] END\r\nMay 13 19:46:05 k8s-node04 kubelet[598]: E0513 19:46:05.473007     598 reflector.go:178] object-\"kube-system\"/\"default-token-h8dz9\": Failed to list *v1.Secret: Timeout: Too large resource version: 159128021, current: 159127032\r\n```\r\n\r\n\r\n**What you expected to happen**:\r\nI expect that after network recovery kubelet reconnects to the Apiserver as before, and after a recovery such timeouts do not occur.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\nJust have a node connected to the cluster. Then, disconnect it from the network for 3-4 minutes, then reconnect. Then observe kubelet's logs.\r\n\r\n**Anything else we need to know?**:\r\nI have strict tcp keepalive settings in place on master and worker nodes, but this should not be the cause.\r\n```\r\n# sysctl -a|grep net.ipv4|grep tcp_keep\r\nnet.ipv4.tcp_keepalive_intvl = 10\r\nnet.ipv4.tcp_keepalive_probes = 9\r\nnet.ipv4.tcp_keepalive_time = 600\r\n```\r\n\r\nRestarting kubelet solves the issue, the error messages disappear.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):\r\n```\r\n$ kubectl version\r\nClient Version: version.Info{Major:\"1\", Minor:\"18\", GitVersion:\"v1.18.2\", GitCommit:\"52c56ce7a8272c798dbc29846288d7cd9fbae032\", GitTreeState:\"clean\", BuildDate:\"2020-04-16T11:56:40Z\", GoVersion:\"go1.13.9\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"18\", GitVersion:\"v1.18.2\", GitCommit:\"52c56ce7a8272c798dbc29846288d7cd9fbae032\", GitTreeState:\"clean\", BuildDate:\"2020-04-16T11:48:36Z\", GoVersion:\"go1.13.9\", Compiler:\"gc\", Platform:\"linux/arm\"}\r\n```\r\n- Cloud provider or hardware configuration:\r\nbare metal\r\n- OS (e.g: `cat /etc/os-release`):\r\n```\r\n# cat /etc/os-release \r\nPRETTY_NAME=\"Debian GNU/Linux 10 (buster)\"\r\nNAME=\"Debian GNU/Linux\"\r\nVERSION_ID=\"10\"\r\nVERSION=\"10 (buster)\"\r\nVERSION_CODENAME=buster\r\nID=debian\r\nHOME_URL=\"https://www.debian.org/\"\r\nSUPPORT_URL=\"https://www.debian.org/support\"\r\nBUG_REPORT_URL=\"https://bugs.debian.org/\"\r\n```\r\n- Kernel (e.g. `uname -a`):\r\n```\r\n# uname -a\r\nLinux k8s-node04 5.4.40 #2 SMP Sun May 10 13:03:41 UTC 2020 aarch64 GNU/Linux\r\n```\r\n- Install tools:\r\nkubeadm\r\n- Network plugin and version (if this is a network-related bug):\r\nkube-router\r\n- Others:\r\n",
  "closed_at": "2020-07-27T19:48:19Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/10743879?v=4",
    "events_url": "https://api.github.com/users/wojtek-t/events{/privacy}",
    "followers_url": "https://api.github.com/users/wojtek-t/followers",
    "following_url": "https://api.github.com/users/wojtek-t/following{/other_user}",
    "gists_url": "https://api.github.com/users/wojtek-t/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wojtek-t",
    "id": 10743879,
    "login": "wojtek-t",
    "node_id": "MDQ6VXNlcjEwNzQzODc5",
    "organizations_url": "https://api.github.com/users/wojtek-t/orgs",
    "received_events_url": "https://api.github.com/users/wojtek-t/received_events",
    "repos_url": "https://api.github.com/users/wojtek-t/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wojtek-t/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wojtek-t/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wojtek-t"
  },
  "comments": 26,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91073/comments",
  "created_at": "2020-05-13T19:54:28Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91073/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/91073",
  "id": 617713553,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG API Machinery.",
      "id": 173493835,
      "name": "sig/api-machinery",
      "node_id": "MDU6TGFiZWwxNzM0OTM4MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/api-machinery"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91073/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU2MTc3MTM1NTM=",
  "number": 91073,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Kubelet gets \"Timeout: Too large resource version\" error from the API server after network outage",
  "updated_at": "2020-07-27T19:48:20Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/91073",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/3975013?v=4",
    "events_url": "https://api.github.com/users/rkojedzinszky/events{/privacy}",
    "followers_url": "https://api.github.com/users/rkojedzinszky/followers",
    "following_url": "https://api.github.com/users/rkojedzinszky/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkojedzinszky/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rkojedzinszky",
    "id": 3975013,
    "login": "rkojedzinszky",
    "node_id": "MDQ6VXNlcjM5NzUwMTM=",
    "organizations_url": "https://api.github.com/users/rkojedzinszky/orgs",
    "received_events_url": "https://api.github.com/users/rkojedzinszky/received_events",
    "repos_url": "https://api.github.com/users/rkojedzinszky/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rkojedzinszky/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkojedzinszky/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rkojedzinszky"
  }
}
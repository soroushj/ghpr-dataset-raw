{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**Which jobs are failing**:\r\npull-kubernetes-e2e-gce\r\n\r\n**Which test(s) are failing**:\r\n\r\n    [sig-network] Services should have session affinity work for NodePort service [LinuxOnly]\r\n    [sig-network] Services should be able to switch session affinity for service with type clusterIP [LinuxOnly]\r\n    [sig-network] Services should be able to switch session affinity for NodePort service [LinuxOnly]\r\n    [sig-network] Services should have session affinity work for service with type clusterIP [LinuxOnly]\r\n\r\n**Since when has it been failing**:\r\nAt least since 9/30 (https://prow.k8s.io/view/gcs/kubernetes-jenkins/pr-logs/directory/pull-kubernetes-e2e-gce/1178921594651676674). But that's almost at the end of what's currently visible on the testgrid, so maybe longer\r\n\r\n**Testgrid link**:\r\nNot sure what I'm supposed to put here. https://testgrid.k8s.io/presubmits-kubernetes-blocking#pull-kubernetes-e2e-gce ?\r\n\r\n**Reason for failure**:\r\nThe test case connects to a service every 2 seconds for 1 minute and checks if it hit the same endpoint at least 15 times in a row. But the individual checks are taking unexpectedly long and so sometimes the test doesn't even manage to run 15 times total in 1 minute. eg:\r\n\r\n    Oct  8 13:32:01.402: INFO: Running '/go/src/k8s.io/kubernetes/kubernetes/platforms/linux/amd64/kubectl --server=https://34.82.143.14 --kubeconfig=/workspace/.kube/config exec --namespace=services-1060 execpod-affinityklpfn -- /bin/sh -x -c curl -q -s --connect-timeout 2 http://10.40.0.5:31686/'\r\n    Oct  8 13:32:07.627: INFO: stderr: \"+ curl -q -s --connect-timeout 2 http://10.40.0.5:31686/\\n\"\r\n    Oct  8 13:32:07.627: INFO: stdout: \"affinity-nodeport-2z9hv\"\r\n    Oct  8 13:32:07.627: INFO: Received response from host: affinity-nodeport-2z9hv\r\n    Oct  8 13:32:09.402: INFO: Running '/go/src/k8s.io/kubernetes/kubernetes/platforms/linux/amd64/kubectl --server=https://34.82.143.14 --kubeconfig=/workspace/.kube/config exec --namespace=services-1060 execpod-affinityklpfn -- /bin/sh -x -c curl -q -s --connect-timeout 2 http://10.40.0.5:31686/'\r\n    Oct  8 13:32:16.027: INFO: stderr: \"+ curl -q -s --connect-timeout 2 http://10.40.0.5:31686/\\n\"\r\n    Oct  8 13:32:16.027: INFO: stdout: \"affinity-nodeport-2z9hv\"\r\n    Oct  8 13:32:16.027: INFO: Received response from host: affinity-nodeport-2z9hv\r\n\r\nNote the gap between the \"Running\" line and the \"stderr\" line. It's not clear if the slowness is in connecting to the execpod or in connecting from the execpod to the affinity service. It is also not particularly consistent between attempts. (Here it was 6s, 1s, 2s, 3s, 5s, 7s, 7s, 3s, 4s, 6s, 7s, 8s.)\r\n\r\n**Anything else we need to know**:\r\nIt looks the checks are also slow in successful runs, it's just that they're not *quite* as slow, so they pass.\r\n\r\nI'm not sure if the problem is \"something is making the cluster slow and so this totally valid test is taking too long and failing\" or \"e2e-gce has grown over time and now cluster load has reached the point where this formerly-passing test now has unreasonable performance expectations\".\r\n\r\n/sig network",
  "closed_at": "2019-10-28T18:59:01Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 0,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/83617/comments",
  "created_at": "2019-10-08T15:30:38Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/83617/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/83617",
  "id": 504117266,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a consistently or frequently failing test.",
      "id": 496752468,
      "name": "kind/failing-test",
      "node_id": "MDU6TGFiZWw0OTY3NTI0Njg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/failing-test"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Network.",
      "id": 116712108,
      "name": "sig/network",
      "node_id": "MDU6TGFiZWwxMTY3MTIxMDg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/network"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/83617/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU1MDQxMTcyNjY=",
  "number": 83617,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "session affinity tests flaking, possibly broken due to gradual e2e-gce slowdown?",
  "updated_at": "2019-10-28T18:59:01Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/83617",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/96040?v=4",
    "events_url": "https://api.github.com/users/danwinship/events{/privacy}",
    "followers_url": "https://api.github.com/users/danwinship/followers",
    "following_url": "https://api.github.com/users/danwinship/following{/other_user}",
    "gists_url": "https://api.github.com/users/danwinship/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/danwinship",
    "id": 96040,
    "login": "danwinship",
    "node_id": "MDQ6VXNlcjk2MDQw",
    "organizations_url": "https://api.github.com/users/danwinship/orgs",
    "received_events_url": "https://api.github.com/users/danwinship/received_events",
    "repos_url": "https://api.github.com/users/danwinship/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/danwinship/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danwinship/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/danwinship"
  }
}
{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/10743879?v=4",
    "events_url": "https://api.github.com/users/wojtek-t/events{/privacy}",
    "followers_url": "https://api.github.com/users/wojtek-t/followers",
    "following_url": "https://api.github.com/users/wojtek-t/following{/other_user}",
    "gists_url": "https://api.github.com/users/wojtek-t/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/wojtek-t",
    "id": 10743879,
    "login": "wojtek-t",
    "node_id": "MDQ6VXNlcjEwNzQzODc5",
    "organizations_url": "https://api.github.com/users/wojtek-t/orgs",
    "received_events_url": "https://api.github.com/users/wojtek-t/received_events",
    "repos_url": "https://api.github.com/users/wojtek-t/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/wojtek-t/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wojtek-t/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/wojtek-t"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/10743879?v=4",
      "events_url": "https://api.github.com/users/wojtek-t/events{/privacy}",
      "followers_url": "https://api.github.com/users/wojtek-t/followers",
      "following_url": "https://api.github.com/users/wojtek-t/following{/other_user}",
      "gists_url": "https://api.github.com/users/wojtek-t/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/wojtek-t",
      "id": 10743879,
      "login": "wojtek-t",
      "node_id": "MDQ6VXNlcjEwNzQzODc5",
      "organizations_url": "https://api.github.com/users/wojtek-t/orgs",
      "received_events_url": "https://api.github.com/users/wojtek-t/received_events",
      "repos_url": "https://api.github.com/users/wojtek-t/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/wojtek-t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wojtek-t/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/wojtek-t"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "A follow up of: https://github.com/kubernetes/kubernetes/issues/34772\r\n \r\nI have a node with:\r\n```\r\nName:\t\t\tgke-test-cluster-1-default-pool-2fef8206-jk88\r\nLabels:\t\t\tbeta.kubernetes.io/arch=amd64\r\n\t\t\tbeta.kubernetes.io/instance-type=custom-4-8192\r\n\t\t\tbeta.kubernetes.io/os=linux\r\n\t\t\tcloud.google.com/gke-nodepool=default-pool\r\n\t\t\tfailure-domain.beta.kubernetes.io/region=us-central1\r\n\t\t\tfailure-domain.beta.kubernetes.io/zone=us-central1-b\r\n\t\t\tkubernetes.io/hostname=gke-test-cluster-1-default-pool-2fef8206-jk88\r\nTaints:\t\t\t<none>\r\nCreationTimestamp:\tMon, 21 Nov 2016 18:44:36 +0100\r\nPhase:\t\t\t\r\nConditions:\r\n  Type\t\t\tStatus\tLastHeartbeatTime\t\t\tLastTransitionTime\t\t\tReason\t\t\t\tMessage\r\n  ----\t\t\t------\t-----------------\t\t\t------------------\t\t\t------\t\t\t\t-------\r\n  NetworkUnavailable \tFalse \tMon, 21 Nov 2016 19:48:38 +0100 \tMon, 21 Nov 2016 19:48:38 +0100 \tRouteCreated \t\t\tRouteController created a route\r\n  OutOfDisk \t\tFalse \tMon, 21 Nov 2016 19:48:37 +0100 \tMon, 21 Nov 2016 18:44:36 +0100 \tKubeletHasSufficientDisk \tkubelet has sufficient disk space available\r\n  MemoryPressure \tFalse \tMon, 21 Nov 2016 19:48:37 +0100 \tMon, 21 Nov 2016 18:44:36 +0100 \tKubeletHasSufficientMemory \tkubelet has sufficient memory available\r\n  DiskPressure \t\tFalse \tMon, 21 Nov 2016 19:48:37 +0100 \tMon, 21 Nov 2016 18:44:36 +0100 \tKubeletHasNoDiskPressure \tkubelet has no disk pressure\r\n  Ready \t\tTrue \tMon, 21 Nov 2016 19:48:37 +0100 \tMon, 21 Nov 2016 18:45:06 +0100 \tKubeletReady \t\t\tkubelet is posting ready status. AppArmor enabled\r\nAddresses:\t\t10.240.0.5,146.148.80.118\r\nCapacity:\r\n alpha.kubernetes.io/nvidia-gpu:\t0\r\n cpu:\t\t\t\t\t4\r\n memory:\t\t\t\t8168548Ki\r\n pods:\t\t\t\t\t110\r\nAllocatable:\r\n alpha.kubernetes.io/nvidia-gpu:\t0\r\n cpu:\t\t\t\t\t4\r\n memory:\t\t\t\t8168548Ki\r\n pods:\t\t\t\t\t110\r\nSystem Info:\r\n Machine ID:\t\t\t0251ec6b2c2821ef342fe6d15833325b\r\n System UUID:\t\t\t0B3867CF-4808-B8E4-C80C-37EF3ADF7373\r\n Boot ID:\t\t\tf986c6b3-0c82-48ce-82a7-2856d61b0be9\r\n Kernel Version:\t\t4.4.21+\r\n OS Image:\t\t\tGoogle Container-VM Image\r\n Operating System:\t\tlinux\r\n Architecture:\t\t\tamd64\r\n Container Runtime Version:\tdocker://1.11.2\r\n Kubelet Version:\t\tv1.4.6\r\n Kube-Proxy Version:\t\tv1.4.6\r\nPodCIDR:\t\t\t10.152.4.0/24\r\nExternalID:\t\t\t3039357858658290851\r\nNon-terminated Pods:\t\t(7 in total)\r\n  Namespace\t\t\tName\t\t\t\t\t\t\t\t\t\tCPU Requests\tCPU Limits\tMemory Requests\tMemory Limits\r\n  ---------\t\t\t----\t\t\t\t\t\t\t\t\t\t------------\t----------\t---------------\t-------------\r\n  default\t\t\tmy-app-2781155866-0fxn9\t\t\t\t\t\t\t\t550m (13%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\n  default\t\t\tmy-app-2781155866-4p8lv\t\t\t\t\t\t\t\t550m (13%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\n  default\t\t\tmy-app-2781155866-hph3k\t\t\t\t\t\t\t\t550m (13%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\n  default\t\t\tmy-app-2781155866-ulbjk\t\t\t\t\t\t\t\t550m (13%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\n  default\t\t\tmy-app-2781155866-vyp5w\t\t\t\t\t\t\t\t550m (13%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\n  kube-system\t\t\tfluentd-cloud-logging-gke-test-cluster-1-default-pool-2fef8206-jk88\t\t80m (2%)\t0 (0%)\t\t200Mi (2%)\t200Mi (2%)\r\n  kube-system\t\t\tkube-proxy-gke-test-cluster-1-default-pool-2fef8206-jk88\t\t\t100m (2%)\t0 (0%)\t\t0 (0%)\t\t0 (0%)\r\nAllocated resources:\r\n  (Total limits may be over 100 percent, i.e., overcommitted.\r\n  CPU Requests\tCPU Limits\tMemory Requests\tMemory Limits\r\n  ------------\t----------\t---------------\t-------------\r\n  2930m (73%)\t0 (0%)\t\t200Mi (2%)\t200Mi (2%)\r\n```\r\n\r\nOn the other hand\r\n```\r\nkubectl describe pod my-app-2781155866-8kr0g\r\nName:\t\tmy-app-2781155866-8kr0g\r\nNamespace:\tdefault\r\nNode:\t\tgke-test-cluster-1-default-pool-2fef8206-ae7w/\r\nStart Time:\tMon, 21 Nov 2016 19:04:26 +0100\r\nLabels:\t\tname=my-app\r\n\t\tpod-template-hash=2781155866\r\nStatus:\t\tFailed\r\nReason:\t\tOutOfcpu\r\nMessage:\tPod \r\nIP:\t\t\r\nControllers:\tReplicaSet/my-app-2781155866\r\nContainers:\r\n  my-app:\r\n    Image:\tubuntu:16.04\r\n    Port:\t8000/TCP\r\n    Command:\r\n      /bin/bash\r\n      -c\r\n    Args:\r\n      apt update; apt install stress; stress --cpu 1 --io 1 & sleep 999999\r\n    Requests:\r\n      cpu:\t550m\r\n    Volume Mounts:\r\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-5ora1 (ro)\r\n    Environment Variables:\t<none>\r\nVolumes:\r\n  default-token-5ora1:\r\n    Type:\tSecret (a volume populated by a Secret)\r\n    SecretName:\tdefault-token-5ora1\r\nQoS Class:\tBurstable\r\nTolerations:\t<none>\r\nEvents:\r\n  FirstSeen\tLastSeen\tCount\tFrom\t\t\tSubobjectPath\tType\t\tReason\t\t\tMessage\r\n  ---------\t--------\t-----\t----\t\t\t-------------\t--------\t------\t\t\t-------\r\n  1h\t\t57m\t\t7\t{default-scheduler }\t\t\tWarning\t\tFailedScheduling\tpod (my-app-2781155866-8kr0g) failed to fit in any node\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-ae7w): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-jk88): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-6j58): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9mys): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9gxe): Insufficient cpu\r\n\r\n  1h\t48m\t11\t{default-scheduler }\t\tWarning\tFailedScheduling\tpod (my-app-2781155866-8kr0g) failed to fit in any node\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-jk88): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-6j58): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9mys): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9gxe): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-ae7w): Insufficient cpu\r\n\r\n  1h\t47m\t8\t{default-scheduler }\t\tWarning\tFailedScheduling\tpod (my-app-2781155866-8kr0g) failed to fit in any node\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9mys): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9gxe): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-ae7w): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-jk88): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-6j58): Insufficient cpu\r\n\r\n  1h\t47m\t12\t{default-scheduler }\t\tWarning\tFailedScheduling\tpod (my-app-2781155866-8kr0g) failed to fit in any node\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9gxe): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-ae7w): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-jk88): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-6j58): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9mys): Insufficient cpu\r\n\r\n  1h\t47m\t19\t{default-scheduler }\t\tWarning\tFailedScheduling\tpod (my-app-2781155866-8kr0g) failed to fit in any node\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-6j58): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9mys): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-9gxe): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-ae7w): Insufficient cpu\r\nfit failure on node (gke-test-cluster-1-default-pool-2fef8206-jk88): Insufficient cpu\r\n\r\n  46m\t46m\t1\t{default-scheduler }\t\t\t\t\t\tNormal\tScheduled\tSuccessfully assigned my-app-2781155866-8kr0g to gke-test-cluster-1-default-pool-2fef8206-ae7w\r\n  46m\t46m\t1\t{kubelet gke-test-cluster-1-default-pool-2fef8206-ae7w}\t\tWarning\tOutOfcpu\r\n```\r\n\r\nThe pod should be able to schedule on the node but it fails for unknown reason.\r\n\r\nReseting the scheduler helps, another pod is scheduled on the node and the resource usage jumps from 2930 to 3480. So it seems that the bug is somewhere around caching or retries. \r\n\r\ncc: @wojtek-t @gmarek @davidopp  ",
  "closed_at": "2016-11-29T16:15:03Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 25,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/37232/comments",
  "created_at": "2016-11-21T19:25:41Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/37232/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/37232",
  "id": 190811823,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Highest priority. Must be actively worked on as someone's top priority right now.",
      "id": 114528068,
      "name": "priority/critical-urgent",
      "node_id": "MDU6TGFiZWwxMTQ1MjgwNjg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/critical-urgent"
    },
    {
      "color": "d93f0b",
      "default": false,
      "description": null,
      "id": 435667038,
      "name": "release-blocker",
      "node_id": "MDU6TGFiZWw0MzU2NjcwMzg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/release-blocker"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/37232/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2019-08-26T17:22:47Z",
    "closed_issues": 1412,
    "created_at": "2016-08-16T21:47:28Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/647318?v=4",
      "events_url": "https://api.github.com/users/lavalamp/events{/privacy}",
      "followers_url": "https://api.github.com/users/lavalamp/followers",
      "following_url": "https://api.github.com/users/lavalamp/following{/other_user}",
      "gists_url": "https://api.github.com/users/lavalamp/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lavalamp",
      "id": 647318,
      "login": "lavalamp",
      "node_id": "MDQ6VXNlcjY0NzMxOA==",
      "organizations_url": "https://api.github.com/users/lavalamp/orgs",
      "received_events_url": "https://api.github.com/users/lavalamp/received_events",
      "repos_url": "https://api.github.com/users/lavalamp/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lavalamp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lavalamp/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lavalamp"
    },
    "description": "",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/23",
    "id": 1945978,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/23/labels",
    "node_id": "MDk6TWlsZXN0b25lMTk0NTk3OA==",
    "number": 23,
    "open_issues": 0,
    "state": "closed",
    "title": "v1.5",
    "updated_at": "2019-08-26T17:22:47Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/23"
  },
  "node_id": "MDU6SXNzdWUxOTA4MTE4MjM=",
  "number": 37232,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Kubernetes scheduler fails to schedule pods on nodes with enough resources.",
  "updated_at": "2019-02-20T20:42:35Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/37232",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/11994812?v=4",
    "events_url": "https://api.github.com/users/mwielgus/events{/privacy}",
    "followers_url": "https://api.github.com/users/mwielgus/followers",
    "following_url": "https://api.github.com/users/mwielgus/following{/other_user}",
    "gists_url": "https://api.github.com/users/mwielgus/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mwielgus",
    "id": 11994812,
    "login": "mwielgus",
    "node_id": "MDQ6VXNlcjExOTk0ODEy",
    "organizations_url": "https://api.github.com/users/mwielgus/orgs",
    "received_events_url": "https://api.github.com/users/mwielgus/received_events",
    "repos_url": "https://api.github.com/users/mwielgus/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mwielgus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mwielgus/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mwielgus"
  }
}
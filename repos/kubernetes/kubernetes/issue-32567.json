{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "MEMBER",
  "body": "Recreate Deployments require that we always run at most one instance of user pods at a time. Currently, we can get into a situation, due to volume attach/detach, where old pods are stuck in Terminating phase (pod.DeletionTimestamp != nil) while the deployment controller is trying to scale up new pods because it thinks old pods are gone. The replica set controller currently filters out Terminating pods and includes only active pods in the replica set status. I am proposing a new rs.Status.TerminatingReplicas that will show all the terminating pods for a replica set. Then the deployment controller can wait until all status fields for a replica set including TerminatingReplicas are down to zero before it starts scaling up.\n\ncc: @kubernetes/api-review-team @kubernetes/sig-apps @kubernetes/deployment \n",
  "closed_at": "2016-11-29T15:54:18Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/3900799?v=4",
    "events_url": "https://api.github.com/users/kargakis/events{/privacy}",
    "followers_url": "https://api.github.com/users/kargakis/followers",
    "following_url": "https://api.github.com/users/kargakis/following{/other_user}",
    "gists_url": "https://api.github.com/users/kargakis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kargakis",
    "id": 3900799,
    "login": "kargakis",
    "node_id": "MDQ6VXNlcjM5MDA3OTk=",
    "organizations_url": "https://api.github.com/users/kargakis/orgs",
    "received_events_url": "https://api.github.com/users/kargakis/received_events",
    "repos_url": "https://api.github.com/users/kargakis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kargakis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kargakis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kargakis"
  },
  "comments": 20,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/32567/comments",
  "created_at": "2016-09-13T11:05:13Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/32567/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/32567",
  "id": 176611622,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 136601472,
      "name": "area/controller-manager",
      "node_id": "MDU6TGFiZWwxMzY2MDE0NzI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/controller-manager"
    },
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 353400216,
      "name": "area/stateful-apps",
      "node_id": "MDU6TGFiZWwzNTM0MDAyMTY=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/stateful-apps"
    },
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 483066283,
      "name": "area/workload-api/replicaset",
      "node_id": "MDU6TGFiZWw0ODMwNjYyODM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/workload-api/replicaset"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to adding, removing, or otherwise changing an API",
      "id": 261005360,
      "name": "kind/api-change",
      "node_id": "MDU6TGFiZWwyNjEwMDUzNjA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/api-change"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Apps.",
      "id": 404091735,
      "name": "sig/apps",
      "node_id": "MDU6TGFiZWw0MDQwOTE3MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/apps"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/32567/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNzY2MTE2MjI=",
  "number": 32567,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "TerminatingReplicas status field for replica sets",
  "updated_at": "2016-11-29T15:54:18Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/32567",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/3900799?v=4",
    "events_url": "https://api.github.com/users/kargakis/events{/privacy}",
    "followers_url": "https://api.github.com/users/kargakis/followers",
    "following_url": "https://api.github.com/users/kargakis/following{/other_user}",
    "gists_url": "https://api.github.com/users/kargakis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/kargakis",
    "id": 3900799,
    "login": "kargakis",
    "node_id": "MDQ6VXNlcjM5MDA3OTk=",
    "organizations_url": "https://api.github.com/users/kargakis/orgs",
    "received_events_url": "https://api.github.com/users/kargakis/received_events",
    "repos_url": "https://api.github.com/users/kargakis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/kargakis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kargakis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/kargakis"
  }
}
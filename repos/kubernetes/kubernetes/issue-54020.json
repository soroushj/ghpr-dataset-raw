{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/23304?v=4",
    "events_url": "https://api.github.com/users/dims/events{/privacy}",
    "followers_url": "https://api.github.com/users/dims/followers",
    "following_url": "https://api.github.com/users/dims/following{/other_user}",
    "gists_url": "https://api.github.com/users/dims/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/dims",
    "id": 23304,
    "login": "dims",
    "node_id": "MDQ6VXNlcjIzMzA0",
    "organizations_url": "https://api.github.com/users/dims/orgs",
    "received_events_url": "https://api.github.com/users/dims/received_events",
    "repos_url": "https://api.github.com/users/dims/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/dims/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dims/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/dims"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/23304?v=4",
      "events_url": "https://api.github.com/users/dims/events{/privacy}",
      "followers_url": "https://api.github.com/users/dims/followers",
      "following_url": "https://api.github.com/users/dims/following{/other_user}",
      "gists_url": "https://api.github.com/users/dims/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dims",
      "id": 23304,
      "login": "dims",
      "node_id": "MDQ6VXNlcjIzMzA0",
      "organizations_url": "https://api.github.com/users/dims/orgs",
      "received_events_url": "https://api.github.com/users/dims/received_events",
      "repos_url": "https://api.github.com/users/dims/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dims/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dims/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dims"
    }
  ],
  "author_association": "MEMBER",
  "body": "xref: #49484, #51375 \r\nThe `k8s.io/kubernetes/plugin/pkg/admission/webhook` package is failing tests and doesn't seem to work as expected when run under go1.9. It throws some x509 certificate errors. However, the same tests run successfully under go1.8.\r\n\r\ngo1.8 successful output:\r\n```\r\n$ go test -v ./plugin/pkg/admission/webhook\r\n=== RUN   TestAdmit\r\ngot req: /allow\r\ngot req: /disallow\r\ngot req: /disallowReason\r\ngot req: /internalErr\r\nE1016 15:30:57.032550   19814 admission.go:199] failed calling admission webhook \"internalErr C\": an error on the server (\"webhook internal server error\") has prevented the request from succeeding\r\ngot req: /internalErr\r\nE1016 15:30:57.035062   19814 admission.go:199] failed calling admission webhook \"internalErr A\": an error on the server (\"webhook internal server error\") has prevented the request from succeeding\r\ngot req: /internalErr\r\nE1016 15:30:57.037306   19814 admission.go:199] failed calling admission webhook \"internalErr B\": an error on the server (\"webhook internal server error\") has prevented the request from succeeding\r\n--- PASS: TestAdmit (0.07s)\r\n=== RUN   TestGroup\r\n--- PASS: TestGroup (0.00s)\r\n=== RUN   TestVersion\r\n--- PASS: TestVersion (0.00s)\r\n=== RUN   TestOperation\r\n--- PASS: TestOperation (0.00s)\r\n=== RUN   TestResource\r\n--- PASS: TestResource (0.00s)\r\n=== RUN   TestDefaultServiceResolver\r\n=== RUN   TestDefaultServiceResolver/scenario_0\r\n=== RUN   TestDefaultServiceResolver/scenario_1\r\n=== RUN   TestDefaultServiceResolver/scenario_2\r\n--- PASS: TestDefaultServiceResolver (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_0 (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_1 (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_2 (0.00s)\r\nPASS\r\nok      k8s.io/kubernetes/plugin/pkg/admission/webhook  0.148s\r\n```\r\n\r\ngo1.9 failing output:\r\n```\r\n$ go test -v ./plugin/pkg/admission/webhook\r\n=== RUN   TestAdmit\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62299: remote error: tls: bad certificate\r\nE1016 15:11:08.664921   90108 admission.go:199] failed calling admission webhook \"disallowReason\": Post https://127.0.0.1:62298/disallowReason: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62302: remote error: tls: bad certificate\r\nE1016 15:11:08.670346   90108 admission.go:199] failed calling admission webhook \"internalErr C\": Post https://127.0.0.1:62298/internalErr: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62300: remote error: tls: bad certificate\r\nE1016 15:11:08.670615   90108 admission.go:199] failed calling admission webhook \"internalErr B\": Post https://127.0.0.1:62298/internalErr: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62301: remote error: tls: bad certificate\r\nE1016 15:11:08.670893   90108 admission.go:199] failed calling admission webhook \"internalErr A\": Post https://127.0.0.1:62298/internalErr: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62303: remote error: tls: bad certificate\r\nE1016 15:11:08.676384   90108 admission.go:199] failed calling admission webhook \"allow\": Post https://127.0.0.1:62298/allow: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n2017/10/16 15:11:08 http: TLS handshake error from 127.0.0.1:62304: remote error: tls: bad certificate\r\nE1016 15:11:08.679835   90108 admission.go:199] failed calling admission webhook \"disallow\": Post https://127.0.0.1:62298/disallow: x509: certificate is not valid for any names, but wanted to match webhook-test.default.svc\r\n--- FAIL: TestAdmit (0.02s)\r\n        admission_test.go:221: \"match & disallow ii\": expected allowed=false, but got err=<nil>\r\n        admission_test.go:226: \"match & disallow ii\": expected an error saying \"you shall not pass\", but got <nil>\r\n        admission_test.go:221: \"match & disallow\": expected allowed=false, but got err=<nil>\r\n        admission_test.go:226: \"match & disallow\": expected an error saying \"without explanation\", but got <nil>\r\n=== RUN   TestGroup\r\n--- PASS: TestGroup (0.00s)\r\n=== RUN   TestVersion\r\n--- PASS: TestVersion (0.00s)\r\n=== RUN   TestOperation\r\n--- PASS: TestOperation (0.00s)\r\n=== RUN   TestResource\r\n--- PASS: TestResource (0.00s)\r\n=== RUN   TestDefaultServiceResolver\r\n=== RUN   TestDefaultServiceResolver/scenario_0\r\n=== RUN   TestDefaultServiceResolver/scenario_1\r\n=== RUN   TestDefaultServiceResolver/scenario_2\r\n--- PASS: TestDefaultServiceResolver (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_0 (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_1 (0.00s)\r\n    --- PASS: TestDefaultServiceResolver/scenario_2 (0.00s)\r\nFAIL\r\nexit status 1\r\nFAIL    k8s.io/kubernetes/plugin/pkg/admission/webhook  0.117s\r\n```\r\n\r\n---\r\n@kubernetes/sig-node-bugs @derekwaynecarr \r\n/priority important-soon",
  "closed_at": "2017-10-18T04:26:00Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/54020/comments",
  "created_at": "2017-10-16T22:36:30Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/54020/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/54020",
  "id": 265937647,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 486445796,
      "name": "area/admission-control",
      "node_id": "MDU6TGFiZWw0ODY0NDU3OTY=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/admission-control"
    },
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/54020/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNjU5Mzc2NDc=",
  "number": 54020,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "admission webhook test failure in go1.9",
  "updated_at": "2017-10-26T17:12:56Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/54020",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/1431969?v=4",
    "events_url": "https://api.github.com/users/cblecker/events{/privacy}",
    "followers_url": "https://api.github.com/users/cblecker/followers",
    "following_url": "https://api.github.com/users/cblecker/following{/other_user}",
    "gists_url": "https://api.github.com/users/cblecker/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/cblecker",
    "id": 1431969,
    "login": "cblecker",
    "node_id": "MDQ6VXNlcjE0MzE5Njk=",
    "organizations_url": "https://api.github.com/users/cblecker/orgs",
    "received_events_url": "https://api.github.com/users/cblecker/received_events",
    "repos_url": "https://api.github.com/users/cblecker/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/cblecker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cblecker/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/cblecker"
  }
}
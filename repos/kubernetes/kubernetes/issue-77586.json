{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/837034?v=4",
    "events_url": "https://api.github.com/users/bowei/events{/privacy}",
    "followers_url": "https://api.github.com/users/bowei/followers",
    "following_url": "https://api.github.com/users/bowei/following{/other_user}",
    "gists_url": "https://api.github.com/users/bowei/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bowei",
    "id": 837034,
    "login": "bowei",
    "node_id": "MDQ6VXNlcjgzNzAzNA==",
    "organizations_url": "https://api.github.com/users/bowei/orgs",
    "received_events_url": "https://api.github.com/users/bowei/received_events",
    "repos_url": "https://api.github.com/users/bowei/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bowei/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bowei/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bowei"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/837034?v=4",
      "events_url": "https://api.github.com/users/bowei/events{/privacy}",
      "followers_url": "https://api.github.com/users/bowei/followers",
      "following_url": "https://api.github.com/users/bowei/following{/other_user}",
      "gists_url": "https://api.github.com/users/bowei/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bowei",
      "id": 837034,
      "login": "bowei",
      "node_id": "MDQ6VXNlcjgzNzAzNA==",
      "organizations_url": "https://api.github.com/users/bowei/orgs",
      "received_events_url": "https://api.github.com/users/bowei/received_events",
      "repos_url": "https://api.github.com/users/bowei/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bowei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bowei/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bowei"
    },
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/10716925?v=4",
      "events_url": "https://api.github.com/users/vllry/events{/privacy}",
      "followers_url": "https://api.github.com/users/vllry/followers",
      "following_url": "https://api.github.com/users/vllry/following{/other_user}",
      "gists_url": "https://api.github.com/users/vllry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vllry",
      "id": 10716925,
      "login": "vllry",
      "node_id": "MDQ6VXNlcjEwNzE2OTI1",
      "organizations_url": "https://api.github.com/users/vllry/orgs",
      "received_events_url": "https://api.github.com/users/vllry/received_events",
      "repos_url": "https://api.github.com/users/vllry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vllry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vllry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vllry"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "Hello @justinsb , I have saw the commit `c741b8f3ae8d68a22d556b509979fa4e1a5fa7f7`, can we check the `TargetPort` for enqueue to serivce cotnroller work queue?  \r\n\r\nbasecause of, In many case for Public Cloud, We always abstract a set for health checks\r\n, such as TargetGroup in AWS, instanceGroup in aliyun. We can map `targetPort` to such a collection of instance.\r\n\r\nIf the service controller to check the targetgroup changes, the traffic pass-through pod is easier to implement.\r\n\r\nIn most cases, the instance that in same group has an associated port for external services, and service controller set a target port if which not set in service yaml file.\r\n\r\nOn the other hand\uff0cWe only lose some other performance of service controller.\r\n\r\nand Implementing targetgroup mapping to targetport depends on the cloud provider.\r\n\r\nWhat do you think?\r\n\r\n```diff\r\n+func portEqualForLB(x, y *api.ServicePort) bool {\r\n+       // TODO: Should we check name?  (In theory, an LB could expose it)\r\n+       if x.Name != y.Name {\r\n+               return false\r\n+       }\r\n+\r\n+       if x.Protocol != y.Protocol {\r\n+               return false\r\n+       }\r\n+\r\n+       if x.Port != y.Port {\r\n+               return false\r\n+       }\r\n+\r\n+       if x.NodePort != y.NodePort {\r\n+               return false\r\n+       }\r\n+\r\n+       // We don't check TargetPort; that is not relevant for load balancing\r\n+       // TODO: Should we blank it out?  Or just check it anyway?\r\n+\r\n+       return true\r\n }\r\n```\r\n\r\n```diff\r\n        }\r\n \r\n+\tif !reflect.DeepEqual(x.TargetPort, y.TargetPort) {\r\n+\t\treturn false\r\n+\t}\r\n        // We don't check TargetPort; that is not relevant for load balancing\r\n        // TODO: Should we blank it out?  Or just check it anyway?\r\n```\r\n\r\n/sig cloud-provider\r\n/sig network\r\n",
  "closed_at": "2019-06-22T01:52:13Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 1,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/77586/comments",
  "created_at": "2019-05-08T08:56:22Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/77586/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/77586",
  "id": 441624674,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d455d0",
      "default": false,
      "description": "Categorizes issue or PR as a support question.",
      "id": 130318610,
      "name": "kind/support",
      "node_id": "MDU6TGFiZWwxMzAzMTg2MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/support"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Cloud Provider.",
      "id": 958178286,
      "name": "sig/cloud-provider",
      "node_id": "MDU6TGFiZWw5NTgxNzgyODY=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cloud-provider"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Network.",
      "id": 116712108,
      "name": "sig/network",
      "node_id": "MDU6TGFiZWwxMTY3MTIxMDg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/network"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/77586/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0NDE2MjQ2NzQ=",
  "number": 77586,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "if update the TargetPort can I set the item into service controller work enqueue ?",
  "updated_at": "2019-06-22T01:52:13Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/77586",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/2706161?v=4",
    "events_url": "https://api.github.com/users/Sn0rt/events{/privacy}",
    "followers_url": "https://api.github.com/users/Sn0rt/followers",
    "following_url": "https://api.github.com/users/Sn0rt/following{/other_user}",
    "gists_url": "https://api.github.com/users/Sn0rt/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Sn0rt",
    "id": 2706161,
    "login": "Sn0rt",
    "node_id": "MDQ6VXNlcjI3MDYxNjE=",
    "organizations_url": "https://api.github.com/users/Sn0rt/orgs",
    "received_events_url": "https://api.github.com/users/Sn0rt/received_events",
    "repos_url": "https://api.github.com/users/Sn0rt/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Sn0rt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Sn0rt/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Sn0rt"
  }
}
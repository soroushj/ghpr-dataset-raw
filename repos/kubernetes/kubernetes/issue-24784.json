{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "I pull the latest master code, and run `./hack/test-go.sh` on ubuntu 14.04, however it failed, and the error I observed is:\n\n``` console\n$ ./hack/test-go.sh\n...\nI0426 00:38:43.902969    1459 image_manager.go:282] [ImageManager]: Removing image \"image-0\" to free 1024 bytes\nI0426 00:38:43.903046    1459 image_manager.go:282] [ImageManager]: Removing image \"image-1\" to free 2048 bytes\n--- FAIL: TestFreeSpaceImagesInUseContainersAreIgnored (0.00s)\n        Error Trace:    image_manager_test.go:237\n    Error:      Not equal: 1024 (expected)\n                    != 3072 (actual)\n\n        Error Trace:    image_manager_test.go:238\n    Error:      \"[]\" should have 1 item(s), but has 0\n...\n```\n\nThe test case is:\n\n``` go\nfunc TestFreeSpaceImagesInUseContainersAreIgnored(t *testing.T) {\n    manager, fakeRuntime, _ := newRealImageManager(ImageGCPolicy{})\n    fakeRuntime.ImageList = []container.Image{\n        makeImage(0, 1024),\n        makeImage(1, 2048),\n    }\n    fakeRuntime.AllPodList = []*container.Pod{\n        {\n            Containers: []*container.Container{\n                makeContainer(1),\n            },\n        },\n    }\n\n    spaceFreed, err := manager.freeSpace(2048, time.Now())\n    assert := assert.New(t)\n    require.NoError(t, err)\n    assert.EqualValues(1024, spaceFreed)\n    assert.Len(fakeRuntime.ImageList, 1)\n}\n```\n\nAccording to the logs, when it tries to free 2048 bytes space,  `image-0` and `image-1` get both removed, while only `image-0` is expected.\n\n/cc @yujuhong @feiskyer @vmarmol \n",
  "closed_at": "2016-05-06T21:10:43Z",
  "closed_by": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/7751204?v=4",
    "events_url": "https://api.github.com/users/roberthbailey/events{/privacy}",
    "followers_url": "https://api.github.com/users/roberthbailey/followers",
    "following_url": "https://api.github.com/users/roberthbailey/following{/other_user}",
    "gists_url": "https://api.github.com/users/roberthbailey/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/roberthbailey",
    "id": 7751204,
    "login": "roberthbailey",
    "node_id": "MDQ6VXNlcjc3NTEyMDQ=",
    "organizations_url": "https://api.github.com/users/roberthbailey/orgs",
    "received_events_url": "https://api.github.com/users/roberthbailey/received_events",
    "repos_url": "https://api.github.com/users/roberthbailey/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/roberthbailey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/roberthbailey/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/roberthbailey"
  },
  "comments": 8,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24784/comments",
  "created_at": "2016-04-26T08:00:53Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24784/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/24784",
  "id": 151068801,
  "labels": [
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24784/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNTEwNjg4MDE=",
  "number": 24784,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "flake: TestFreeSpaceImagesInUseContainersAreIgnored failed",
  "updated_at": "2016-05-06T21:10:43Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/24784",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/4516999?v=4",
    "events_url": "https://api.github.com/users/zhouhaibing089/events{/privacy}",
    "followers_url": "https://api.github.com/users/zhouhaibing089/followers",
    "following_url": "https://api.github.com/users/zhouhaibing089/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhouhaibing089/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/zhouhaibing089",
    "id": 4516999,
    "login": "zhouhaibing089",
    "node_id": "MDQ6VXNlcjQ1MTY5OTk=",
    "organizations_url": "https://api.github.com/users/zhouhaibing089/orgs",
    "received_events_url": "https://api.github.com/users/zhouhaibing089/received_events",
    "repos_url": "https://api.github.com/users/zhouhaibing089/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/zhouhaibing089/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhouhaibing089/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/zhouhaibing089"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "**What would you like to be added**:\r\nThe function `WaitForNamedAuthorizationUpdate` in `test/e2e/framework/auth/helpers.go` should check for GKE and allow a missing SubjectAccessReview endpoint. If we get a 404 on another provider an error should still be returned.\r\n\r\nGKE doesn't enable the SAR endpoint.  Without this endpoint, we cannot determine if the policy engine has adjusted as expected.  In this case, we currently wait one second and hope it's up to date without returning an error and that it has adjusted as expected.\r\n\r\n**Why is this needed**:\r\nA 404 on that endpoint is not expected behavior for any provider other than GKE so it doesn't make any sense to implicitly allow 404s and *hope* that everything is ok. If it is a special, allowable, condition for GKE we should make that explicit in the code.\r\n\r\nThe problem with doing it now is that checking the provider requires access to the TestContext which forces us to import the entire `test/e2e/framework` package. This goes against the goal of #76206 \r\n\r\nAt the same time, we don't want to cause every test/caller of this to have to (1) know that GKE acts differently in this situation and code that one special path. This may be the lesser of the evils though, but regardless of how it is accomplished, at some point, the code should be validating this flow.\r\n\r\nOpen to other solutions to this; maybe a specific test to test this code path (in which case this helper can be assumed to not be responsible for it?) Not sure if that is considered sufficient as it creates an awkward coupling between a helper function's assumptions and the existence of particular test.",
  "closed_at": "2019-05-20T20:21:14Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/20407524?v=4",
    "events_url": "https://api.github.com/users/k8s-ci-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-ci-robot/followers",
    "following_url": "https://api.github.com/users/k8s-ci-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-ci-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-ci-robot",
    "id": 20407524,
    "login": "k8s-ci-robot",
    "node_id": "MDQ6VXNlcjIwNDA3NTI0",
    "organizations_url": "https://api.github.com/users/k8s-ci-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-ci-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-ci-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-ci-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-ci-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-ci-robot"
  },
  "comments": 3,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/76726/comments",
  "created_at": "2019-04-17T17:17:11Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/76726/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/76726",
  "id": 434396131,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 105152717,
      "name": "area/test",
      "node_id": "MDU6TGFiZWwxMDUxNTI3MTc=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/test"
    },
    {
      "color": "c7def8",
      "default": false,
      "description": "Categorizes issue or PR as related to a new feature.",
      "id": 267761362,
      "name": "kind/feature",
      "node_id": "MDU6TGFiZWwyNjc3NjEzNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/feature"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Testing.",
      "id": 483069764,
      "name": "sig/testing",
      "node_id": "MDU6TGFiZWw0ODMwNjk3NjQ=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/testing"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/76726/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MzQzOTYxMzE=",
  "number": 76726,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "SubjectAccessReview endpoint should exist for providers other than GKE explicitly",
  "updated_at": "2019-05-20T20:21:14Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/76726",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/10273533?v=4",
    "events_url": "https://api.github.com/users/johnSchnake/events{/privacy}",
    "followers_url": "https://api.github.com/users/johnSchnake/followers",
    "following_url": "https://api.github.com/users/johnSchnake/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnSchnake/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/johnSchnake",
    "id": 10273533,
    "login": "johnSchnake",
    "node_id": "MDQ6VXNlcjEwMjczNTMz",
    "organizations_url": "https://api.github.com/users/johnSchnake/orgs",
    "received_events_url": "https://api.github.com/users/johnSchnake/received_events",
    "repos_url": "https://api.github.com/users/johnSchnake/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/johnSchnake/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnSchnake/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/johnSchnake"
  }
}
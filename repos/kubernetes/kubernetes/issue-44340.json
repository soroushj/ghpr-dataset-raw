{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/5821883?v=4",
    "events_url": "https://api.github.com/users/Random-Liu/events{/privacy}",
    "followers_url": "https://api.github.com/users/Random-Liu/followers",
    "following_url": "https://api.github.com/users/Random-Liu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Random-Liu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/Random-Liu",
    "id": 5821883,
    "login": "Random-Liu",
    "node_id": "MDQ6VXNlcjU4MjE4ODM=",
    "organizations_url": "https://api.github.com/users/Random-Liu/orgs",
    "received_events_url": "https://api.github.com/users/Random-Liu/received_events",
    "repos_url": "https://api.github.com/users/Random-Liu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/Random-Liu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Random-Liu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/Random-Liu"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars3.githubusercontent.com/u/5821883?v=4",
      "events_url": "https://api.github.com/users/Random-Liu/events{/privacy}",
      "followers_url": "https://api.github.com/users/Random-Liu/followers",
      "following_url": "https://api.github.com/users/Random-Liu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Random-Liu/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Random-Liu",
      "id": 5821883,
      "login": "Random-Liu",
      "node_id": "MDQ6VXNlcjU4MjE4ODM=",
      "organizations_url": "https://api.github.com/users/Random-Liu/orgs",
      "received_events_url": "https://api.github.com/users/Random-Liu/received_events",
      "repos_url": "https://api.github.com/users/Random-Liu/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Random-Liu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Random-Liu/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Random-Liu"
    }
  ],
  "author_association": "NONE",
  "body": "\r\n**BUG REPORT**\r\n\r\nIn order to tail logs from pods generated by a job until completion I run the following command:\r\n\r\n`kubectl logs podname -f`\r\n\r\nThis automatically stopped tailing when the pod stopped. Since upgrading our GKE server this hangs indefinitely. It's something on the cluster side, because using the same 1.6.0 version of kubectl against a 1.5.6 GKE cluster stops as soon as the job is done.\r\n\r\n**Kubernetes version**\r\n\r\n```\r\nClient Version: version.Info{Major:\"1\", Minor:\"6\", GitVersion:\"v1.6.0\", GitCommit:\"fff5156092b56e6bd60fff75aad4dc9de6b6ef37\", GitTreeState:\"clean\", BuildDate:\"2017-03-28T16:36:33Z\", GoVersion:\"go1.7.5\r\n\", Compiler:\"gc\", Platform:\"windows/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"6\", GitVersion:\"v1.6.0\", GitCommit:\"fff5156092b56e6bd60fff75aad4dc9de6b6ef37\", GitTreeState:\"clean\", BuildDate:\"2017-03-28T16:24:30Z\", GoVersion:\"go1.7.5\r\n\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n\r\n**Environment:**\r\n\r\n```\r\nclusterIpv4Cidr: 10.248.0.0/14\r\ncreateTime: '2016-11-14T19:26:49+00:00'\r\ncurrentMasterVersion: 1.6.0\r\ncurrentNodeCount: 14\r\ncurrentNodeVersion: 1.6.0\r\nendpoint: **REDACTED**\r\ninitialClusterVersion: 1.4.5\r\ninstanceGroupUrls:\r\n- **REDACTED**\r\nlocations:\r\n- europe-west1-c\r\nloggingService: logging.googleapis.com\r\nmasterAuth:\r\n  clientCertificate: **REDACTED**\r\n  clientKey: **REDACTED**\r\n  clusterCaCertificate: **REDACTED**\r\n  password: **REDACTED**\r\n  username: **REDACTED**\r\nmonitoringService: monitoring.googleapis.com\r\nname: development-europe-west1-c\r\nnetwork: development\r\nnodeConfig:\r\n  diskSizeGb: 250\r\n  imageType: COS\r\n  machineType: n1-highmem-8\r\n  oauthScopes:\r\n  - https://www.googleapis.com/auth/compute\r\n  - https://www.googleapis.com/auth/devstorage.read_only\r\n  - https://www.googleapis.com/auth/service.management\r\n  - https://www.googleapis.com/auth/servicecontrol\r\n  - https://www.googleapis.com/auth/logging.write\r\n  - https://www.googleapis.com/auth/monitoring\r\n  serviceAccount: default\r\nnodeIpv4CidrSize: 24\r\n```\r\n\r\n**What happened**:\r\n\r\n`kubectl logs podname -f` keeps blocking even after the pod has stopped. For tailing a job from a build pipeline this is particularly inconvenient.\r\n\r\n**What you expected to happen**:\r\n\r\nThe command to finish as soon as the pod terminates.\r\n\r\n**How to reproduce it** (as minimally and precisely as possible):\r\n\r\n- start a job in a GKE 1.6.0 cluster that runs long enough to tail the pod\r\n- find the pod belonging to the job\r\n- run `kubectl logs -f <pod name>`\r\n- wait or the pod to stop and verify the kubectl command still blocks",
  "closed_at": "2017-04-14T02:10:28Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/44340/comments",
  "created_at": "2017-04-11T15:34:58Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/44340/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/44340",
  "id": 220992663,
  "labels": [
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Node.",
      "id": 173493665,
      "name": "sig/node",
      "node_id": "MDU6TGFiZWwxNzM0OTM2NjU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/node"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/44340/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": null,
    "closed_issues": 587,
    "created_at": "2016-01-16T17:58:20Z",
    "creator": {
      "avatar_url": "https://avatars1.githubusercontent.com/u/7725777?v=4",
      "events_url": "https://api.github.com/users/bgrant0607/events{/privacy}",
      "followers_url": "https://api.github.com/users/bgrant0607/followers",
      "following_url": "https://api.github.com/users/bgrant0607/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgrant0607/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bgrant0607",
      "id": 7725777,
      "login": "bgrant0607",
      "node_id": "MDQ6VXNlcjc3MjU3Nzc=",
      "organizations_url": "https://api.github.com/users/bgrant0607/orgs",
      "received_events_url": "https://api.github.com/users/bgrant0607/received_events",
      "repos_url": "https://api.github.com/users/bgrant0607/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bgrant0607/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgrant0607/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bgrant0607"
    },
    "description": "Candidates for the next milestone",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/17",
    "id": 1510379,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/17/labels",
    "node_id": "MDk6TWlsZXN0b25lMTUxMDM3OQ==",
    "number": 17,
    "open_issues": 34,
    "state": "open",
    "title": "next-candidate",
    "updated_at": "2020-08-28T02:07:27Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/17"
  },
  "node_id": "MDU6SXNzdWUyMjA5OTI2NjM=",
  "number": 44340,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Kubectl logs -f keeps blocking even when tailed pod stops since 1.6 upgrade",
  "updated_at": "2017-04-14T02:10:28Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/44340",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/136472?v=4",
    "events_url": "https://api.github.com/users/JorritSalverda/events{/privacy}",
    "followers_url": "https://api.github.com/users/JorritSalverda/followers",
    "following_url": "https://api.github.com/users/JorritSalverda/following{/other_user}",
    "gists_url": "https://api.github.com/users/JorritSalverda/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/JorritSalverda",
    "id": 136472,
    "login": "JorritSalverda",
    "node_id": "MDQ6VXNlcjEzNjQ3Mg==",
    "organizations_url": "https://api.github.com/users/JorritSalverda/orgs",
    "received_events_url": "https://api.github.com/users/JorritSalverda/received_events",
    "repos_url": "https://api.github.com/users/JorritSalverda/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/JorritSalverda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JorritSalverda/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/JorritSalverda"
  }
}
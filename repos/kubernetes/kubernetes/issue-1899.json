{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Spawned from #1325 \n\nIt should be easy for users do two things:\n- Create new resources\n- Determine when they are \"ready\"\n\nReadiness (#620) is a complex topic, and readiness can mean different things in different contexts.  The Kubernetes client CLI and client library (see `pkg/client/conditions.go`) should provide tools for common readiness conditions and enable developers and administrators to easily script more complex readiness.  This issue _only_ covers client side readiness - server side readiness should be handled elsewhere.\n\nReadiness must have an explicit upper bound (the system may never converge) - probably manifested as a maximum timeout.  Certain errors may be transient (network, server) and some fatal (resource deleted?).  It should be possible for end users to understand the ways that readiness can fail and work through those conditions.\n\nMost resources are likely to have an implicit \"ready\" state:\n- pods - when the state is \"Running\", \"Succeeded\", or \"Failed\", depending on the restart policy\n- replicationControllers - when there are enough pods in running state to satisfy the label query\n- services - when at least one pod is running and reachable via the service?\n\nHowever, readiness can vary in infinitely complex ways\n- services - user must wait for 2 pods to be running for HA, or pods must be running in X zones\n- two services must be running and serving requests (web frontend and database tier) AND the backend database must have its schema created and at the latest version\n\nIt should be possible for users to define their own client ready conditions via scripting (potentially outside of kubectl), as long as the tools kubectl provide a common layer for behavior.\n\nPossible CLI examples:\n\n```\n$ kubectl create -c foo.json --wait\n$ kubectl create -c foo.json --wait=1m\n$ kubectl get pod my-pod --wait --wait-for=\"pod-running\"\n$ kubectl get pod my-pod --wait --wait-for --format-template='{{ if .Status.Condition == \"Running\" }}1{{ else }}0{{ end }}'\n```\n\nThings I'd like to avoid end users doing:\n- Bash `for | grep` loops on output as much as possible\n- Implementing bash timeout logic\n- Describing common yet complex conditions (replication controller at desired state) in template logic\n",
  "closed_at": "2018-05-25T13:52:48Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/8225098?v=4",
    "events_url": "https://api.github.com/users/deads2k/events{/privacy}",
    "followers_url": "https://api.github.com/users/deads2k/followers",
    "following_url": "https://api.github.com/users/deads2k/following{/other_user}",
    "gists_url": "https://api.github.com/users/deads2k/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/deads2k",
    "id": 8225098,
    "login": "deads2k",
    "node_id": "MDQ6VXNlcjgyMjUwOTg=",
    "organizations_url": "https://api.github.com/users/deads2k/orgs",
    "received_events_url": "https://api.github.com/users/deads2k/received_events",
    "repos_url": "https://api.github.com/users/deads2k/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/deads2k/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/deads2k/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/deads2k"
  },
  "comments": 74,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1899/comments",
  "created_at": "2014-10-20T15:22:42Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1899/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/1899",
  "id": 46286820,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 138247961,
      "name": "area/kubectl",
      "node_id": "MDU6TGFiZWwxMzgyNDc5NjE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/kubectl"
    },
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 134645162,
      "name": "area/usability",
      "node_id": "MDU6TGFiZWwxMzQ2NDUxNjI=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/usability"
    },
    {
      "color": "d3e2f0",
      "default": false,
      "description": "Indicates that an issue or PR should not be auto-closed due to staleness.",
      "id": 778118403,
      "name": "lifecycle/frozen",
      "node_id": "MDU6TGFiZWw3NzgxMTg0MDM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/lifecycle/frozen"
    },
    {
      "color": "eb6420",
      "default": false,
      "description": "Must be staffed and worked on either currently, or very soon, ideally in time for the next release.",
      "id": 114528223,
      "name": "priority/important-soon",
      "node_id": "MDU6TGFiZWwxMTQ1MjgyMjM=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/priority/important-soon"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG API Machinery.",
      "id": 173493835,
      "name": "sig/api-machinery",
      "node_id": "MDU6TGFiZWwxNzM0OTM4MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/api-machinery"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG CLI.",
      "id": 450823910,
      "name": "sig/cli",
      "node_id": "MDU6TGFiZWw0NTA4MjM5MTA=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/cli"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1899/labels{/name}",
  "locked": false,
  "milestone": {
    "closed_at": "2017-09-01T19:56:20Z",
    "closed_issues": 30,
    "created_at": "2016-08-22T20:06:54Z",
    "creator": {
      "avatar_url": "https://avatars0.githubusercontent.com/u/7882754?v=4",
      "events_url": "https://api.github.com/users/pwittrock/events{/privacy}",
      "followers_url": "https://api.github.com/users/pwittrock/followers",
      "following_url": "https://api.github.com/users/pwittrock/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwittrock/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/pwittrock",
      "id": 7882754,
      "login": "pwittrock",
      "node_id": "MDQ6VXNlcjc4ODI3NTQ=",
      "organizations_url": "https://api.github.com/users/pwittrock/orgs",
      "received_events_url": "https://api.github.com/users/pwittrock/received_events",
      "repos_url": "https://api.github.com/users/pwittrock/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/pwittrock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwittrock/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/pwittrock"
    },
    "description": "Closed by @calebamiles after talking with @pwittrock please contact calebamiles (on Slack) with complaints",
    "due_on": null,
    "html_url": "https://github.com/kubernetes/kubernetes/milestone/24",
    "id": 1956212,
    "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/24/labels",
    "node_id": "MDk6TWlsZXN0b25lMTk1NjIxMg==",
    "number": 24,
    "open_issues": 3,
    "state": "closed",
    "title": "UX Backlog - Stack Ranked",
    "updated_at": "2019-01-03T23:13:00Z",
    "url": "https://api.github.com/repos/kubernetes/kubernetes/milestones/24"
  },
  "node_id": "MDU6SXNzdWU0NjI4NjgyMA==",
  "number": 1899,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Allow users to wait for conditions from kubectl and using the API",
  "updated_at": "2019-04-02T15:14:44Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1899",
  "user": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/1163175?v=4",
    "events_url": "https://api.github.com/users/smarterclayton/events{/privacy}",
    "followers_url": "https://api.github.com/users/smarterclayton/followers",
    "following_url": "https://api.github.com/users/smarterclayton/following{/other_user}",
    "gists_url": "https://api.github.com/users/smarterclayton/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/smarterclayton",
    "id": 1163175,
    "login": "smarterclayton",
    "node_id": "MDQ6VXNlcjExNjMxNzU=",
    "organizations_url": "https://api.github.com/users/smarterclayton/orgs",
    "received_events_url": "https://api.github.com/users/smarterclayton/received_events",
    "repos_url": "https://api.github.com/users/smarterclayton/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/smarterclayton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smarterclayton/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/smarterclayton"
  }
}
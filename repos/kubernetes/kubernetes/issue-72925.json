{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "NONE",
  "body": "**What happened**:\r\n\r\nKubernetes scheduler may leave a single pod stuck in pending state after a worker node is reloaded/reinstalled. This problem appears to have been introduced in Kubernetes v1.12.4 and v1.13.1.  We have not been able to recreate the problem in our testing on earlier releases.  The key to the failure is that the worker being reloaded/reinstalled must be the only scheduling option available. The pending pod is eventually scheduled if a new scheduler leader is elected or the node status changes. This appears to be a timing bug since the problem does not always occur.\r\n\r\n**What you expected to happen**:\r\n\r\nNo pods are stuck in pending state.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\nStart with a single node cluster running a handful of pods.  Cordon, drain and then reload/reinstall the node.  Since this is a timing bug, it may take several iterations to recreate the problem.\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`): 1.12.4, 1.13.1 and 1.13.2\r\n- Cloud provider or hardware configuration: VMs running in VirtualBox\r\n- OS (e.g. from /etc/os-release): `Ubuntu 18.04.1 LTS`\r\n- Kernel (e.g. `uname -a`): `Linux carrier0-master-1 4.15.0-42-generic #45-Ubuntu SMP Thu Nov 15 19:32:57 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux`\r\n- Install tools: Custom ansible scripts\r\n- Others: N/A\r\n",
  "closed_at": "2019-02-02T00:59:09Z",
  "closed_by": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/14308438?v=4",
    "events_url": "https://api.github.com/users/bsalamat/events{/privacy}",
    "followers_url": "https://api.github.com/users/bsalamat/followers",
    "following_url": "https://api.github.com/users/bsalamat/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsalamat/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/bsalamat",
    "id": 14308438,
    "login": "bsalamat",
    "node_id": "MDQ6VXNlcjE0MzA4NDM4",
    "organizations_url": "https://api.github.com/users/bsalamat/orgs",
    "received_events_url": "https://api.github.com/users/bsalamat/received_events",
    "repos_url": "https://api.github.com/users/bsalamat/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/bsalamat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsalamat/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/bsalamat"
  },
  "comments": 30,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/72925/comments",
  "created_at": "2019-01-15T17:11:49Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/72925/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/72925",
  "id": 399447162,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Scheduling.",
      "id": 125550211,
      "name": "sig/scheduling",
      "node_id": "MDU6TGFiZWwxMjU1NTAyMTE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/scheduling"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/72925/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUzOTk0NDcxNjI=",
  "number": 72925,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Scheduler leaves pod stuck in pending after worker node reload",
  "updated_at": "2019-02-02T00:59:09Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/72925",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/17885615?v=4",
    "events_url": "https://api.github.com/users/rtheis/events{/privacy}",
    "followers_url": "https://api.github.com/users/rtheis/followers",
    "following_url": "https://api.github.com/users/rtheis/following{/other_user}",
    "gists_url": "https://api.github.com/users/rtheis/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/rtheis",
    "id": 17885615,
    "login": "rtheis",
    "node_id": "MDQ6VXNlcjE3ODg1NjE1",
    "organizations_url": "https://api.github.com/users/rtheis/orgs",
    "received_events_url": "https://api.github.com/users/rtheis/received_events",
    "repos_url": "https://api.github.com/users/rtheis/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/rtheis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rtheis/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/rtheis"
  }
}
{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "Start a kubecfg proxy:\n\n``` shell\n$ kubecfg --proxy --www .\nI0903 11:35:25.452421 85185 kubecfg.go:170] Starting to serve on localhost:8001\n```\n\nTry creating or updating a replication controller via proxy:\n\n``` shell\n$ export KUBERNETES_MASTER=http://localhost:8001\n$ kubecfg run dockerfile/nginx 1 test\n\nF0903 14:07:35.847876 91918 kubecfg.go:367] Error: request [&http.Request{\nMethod:\"POST\", \nURL:(*url.URL)(0xc2080269a0), \nProto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, \nHeader:http.Header{}, \nBody:ioutil.nopCloser{Reader:(*bytes.Buffer)(0xc2080268c0)}, \nContentLength:372, TransferEncoding:[]string(nil), Close:false, Host:\"localhost:8001\", \nForm:url.Values(nil), PostForm:url.Values(nil), MultipartForm:(*multipart.Form)(nil), \nTrailer:http.Header(nil), RemoteAddr:\"\", RequestURI:\"\", \nTLS:(*tls.ConnectionState)(nil)}] failed (500) 500 Internal Server Error: \n{\"kind\":\"Status\",\"creationTimestamp\":null,\"apiVersion\":\"v1beta1\",\"status\":\"failure\",\n\"message\":\"internal error: \\u0026errors.errorString{\ns:\\\"request [\\u0026http.Request{Method:\\\\\\\"POST\\\\\\\", URL:(*url.URL)(0xc2080cf490), \nProto:\\\\\\\"HTTP/1.1\\\\\\\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\\\\\\\"Authorization\\\\\\\":\n[]string{\\\\\\\"Basic YWRtaW46cHl2dklaNloxdU1HUjhMZA==\\\\\\\"}}, \nBody:(*http.body)(0xc20800e680), \nContentLength:0, TransferEncoding:[]string(nil), Close:false, Host:\\\\\\\"13.200.87.14\\\\\\\", \nForm:url.Values(nil), PostForm:url.Values(nil), MultipartForm:(*multipart.Form)(nil), \nTrailer:http.Header(nil), RemoteAddr:\\\\\\\"\\\\\\\", RequestURI:\\\\\\\"\\\\\\\", \nTLS:(*tls.ConnectionState)(nil)}] \nfailed (411) 411 Length Required: \\u003chtml\\u003e\\\\r\\\\n\\u003chead\\u003e\\u003ctitle\\u003e\n411 Length Required\\u003c/title\\u003e\\u003c/head\\u003e\\\\r\\\\n\\u003c\nbody bgcolor=\\\\\\\"white\\\\\\\"\\u003e\\\\r\\\\n\\u003ccenter\\u003e\\u003ch1\\u003e\n411 Length Required\\u003c/h1\\u003e\\u003c/center\\u003e\\\\r\\\\n\\u003chr\\u003e\\u003ccenter\\u003e\nnginx/1.2.1\\u003c/center\\u003e\\\\r\\\\n\\u003c/body\\u003e\\\\r\\\\n\\u003c/html\\u003e\\\\r\\\\n\\\"}\"}\n```\n\nor curl or any other way of sending a POST request:\n\n``` shell\n$ curl -d '{}' http://localhost:8001/api/v1beta1/replicationControllers\n... same error: 411 Length Required\n```\n\nI'm actually hitting this error from the browser (a JS client).\n\nIf you look closer to the error dump, `ContentLength` is indeed 0 for some reason.\nAlso, I suspect this error will show up on any request with a non-empty body (POST/PUT).\n",
  "closed_at": "2014-10-22T22:29:59Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/647318?v=4",
    "events_url": "https://api.github.com/users/lavalamp/events{/privacy}",
    "followers_url": "https://api.github.com/users/lavalamp/followers",
    "following_url": "https://api.github.com/users/lavalamp/following{/other_user}",
    "gists_url": "https://api.github.com/users/lavalamp/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/lavalamp",
    "id": 647318,
    "login": "lavalamp",
    "node_id": "MDQ6VXNlcjY0NzMxOA==",
    "organizations_url": "https://api.github.com/users/lavalamp/orgs",
    "received_events_url": "https://api.github.com/users/lavalamp/received_events",
    "repos_url": "https://api.github.com/users/lavalamp/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/lavalamp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lavalamp/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/lavalamp"
  },
  "comments": 2,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1149/comments",
  "created_at": "2014-09-03T13:57:45Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1149/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/1149",
  "id": 41819128,
  "labels": [],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1149/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWU0MTgxOTEyOA==",
  "number": 1149,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "kubecfg proxy \"411 Length Required\" error on POST/PUT",
  "updated_at": "2014-10-22T22:29:59Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/1149",
  "user": {
    "avatar_url": "https://avatars3.githubusercontent.com/u/25405?v=4",
    "events_url": "https://api.github.com/users/x1ddos/events{/privacy}",
    "followers_url": "https://api.github.com/users/x1ddos/followers",
    "following_url": "https://api.github.com/users/x1ddos/following{/other_user}",
    "gists_url": "https://api.github.com/users/x1ddos/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/x1ddos",
    "id": 25405,
    "login": "x1ddos",
    "node_id": "MDQ6VXNlcjI1NDA1",
    "organizations_url": "https://api.github.com/users/x1ddos/orgs",
    "received_events_url": "https://api.github.com/users/x1ddos/received_events",
    "repos_url": "https://api.github.com/users/x1ddos/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/x1ddos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/x1ddos/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/x1ddos"
  }
}
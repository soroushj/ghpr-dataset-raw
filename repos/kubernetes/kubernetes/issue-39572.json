{
  "active_lock_reason": null,
  "assignee": null,
  "assignees": [],
  "author_association": "CONTRIBUTOR",
  "body": "<!-- Thanks for filing an issue! Before hitting the button, please answer these questions.-->\r\n\r\n**What keywords did you search in Kubernetes issues before filing this one?** (If you have found any duplicates, you should instead reply there.):\r\n\r\nopenstack cinder v2\r\nPR (closed) https://github.com/kubernetes/kubernetes/pull/36976\r\n---\r\n\r\n**Is this a BUG REPORT or FEATURE REQUEST?** (choose one):\r\nFEATURE REQUEST\r\n<!--\r\nIf this is a FEATURE REQUEST, please:\r\n  - Describe *in detail* the feature/behavior/change you'd like to see.\r\n\r\nIn both cases, be ready for followup questions, and please respond in a timely\r\nmanner.  If we can't reproduce a bug or think a feature already exists, we\r\nmight close your issue.  If we're wrong, PLEASE feel free to reopen it and\r\nexplain why.\r\n-->\r\n\r\n**Kubernetes version** (use `kubectl version`):\r\n1.5.1\r\n\r\n**Environment**:\r\n- **Cloud provider or hardware configuration**:\r\n openstack\r\n- **OS** (e.g. from /etc/os-release):\r\n  CoreOS stable 1185.5.0\r\n- **Kernel** (e.g. `uname -a`):\r\n4.7.3-coreos-r3\r\n- **Install tools**:\r\nmanual (terraform custom)\r\n- **Others**:\r\n\r\n**What happened**:\r\nTrying to use PV/PVC on openstack without blockstorage v1 api support fails.\r\nWhen the controller tries to satisfy the PVC and dynamically creates a cinder volume it successfully creates a volume but the return code is 202 because it is a v2 blockstorage api. And the create request is considered failed because the v1 api should return 201. It retries and creates more volumes until it hits volume quota on the tenant. \r\n\r\n**What you expected to happen**:\r\nCreate a volume and satisfy the PVC.\r\n\r\n**How to reproduce it** (as minimally and precisely as possible):\r\nTry to use dynamic PV provisioning on openstack without blockstorage v1 api.\r\n\r\n**Anything else do we need to know**:\r\n\r\n",
  "closed_at": "2017-03-27T19:49:22Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 13,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/39572/comments",
  "created_at": "2017-01-07T19:26:30Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/39572/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/39572",
  "id": 199380016,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": "Issues or PRs related to openstack provider",
      "id": 239914558,
      "name": "area/provider/openstack",
      "node_id": "MDU6TGFiZWwyMzk5MTQ1NTg=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/provider/openstack"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/39572/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxOTkzODAwMTY=",
  "number": 39572,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Openstack blockstorage cinder v2 ",
  "updated_at": "2017-03-27T19:49:22Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/39572",
  "user": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/4397858?v=4",
    "events_url": "https://api.github.com/users/mkutsevol/events{/privacy}",
    "followers_url": "https://api.github.com/users/mkutsevol/followers",
    "following_url": "https://api.github.com/users/mkutsevol/following{/other_user}",
    "gists_url": "https://api.github.com/users/mkutsevol/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/mkutsevol",
    "id": 4397858,
    "login": "mkutsevol",
    "node_id": "MDQ6VXNlcjQzOTc4NTg=",
    "organizations_url": "https://api.github.com/users/mkutsevol/orgs",
    "received_events_url": "https://api.github.com/users/mkutsevol/received_events",
    "repos_url": "https://api.github.com/users/mkutsevol/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/mkutsevol/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mkutsevol/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/mkutsevol"
  }
}
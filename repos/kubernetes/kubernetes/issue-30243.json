{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/576341?v=4",
    "events_url": "https://api.github.com/users/soltysh/events{/privacy}",
    "followers_url": "https://api.github.com/users/soltysh/followers",
    "following_url": "https://api.github.com/users/soltysh/following{/other_user}",
    "gists_url": "https://api.github.com/users/soltysh/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/soltysh",
    "id": 576341,
    "login": "soltysh",
    "node_id": "MDQ6VXNlcjU3NjM0MQ==",
    "organizations_url": "https://api.github.com/users/soltysh/orgs",
    "received_events_url": "https://api.github.com/users/soltysh/received_events",
    "repos_url": "https://api.github.com/users/soltysh/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/soltysh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/soltysh/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/soltysh"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars2.githubusercontent.com/u/576341?v=4",
      "events_url": "https://api.github.com/users/soltysh/events{/privacy}",
      "followers_url": "https://api.github.com/users/soltysh/followers",
      "following_url": "https://api.github.com/users/soltysh/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltysh/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/soltysh",
      "id": 576341,
      "login": "soltysh",
      "node_id": "MDQ6VXNlcjU3NjM0MQ==",
      "organizations_url": "https://api.github.com/users/soltysh/orgs",
      "received_events_url": "https://api.github.com/users/soltysh/received_events",
      "repos_url": "https://api.github.com/users/soltysh/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/soltysh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltysh/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/soltysh"
    }
  ],
  "author_association": "NONE",
  "body": "A max number of failures or failure backoff policy for Jobs would be useful.\n\nImagine you have an ETL job in production that's failing due to some pathological input.\nBy the time you spot it, it's already been rescheduled thousands of times. As an example, I had 20 broken jobs that kept getting rescheduled; killing them took forever -- and crashed the Kubernetes dashboard in the process.\n\nToday, \"restartPolicy\" is not respected by Jobs because the goal is to achieve successful completion. (Strangely, \"restartPolicy: Never\" is still valid YAML.) This means failed jobs keep getting rescheduled. When you go to delete them, you have to delete all the pods they've been scheduled on. Deletes are rate limited, and in v1.3+, the verbose \"you're being throttled\" messages are hidden from you when you run the `kubectl` command to delete a job. So it just looks like it's taking forever! This is not a pleasant UX if you have a runaway job in prod or if you're testing out a new job and it takes minutes to clean up after a broken test.\n\nWhat are your thoughts on specifying a maximum number of failures/retries or adding a failure backoff restart policy?\n\n(cc @thockin , who [suggested I file this feature request](https://twitter.com/zazius/status/758816688171126784))\n\n---\n\nNinja edit: [per this SO thread](http://stackoverflow.com/questions/35141607/is-there-a-max-retries-for-kubernetes-jobs), the throttling issue is avoidable by using the OnFailure restart policy to keep rescheduling to the same pods, rather than to new pods -- i.e. this prevents the explosion of the number of pods. And deadlines can help weed out failures after a certain amount of time.\n\nHowever, suppose my ETL job takes an hour to run properly but may fail within seconds if the input data is bad. I'd rather specify a maximum number of retries than a high deadline.\n",
  "closed_at": "2017-09-03T01:18:55Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 31,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/30243/comments",
  "created_at": "2016-08-08T20:46:25Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/30243/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/30243",
  "id": 170021320,
  "labels": [
    {
      "color": "0052cc",
      "default": false,
      "description": null,
      "id": 136892195,
      "name": "area/batch",
      "node_id": "MDU6TGFiZWwxMzY4OTIxOTU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/area/batch"
    },
    {
      "color": "d2b48c",
      "default": false,
      "description": "Categorizes an issue or PR as relevant to SIG Apps.",
      "id": 404091735,
      "name": "sig/apps",
      "node_id": "MDU6TGFiZWw0MDQwOTE3MzU=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/sig/apps"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/30243/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUxNzAwMjEzMjA=",
  "number": 30243,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Maximum number of failures or failure backoff policy for Jobs",
  "updated_at": "2017-09-03T01:18:55Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/30243",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/141115?v=4",
    "events_url": "https://api.github.com/users/maximz/events{/privacy}",
    "followers_url": "https://api.github.com/users/maximz/followers",
    "following_url": "https://api.github.com/users/maximz/following{/other_user}",
    "gists_url": "https://api.github.com/users/maximz/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/maximz",
    "id": 141115,
    "login": "maximz",
    "node_id": "MDQ6VXNlcjE0MTExNQ==",
    "organizations_url": "https://api.github.com/users/maximz/orgs",
    "received_events_url": "https://api.github.com/users/maximz/received_events",
    "repos_url": "https://api.github.com/users/maximz/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/maximz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/maximz/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/maximz"
  }
}
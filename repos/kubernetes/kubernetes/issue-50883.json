{
  "active_lock_reason": null,
  "assignee": {
    "avatar_url": "https://avatars1.githubusercontent.com/u/4178417?v=4",
    "events_url": "https://api.github.com/users/andyzhangx/events{/privacy}",
    "followers_url": "https://api.github.com/users/andyzhangx/followers",
    "following_url": "https://api.github.com/users/andyzhangx/following{/other_user}",
    "gists_url": "https://api.github.com/users/andyzhangx/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/andyzhangx",
    "id": 4178417,
    "login": "andyzhangx",
    "node_id": "MDQ6VXNlcjQxNzg0MTc=",
    "organizations_url": "https://api.github.com/users/andyzhangx/orgs",
    "received_events_url": "https://api.github.com/users/andyzhangx/received_events",
    "repos_url": "https://api.github.com/users/andyzhangx/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/andyzhangx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andyzhangx/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/andyzhangx"
  },
  "assignees": [
    {
      "avatar_url": "https://avatars1.githubusercontent.com/u/4178417?v=4",
      "events_url": "https://api.github.com/users/andyzhangx/events{/privacy}",
      "followers_url": "https://api.github.com/users/andyzhangx/followers",
      "following_url": "https://api.github.com/users/andyzhangx/following{/other_user}",
      "gists_url": "https://api.github.com/users/andyzhangx/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andyzhangx",
      "id": 4178417,
      "login": "andyzhangx",
      "node_id": "MDQ6VXNlcjQxNzg0MTc=",
      "organizations_url": "https://api.github.com/users/andyzhangx/orgs",
      "received_events_url": "https://api.github.com/users/andyzhangx/received_events",
      "repos_url": "https://api.github.com/users/andyzhangx/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andyzhangx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andyzhangx/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andyzhangx"
    }
  ],
  "author_association": "CONTRIBUTOR",
  "body": "**Is this a BUG REPORT or FEATURE REQUEST?**:\r\n\r\n/kind bug\r\n\r\n**What happened**:\r\nThe azure_dd plugin will always provision two instances of storage account with different type during init.\r\n\r\nThere could be cases when:\r\n1. User may only want to use one certain type of storage account, then the other type of storage account would be not in use.\r\n2. User chooses to use managed disk, both of the storage account would be not in use. \r\n\r\nThere is a limit for storage account numbers per subscription, and the storage account should be created with a on-demand policy.\r\n\r\nLog:\r\n```\r\nI0818 03:00:14.709321       1 azure_blobDiskController.go:354] azureDisk - BlobDiskController init process  will create new storageAccount:pvc2365976634001 type:Premium_LRS\r\nI0818 03:00:14.709693       1 azure_blobDiskController.go:354] azureDisk - BlobDiskController init process  will create new storageAccount:pvc2365976634002 type:Standard_LRS\r\nI0818 03:00:14.739106       1 azure_blobDiskController.go:602] azureDisk - Creating storage account pvc2365976634001 type Premium_LRS \r\nI0818 03:00:14.759665       1 azure_blobDiskController.go:602] azureDisk - Creating storage account pvc2365976634002 type Standard_LRS\r\n```\r\nCode:\r\nhttps://github.com/kubernetes/kubernetes/blob/9e97b5249bdd105705bfa6a7c6da477e8bde57d1/pkg/cloudprovider/providers/azure/azure_blobDiskController.go#L335-L366\r\n\r\n\r\n**What you expected to happen**:\r\nThe storage accounts be created on-demand.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\nSetup a kubernetes v1.7.2 cluster on Azure, create a dynamic pvc.\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version (use `kubectl version`):\r\n```\r\nClient Version: version.Info{Major:\"1\", Minor:\"7\", GitVersion:\"v1.7.0\", GitCommit:\"d3ada0119e776222f11ec7945e6d860061339aad\", GitTreeState:\"clean\", BuildDate:\"2017-06-29T23:15:59Z\", GoVersion:\"go1.8.3\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"7\", GitVersion:\"v1.7.2\", GitCommit:\"922a86cfcd65915a9b2f69f3f193b8907d741d9c\", GitTreeState:\"clean\", BuildDate:\"2017-07-21T08:08:00Z\", GoVersion:\"go1.8.3\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n- Cloud provider or hardware configuration**:\r\nAzure\r\n",
  "closed_at": "2017-11-18T20:26:09Z",
  "closed_by": {
    "avatar_url": "https://avatars0.githubusercontent.com/u/13653959?v=4",
    "events_url": "https://api.github.com/users/k8s-github-robot/events{/privacy}",
    "followers_url": "https://api.github.com/users/k8s-github-robot/followers",
    "following_url": "https://api.github.com/users/k8s-github-robot/following{/other_user}",
    "gists_url": "https://api.github.com/users/k8s-github-robot/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/k8s-github-robot",
    "id": 13653959,
    "login": "k8s-github-robot",
    "node_id": "MDQ6VXNlcjEzNjUzOTU5",
    "organizations_url": "https://api.github.com/users/k8s-github-robot/orgs",
    "received_events_url": "https://api.github.com/users/k8s-github-robot/received_events",
    "repos_url": "https://api.github.com/users/k8s-github-robot/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/k8s-github-robot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k8s-github-robot/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/k8s-github-robot"
  },
  "comments": 4,
  "comments_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/50883/comments",
  "created_at": "2017-08-18T03:24:10Z",
  "events_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/50883/events",
  "html_url": "https://github.com/kubernetes/kubernetes/issues/50883",
  "id": 251129412,
  "labels": [
    {
      "color": "e11d21",
      "default": false,
      "description": "Categorizes issue or PR as related to a bug.",
      "id": 105146071,
      "name": "kind/bug",
      "node_id": "MDU6TGFiZWwxMDUxNDYwNzE=",
      "url": "https://api.github.com/repos/kubernetes/kubernetes/labels/kind/bug"
    }
  ],
  "labels_url": "https://api.github.com/repos/kubernetes/kubernetes/issues/50883/labels{/name}",
  "locked": false,
  "milestone": null,
  "node_id": "MDU6SXNzdWUyNTExMjk0MTI=",
  "number": 50883,
  "performed_via_github_app": null,
  "repository_url": "https://api.github.com/repos/kubernetes/kubernetes",
  "state": "closed",
  "title": "Azure data disk should provision storage account on on-demand",
  "updated_at": "2017-11-18T20:26:09Z",
  "url": "https://api.github.com/repos/kubernetes/kubernetes/issues/50883",
  "user": {
    "avatar_url": "https://avatars2.githubusercontent.com/u/10071498?v=4",
    "events_url": "https://api.github.com/users/karataliu/events{/privacy}",
    "followers_url": "https://api.github.com/users/karataliu/followers",
    "following_url": "https://api.github.com/users/karataliu/following{/other_user}",
    "gists_url": "https://api.github.com/users/karataliu/gists{/gist_id}",
    "gravatar_id": "",
    "html_url": "https://github.com/karataliu",
    "id": 10071498,
    "login": "karataliu",
    "node_id": "MDQ6VXNlcjEwMDcxNDk4",
    "organizations_url": "https://api.github.com/users/karataliu/orgs",
    "received_events_url": "https://api.github.com/users/karataliu/received_events",
    "repos_url": "https://api.github.com/users/karataliu/repos",
    "site_admin": false,
    "starred_url": "https://api.github.com/users/karataliu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karataliu/subscriptions",
    "type": "User",
    "url": "https://api.github.com/users/karataliu"
  }
}